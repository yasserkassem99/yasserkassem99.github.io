(this["webpackJsonpride-admin"]=this["webpackJsonpride-admin"]||[]).push([[12],{212:function(e,t,a){e.exports={tabContainer:"tabs_tabContainer__2kTKb",appBarContainer:"tabs_appBarContainer__1KZVn",tabsRoot:"tabs_tabsRoot__3aacz",info:"tabs_info__14Gjr",part1:"tabs_part1__28n6v",part2:"tabs_part2__JbedV",profilePhoto:"tabs_profilePhoto__3blbl",trips:"tabs_trips__2rwtW",chooseAccountText:"tabs_chooseAccountText__2CVrz",accountTansactions:"tabs_accountTansactions__gXhSQ",table:"tabs_table__1QC1j",financialCardsWrapper:"tabs_financialCardsWrapper__4YBFa",carDetails:"tabs_carDetails__1-3KP",carTitle:"tabs_carTitle__3mWu_",carInfo:"tabs_carInfo__3NgMm",carInfoItem:"tabs_carInfoItem__2a37x",carAvatar:"tabs_carAvatar__A4xKp",actionsMenu:"tabs_actionsMenu__3Qut7"}},214:function(e,t,a){e.exports={container:"advance_container__v2PE0",dateContainer:"advance_dateContainer__WKCvT",dateName:"advance_dateName__1n3j0",dateInput:"advance_dateInput__3Pzqm",rateingContainer:"advance_rateingContainer__mzKBN",formControl:"advance_formControl__raLGb",badgesFilter:"advance_badgesFilter__RAnbW",badge:"advance_badge__3hvlO"}},219:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(8),i=a(40),r=function(e){return function(t){var a=Object(i.a)(e.slice(1,e.length).toUpperCase());return t({type:n.b,currentPage:a,path:e})}}},222:function(e,t,a){"use strict";var n=a(76),i=a(71),r=a(72),l=a(74),c=a(73),s=a(75),o=a(0),d=a.n(o),m=a(12),u=a(376),h=a(400),p=a(191),E=a(431),f=a(250),b=a.n(f),_=a(40),v=a(251),g=a.n(v),y=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).state={anchorEl:null},a.getIcon=function(e){switch(e){case"UPDATE":return"far fa-edit";case"CANCEL":return"fas fa-ban";case"CLOSE":return"fas fa-times-circle";case"DELETE":return"fas fa-trash";case"REJECT":return"far fa-thumbs-down";case"ACTIVATE":return"fas fa-user-check";case"DEACTIVATE":return"fas fa-user-times";default:return"fas fa-user"}},a.getPermissionsToDoOnObject=function(e,t){var i=a.props.document_id||null,r=[];a.props.permissions&&a.props.permissions[e]&&a.props.permissions[e][t]&&(Object(n.a)(a.props.permissions[e][t]).forEach((function(e){r.push(d.a.createElement(h.a,{key:e.label,onClick:function(){a.props.onActionClicked(e.label,i),setTimeout((function(){a.handleClose()}),0)}},d.a.createElement("i",{style:{margin:"0px 5px"},className:a.getIcon(e.icon)}),Object(_.a)(e.label)))})),a.props.permissions[e]["NO-STATUS"]&&a.props.permissions[e]["NO-STATUS"].forEach((function(e){r.push(d.a.createElement(h.a,{key:e.label,onClick:function(){a.props.onActionClicked(e.label,i),setTimeout((function(){a.handleClose()}),0)}},d.a.createElement("i",{style:{margin:"0px 5px"},className:a.getIcon(e.icon)}),Object(_.a)(e.label)))})));return r},a.renderMenuList=function(){if(a.props.object&&a.props.status)return a.getPermissionsToDoOnObject(a.props.object,a.props.status)},a.handleClick=function(e){a.setState({anchorEl:e.currentTarget})},a.handleClose=function(){a.setState({anchorEl:null})},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props.permissions&&this.props.permissions.NOTIFICATION,a=d.a.createElement(p.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:this.handleClick},d.a.createElement(b.a,null)),n=null;return t&&t.CREATE&&("DRIVER"===this.props.object||"RIDER"===this.props.object)&&(n=d.a.createElement(E.a,{title:Object(_.a)("CREATE_NOTIFICATION")},d.a.createElement(p.a,{onClick:function(){return e.props.onActionClicked("CREATE_NOTIFICATION")}},d.a.createElement(g.a,null)))),d.a.createElement("div",{style:{display:"flex"}},this.props.status&&this.props.object&&this.renderMenuList().length>0?a:null,n,d.a.createElement(u.a,{anchorEl:this.state.anchorEl,keepMounted:!0,open:Boolean(this.state.anchorEl),onClose:this.handleClose},this.props.status&&this.props.object&&this.renderMenuList()))}}]),t}(o.Component);t.a=Object(m.b)((function(e){return{permissions:e.permissions.permissions}}),{})(y)},225:function(e,t,a){"use strict";var n=a(18),i=a(71),r=a(72),l=a(74),c=a(73),s=a(75),o=a(0),d=a.n(o),m=a(426),u=a(402),h=a(191),p=a(248),E=a.n(p),f=a(76),b=a(214),_=a.n(b),v=a(232),g=a(416),y=a(216),O=a(430),C=a(431),D=a(69),j=a(428),T=a(422),A=a(400),k=a(201),S=a(432),N=a(398),P=a(40),V=a(218),I=a.n(V),R=a(215),x=a.n(R);function F(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?F(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):F(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var L=function(e){return"".concat(e,"*")},M=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(r)))).initialState={date_type:"create-date",rate:[1,5],verification_status:"",date_from:new Date("October 28, 2019"),date_to:new Date,Colors:"riders"===a.props.id?["default","default","default"]:["default","default","default","default","default"],chipsFilters:"riders"===a.props.id?[{key:0,label:Object(P.a)("VERIFIED"),value:"pink",disabled:!1},{key:1,label:Object(P.a)("1"),value:"1",disabled:!1},{key:2,label:Object(P.a)("2"),value:"2",disabled:!1}]:[{key:0,label:Object(P.a)("REJECTED"),value:"REJECTED",disabled:!1},{key:1,label:Object(P.a)("1"),value:"1",disabled:!1},{key:2,label:Object(P.a)("2"),value:"2",disabled:!1},{key:3,label:Object(P.a)("APPROVED"),value:"APPROVED",disabled:!1},{key:4,label:Object(P.a)("PENDING"),value:"PENDING",disabled:!1}],gender:"",service_type:"",flage:!1,changed:!1},a.state=w({},a.initialState),a.handledateTypeChange=function(e){a.setState({date_type:e.target.value,changed:!0})},a.handleDateFromChange=function(e){a.setState({date_from:e,changed:!0})},a.handleDateToChange=function(e){a.setState({date_to:e,changed:!0})},a.handleRateChange=function(e,t){a.setState({rate:t,changed:!0})},a.clearFilters=function(){a.setState(w({},a.initialState,{chipsFilters:"riders"===a.props.id?[{key:0,label:Object(P.a)("VERIFIED"),value:"pink",disabled:!1},{key:1,label:Object(P.a)("1"),value:"1",disabled:!1},{key:2,label:Object(P.a)("2"),value:"2",disabled:!1}]:[{key:0,label:Object(P.a)("REJECTED"),value:"REJECTED",disabled:!1},{key:1,label:Object(P.a)("1"),value:"1",disabled:!1},{key:2,label:Object(P.a)("2"),value:"2",disabled:!1},{key:3,label:Object(P.a)("APPROVED"),value:"APPROVED",disabled:!1},{key:4,label:Object(P.a)("PENDING"),value:"PENDING",disabled:!1}]}),(function(){a.submitQuickFiltersAndSearch(!0)}))},a.handleChipClick=function(e,t){var n=Object(f.a)(a.state.Colors);n[e.key]="primary",a.setState({Colors:n});var i=Object(f.a)(a.state.chipsFilters),r=a.state.gender,l=a.state.service_type,c=a.state.verification_status;"pink"===e.value&&(i[1].disabled=!0,l=e.value),"1"===e.value&&(i[0].disabled=!0,i[2].disabled=!0,r=1),"2"===e.value&&(i[1].disabled=!0,r=2),"REJECTED"===e.value&&(i[3].disabled=!0,i[4].disabled=!0,c=e.value),"APPROVED"===e.value&&(i[0].disabled=!0,i[4].disabled=!0,c=e.value),"PENDING"===e.value&&(i[0].disabled=!0,i[3].disabled=!0,c=e.value),a.setState({chipsFilters:i,gender:r,service_type:l,verification_status:c},(function(){a.submitQuickFiltersAndSearch()}))},a.handleChipDelete=function(e,t){var n=Object(f.a)(a.state.Colors);n[e.key]="default",a.setState({Colors:n});var i=Object(f.a)(a.state.chipsFilters),r=a.state.gender,l=a.state.service_type,c=a.state.verification_status,s=!1;"pink"===e.value&&(l="",2!==r&&(i[1].disabled=!1)),"1"===e.value&&(i[0].disabled=!1,i[2].disabled=!1,r=""),"2"===e.value&&(l||(i[1].disabled=!1),r=""),"REJECTED"!==e.value&&"APPROVED"!==e.value&&"PENDING"!==e.value||(c="",i[0].disabled=!1,i[3].disabled=!1,i[4].disabled=!1),r===a.state.gender&&l===a.state.service_type&&c===a.state.verification_status||(s=!0),a.setState({chipsFilters:i,gender:r,service_type:l,verification_status:c},(function(){s&&a.submitQuickFiltersAndSearch()}))},a.submitFiltersAndSearch=function(){var e={gender:a.state.gender,service_type:a.state.service_type,verification_status:a.state.verification_status};a.state.changed&&(e=a.state),a.props.search(e,!1),a.props.handleClose()},a.submitQuickFiltersAndSearch=function(e){if(e)a.props.search(null,"clear");else{var t={gender:a.state.gender,service_type:a.state.service_type,verification_status:a.state.verification_status};a.state.changed&&(t=a.state),a.props.search(t)}},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.state.chipsFilters,a=d.a.createElement(d.a.Fragment,null,t.map((function(t){return d.a.createElement(O.a,{key:t.key,onDelete:function(){return e.handleChipDelete(t,e.props.id)},disabled:t.disabled,classes:{root:_.a.badge},label:t.label,color:e.state.Colors[t.key],onClick:function(){return e.handleChipClick(t,e.props.id)}})})));return d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:_.a.badgesFilter},d.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},a),d.a.createElement("div",{style:{display:"flex"}},d.a.createElement(C.a,{title:Object(P.a)("clearFilters")},d.a.createElement(h.a,{onClick:this.clearFilters},d.a.createElement(I.a,null))),d.a.createElement(C.a,{title:Object(P.a)("refresh\u064c")},d.a.createElement(h.a,{onClick:this.submitFiltersAndSearch},d.a.createElement(x.a,null))))),d.a.createElement(N.a,{id:"simple-popover",open:Boolean(this.props.anchorElement),anchorEl:this.props.anchorEl,onClose:this.props.handleClose,anchorOrigin:{vertical:"bottom",horizontal:"ltr"===this.props.direction?"right":"left"},transformOrigin:{vertical:"top",horizontal:"ltr"===this.props.direction?"right":"left"}},d.a.createElement(D.a,{style:w({padding:10},this.props.modalStyle)},d.a.createElement("div",{className:_.a.container},d.a.createElement("div",{className:_.a.rateingContainer},d.a.createElement("div",{style:{paddingTop:14}},d.a.createElement(j.a,{style:{fontSize:18,fontWeight:"600",marginTop:0,color:"#000"},shrink:!0},Object(P.a)("DATE_TYPE"),":")),d.a.createElement(T.a,{value:this.state.date_type,onChange:this.handledateTypeChange,style:{minWidth:200}},d.a.createElement(A.a,{value:"create-date"},Object(P.a)("CREATE_DATE")))),d.a.createElement("div",{className:_.a.rateingContainer},d.a.createElement("div",{style:{paddingTop:14}},d.a.createElement(j.a,{style:{fontSize:18,fontWeight:"600",marginTop:0,color:"#000"},shrink:!0},Object(P.a)("FROM"),":")),d.a.createElement(v.a,{utils:y.a},d.a.createElement(g.a,{style:{maxWidth:201},disableToolbar:!0,variant:"inline",format:"DD-MM-YYYY",margin:"normal",id:"date-picker-inline",value:this.state.date_from,onChange:this.handleDateFromChange,KeyboardButtonProps:{"aria-label":"change date"}}))),d.a.createElement("div",{className:_.a.rateingContainer},d.a.createElement("div",{style:{paddingTop:14}},d.a.createElement(j.a,{style:{fontSize:18,fontWeight:"600",marginTop:0,color:"#000"},shrink:!0},Object(P.a)("TO"),":")),d.a.createElement(v.a,{utils:y.a},d.a.createElement(g.a,{style:{maxWidth:201},disableToolbar:!0,variant:"inline",format:"DD-MM-YYYY",margin:"normal",value:this.state.date_to,onChange:this.handleDateToChange,KeyboardButtonProps:{"aria-label":"change date"}}))),d.a.createElement("div",{className:_.a.rateingContainer},d.a.createElement("div",null,d.a.createElement(j.a,{style:{fontSize:18,fontWeight:"600",marginTop:0,color:"#000"},shrink:!0,id:"demo-simple-select-label"},Object(P.a)("RATING"),":")),d.a.createElement("div",{style:{width:"200px",marginTop:10}},d.a.createElement(S.a,{max:5,min:1,value:this.state.rate,onChange:this.handleRateChange,valueLabelDisplay:"auto","aria-labelledby":"range-slider",getAriaValueText:L}))),d.a.createElement("div",{className:_.a.Button},d.a.createElement(k.a,{variant:"contained",color:"secondary",onClick:function(){return e.submitFiltersAndSearch(!1)}}," ",Object(P.a)("SEARCH")))))))}}]),t}(o.Component),H=a(12);function Y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function B(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Y(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Y(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var W=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(r)))).initialState={category:"",status:"",date:new Date("October 28, 2019"),Colors:["default","default","default"],chipsFilters:[{key:0,label:Object(P.a)("COMPLETED"),value:"COMPLETED",disabled:!1},{key:1,label:Object(P.a)("CANCELED"),value:"CANCELED",disabled:!1},{key:2,label:Object(P.a)("ACTIVE"),value:"ACTIVE",disabled:!1}],flage:!1,changed:!1},a.state=B({},a.initialState),a.handleDateChange=function(e){a.setState({date:e,changed:!0})},a.handleStatusChange=function(e){a.setState({status:e.target.value,changed:!0})},a.clearFilters=function(){a.setState(B({},a.initialState,{chipsFilters:[{key:0,label:Object(P.a)("COMPLETED"),value:"COMPLETED",disabled:!1},{key:1,label:Object(P.a)("CANCELED"),value:"CANCELED",disabled:!1},{key:2,label:Object(P.a)("ACTIVE"),value:"ACTIVE",disabled:!1}]}),(function(){a.submitQuickFiltersAndSearch(!0)}))},a.handleChipClick=function(e,t){var n=Object(f.a)(a.state.Colors);n[e.key]="primary",a.setState({Colors:n});var i=Object(f.a)(a.state.chipsFilters),r=a.state.category;"COMPLETED"===e.value&&(i[1].disabled=!0,i[2].disabled=!0,r=e.value),"CANCELED"===e.value&&(i[0].disabled=!0,i[2].disabled=!0,r=e.value),"ACTIVE"===e.value&&(i[0].disabled=!0,i[1].disabled=!0,r=e.value),a.setState({chipsFilters:i,category:r},(function(){a.submitQuickFiltersAndSearch()}))},a.handleChipDelete=function(e,t){var n=Object(f.a)(a.state.Colors);n[e.key]="default",a.setState({Colors:n});var i=Object(f.a)(a.state.chipsFilters),r=a.state.category,l=!1;"COMPLETED"===e.value&&(r="",i[1].disabled=!1,i[2].disabled=!1),"CANCELED"===e.value&&(i[0].disabled=!1,i[2].disabled=!1,r=""),"ACTIVE"===e.value&&(i[0].disabled=!1,i[1].disabled=!1,r=""),r!==a.state.category&&(l=!0),a.setState({chipsFilters:i,category:r},(function(){l&&a.submitQuickFiltersAndSearch()}))},a.submitFiltersAndSearch=function(){var e={category:a.state.category};a.state.changed&&(e=a.state),a.props.search(e,!1),a.props.handleClose()},a.submitQuickFiltersAndSearch=function(e){if(e)a.props.search(null,"clear");else{var t={category:a.state.category};a.state.changed&&(t=a.state),a.props.search(t)}},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.state.chipsFilters,a=d.a.createElement(d.a.Fragment,null,t.map((function(t){return d.a.createElement(O.a,{key:t.key,onDelete:function(){return e.handleChipDelete(t,e.props.id)},disabled:t.disabled,classes:{root:_.a.badge},label:t.label,color:e.state.Colors[t.key],onClick:function(){return e.handleChipClick(t,e.props.id)}})})));return d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:_.a.badgesFilter},d.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},a),d.a.createElement("div",{style:{display:"flex"}},d.a.createElement(C.a,{title:Object(P.a)("clearFilters")},d.a.createElement(h.a,{onClick:this.clearFilters},d.a.createElement(I.a,null))),d.a.createElement(C.a,{title:Object(P.a)("refresh\u064c")},d.a.createElement(h.a,{onClick:this.submitFiltersAndSearch},d.a.createElement(x.a,null))))),d.a.createElement(N.a,{id:"simple-popover",open:Boolean(this.props.anchorElement),anchorEl:this.props.anchorEl,onClose:this.props.handleClose,anchorOrigin:{vertical:"bottom",horizontal:"ltr"===this.props.direction?"right":"left"},transformOrigin:{vertical:"top",horizontal:"ltr"===this.props.direction?"right":"left"}},d.a.createElement(D.a,{style:B({padding:10},this.props.modalStyle)},d.a.createElement("div",{className:_.a.container,style:{minHeight:200,minWidth:200}},d.a.createElement("div",{className:_.a.rateingContainer,style:{justifyContent:"space-evenly"}},d.a.createElement("div",{style:{paddingTop:14}},d.a.createElement(j.a,{style:{fontSize:18,fontWeight:"600",marginTop:0,color:"#000"},shrink:!0},Object(P.a)("FROM"),":")),d.a.createElement(v.a,{utils:y.a},d.a.createElement(g.a,{style:{maxWidth:200},disableToolbar:!0,variant:"inline",format:"DD-MM-YYYY",margin:"normal",id:"date-picker-inline",value:this.state.date,onChange:this.handleDateChange,KeyboardButtonProps:{"aria-label":"change date"}}))),d.a.createElement("div",{className:_.a.rateingContainer,style:{justifyContent:"space-evenly"}},d.a.createElement("div",{style:{paddingTop:14}},d.a.createElement(j.a,{style:{fontSize:18,fontWeight:"600",marginTop:0,color:"#000"},shrink:!0},Object(P.a)("STATUS"),":")),d.a.createElement(T.a,{value:this.state.status,onChange:this.handleStatusChange,style:{minWidth:200}},U.map((function(e){return d.a.createElement(A.a,{key:e,value:e},Object(P.a)(e))})))),d.a.createElement("div",{className:_.a.Button},d.a.createElement(k.a,{variant:"contained",color:"secondary",onClick:function(){return e.submitFiltersAndSearch(!1)}}," ",Object(P.a)("SEARCH")))))))}}]),t}(o.Component),U=["NEW","ACCEPTED","ARRIVED","STARTED","ENDED","CANCELED_BY_USER","CANCELED_BY_DRIVER","CANCELED_BY_ADMIN","CANCELED","PARTIALLY_ACCEPTED","REJECTED","REJECTED_BY_ALL_DRIVERS","COMPLETED"],J=W;function G(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?G(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):G(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Q=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(r)))).initialState={verification_status:"",service_type:"",date_from:new Date("October 28, 2019"),date_to:new Date,Colors:["default","default","default"],chipsFilters:[{key:0,label:Object(P.a)("APPROVED"),value:"APPROVED",disabled:!1},{key:1,label:Object(P.a)("PENDING"),value:"PENDING",disabled:!1},{key:2,label:Object(P.a)("REJECTED"),value:"REJECTED",disabled:!1}],flage:!1,changed:!1},a.state=z({},a.initialState),a.handleDateFromChange=function(e){a.setState({date_from:e,changed:!0})},a.handleDateToChange=function(e){a.setState({date_to:e,changed:!0})},a.handleStatusChange=function(e){a.setState({service_type:e.target.value,changed:!0})},a.clearFilters=function(){a.setState(z({},a.initialState,{chipsFilters:[{key:0,label:Object(P.a)("APPROVED"),value:"APPROVED",disabled:!1},{key:1,label:Object(P.a)("PENDING"),value:"PENDING",disabled:!1},{key:2,label:Object(P.a)("REJECTED"),value:"REJECTED",disabled:!1}]}),(function(){a.submitQuickFiltersAndSearch(!0)}))},a.handleChipClick=function(e,t){var n=Object(f.a)(a.state.Colors);n[e.key]="primary",a.setState({Colors:n});var i=Object(f.a)(a.state.chipsFilters),r=a.state.verification_status;"APPROVED"===e.value&&(i[1].disabled=!0,i[2].disabled=!0,r=e.value),"PENDING"===e.value&&(i[0].disabled=!0,i[2].disabled=!0,r=e.value),"REJECTED"===e.value&&(i[0].disabled=!0,i[1].disabled=!0,r=e.value),a.setState({chipsFilters:i,verification_status:r},(function(){a.submitQuickFiltersAndSearch()}))},a.handleChipDelete=function(e,t){var n=Object(f.a)(a.state.Colors);n[e.key]="default",a.setState({Colors:n});var i=Object(f.a)(a.state.chipsFilters),r=a.state.verification_status,l=!1;"APPROVED"===e.value&&(r="",i[1].disabled=!1,i[2].disabled=!1),"PENDING"===e.value&&(i[0].disabled=!1,i[2].disabled=!1,r=""),"REJECTED"===e.value&&(i[0].disabled=!1,i[1].disabled=!1,r=""),r!==a.state.verification_status&&(l=!0),a.setState({chipsFilters:i,verification_status:r},(function(){l&&a.submitQuickFiltersAndSearch()}))},a.submitFiltersAndSearch=function(){var e={verification_status:a.state.verification_status};a.state.changed&&(e=a.state),a.props.search(e,!1),a.props.handleClose()},a.submitQuickFiltersAndSearch=function(e){if(e)a.props.search(null,"clear");else{var t={verification_status:a.state.verification_status};a.state.changed&&(t=a.state),a.props.search(t)}},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.state.chipsFilters,a=d.a.createElement(d.a.Fragment,null,t.map((function(t){return d.a.createElement(O.a,{key:t.key,onDelete:function(){return e.handleChipDelete(t,e.props.id)},disabled:t.disabled,classes:{root:_.a.badge},label:t.label,color:e.state.Colors[t.key],onClick:function(){return e.handleChipClick(t,e.props.id)}})})));return d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:_.a.badgesFilter},d.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},a),d.a.createElement("div",{style:{display:"flex"}},d.a.createElement(C.a,{title:Object(P.a)("clearFilters")},d.a.createElement(h.a,{onClick:this.clearFilters},d.a.createElement(I.a,null))),d.a.createElement(C.a,{title:Object(P.a)("refresh\u064c")},d.a.createElement(h.a,{onClick:this.submitFiltersAndSearch},d.a.createElement(x.a,null))))),d.a.createElement(N.a,{id:"simple-popover",open:Boolean(this.props.anchorElement),anchorEl:this.props.anchorEl,onClose:this.props.handleClose,anchorOrigin:{vertical:"bottom",horizontal:"ltr"===this.props.direction?"right":"left"},transformOrigin:{vertical:"top",horizontal:"ltr"===this.props.direction?"right":"left"}},d.a.createElement(D.a,{style:z({padding:10},this.props.modalStyle)},d.a.createElement("div",{className:_.a.container,style:{minHeight:200,minWidth:200}},d.a.createElement("div",{className:_.a.rateingContainer},d.a.createElement("div",{style:{paddingTop:14}},d.a.createElement(j.a,{style:{fontSize:18,fontWeight:"600",marginTop:0,color:"#000"},shrink:!0},Object(P.a)("FROM"),":")),d.a.createElement(v.a,{utils:y.a},d.a.createElement(g.a,{style:{maxWidth:201},disableToolbar:!0,variant:"inline",format:"DD-MM-YYYY",margin:"normal",id:"date-picker-inline",value:this.state.date_from,onChange:this.handleDateFromChange,KeyboardButtonProps:{"aria-label":"change date"}}))),d.a.createElement("div",{className:_.a.rateingContainer},d.a.createElement("div",{style:{paddingTop:14}},d.a.createElement(j.a,{style:{fontSize:18,fontWeight:"600",marginTop:0,color:"#000"},shrink:!0},Object(P.a)("TO"),":")),d.a.createElement(v.a,{utils:y.a},d.a.createElement(g.a,{style:{maxWidth:201},disableToolbar:!0,variant:"inline",format:"DD-MM-YYYY",margin:"normal",value:this.state.date_to,onChange:this.handleDateToChange,KeyboardButtonProps:{"aria-label":"change date"}}))),d.a.createElement("div",{className:_.a.rateingContainer,style:{justifyContent:"space-evenly"}},d.a.createElement("div",{style:{paddingTop:14}},d.a.createElement(j.a,{style:{fontSize:18,fontWeight:"600",marginTop:0,color:"#000"},shrink:!0},Object(P.a)("STATUS"),":")),d.a.createElement(T.a,{value:this.state.service_type,onChange:this.handleStatusChange,style:{minWidth:200}},d.a.createElement(A.a,{value:"Normal"},"Normal"),d.a.createElement(A.a,{value:"PINK"},"Pink"))),d.a.createElement("div",{className:_.a.Button},d.a.createElement(k.a,{variant:"contained",color:"secondary",onClick:function(){return e.submitFiltersAndSearch(!1)}}," ",Object(P.a)("SEARCH")))))))}}]),t}(o.Component);function K(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var q=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).state={anchorElement:null,text:""},a.handleSearchMenuClick=function(e){a.setState({anchorElement:e.currentTarget})},a.handleClose=function(){a.setState({anchorElement:null})},a.changeTextHandler=function(e){a.setState({text:e.target.value})},a.search=function(e,t){if(e){var i=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?K(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):K(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{text:a.state.text.trim()});a.props.submitsearch(i,!0)}else{if("clear"===t)return a.setState({text:""}),void a.props.submitsearch({},!0);a.props.submitsearch({text:a.state.text.trim()},!0)}},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props.advanced,a=null;return t&&(a=d.a.createElement(u.a,{position:"end"},d.a.createElement(h.a,{"aria-describedby":"simple-popover",onClick:this.handleSearchMenuClick},d.a.createElement(E.a,null)))),d.a.createElement(d.a.Fragment,null,d.a.createElement(m.a,Object.assign({onKeyPress:function(t){"Enter"===t.key&&e.search(!1,!1)},variant:"outlined",InputProps:{endAdornment:a},onChange:this.changeTextHandler,value:this.state.text},this.props.inputProps)),"riders"===t||"drivers"===t?d.a.createElement(M,{id:t,search:this.search,anchorElement:Boolean(this.state.anchorElement),anchorEl:this.state.anchorElement,handleClose:this.handleClose,direction:this.props.direction}):null,"trips"===t?d.a.createElement(J,{id:t,search:this.search,anchorElement:Boolean(this.state.anchorElement),anchorEl:this.state.anchorElement,handleClose:this.handleClose,direction:this.props.direction}):null,"vehicles"===t?d.a.createElement(Q,{id:t,search:this.search,anchorElement:Boolean(this.state.anchorElement),anchorEl:this.state.anchorElement,handleClose:this.handleClose,direction:this.props.direction}):null)}}]),t}(o.Component);t.a=Object(H.b)((function(e){return{direction:e.userPrefrence.direction}}))(q)},233:function(e,t,a){"use strict";var n=a(234),i=a.n(n),r=a(0),l=a.n(r);t.a=function(e){return l.a.createElement("div",{style:e.style,className:i.a.cardContainer},e.children)}},234:function(e,t,a){e.exports={cardContainer:"detailsCard_cardContainer__3yarv"}},238:function(e,t,a){e.exports=a.p+"static/media/idCard.6524b3a5.png"},239:function(e,t,a){"use strict";var n=a(0),i=a.n(n),r=a(426),l=a(201),c=a(240),s=a.n(c),o=a(40);t.a=function(e){return i.a.createElement("div",{className:s.a.container},i.a.createElement("div",{className:s.a.confirmationText},i.a.createElement("p",null,Object(o.a)("ARE_YOU_SURE")," ",Object(o.a)(e.actionName)," ",e.name,"\u061f")),e.textField?i.a.createElement("div",{className:s.a.confirmationText},i.a.createElement(r.a,{error:e.error,helperText:Object(o.a)(e.helperText),label:"\u0645\u0644\u0627\u062d\u0638\u0627\u062a",value:e.note,variant:"outlined",onChange:e.noteHandler})):null,i.a.createElement("div",{className:s.a.confirmationButtons},i.a.createElement("div",{className:s.a.button},i.a.createElement(l.a,{color:"primary",onClick:e.cancelActionHandler},Object(o.a)("GO_BACK"))),i.a.createElement("div",{className:s.a.button},i.a.createElement(l.a,{variant:"contained",style:{backgroundColor:e.color,color:"#F2F2F2"},onClick:e.actionHandler},Object(o.a)(e.actionName)))))}},240:function(e,t,a){e.exports={container:"actionConformation_container__2KvR0",confirmationButtons:"actionConformation_confirmationButtons__2T06c",button:"actionConformation_button__iQN1Y"}},249:function(e,t,a){},289:function(e,t,a){e.exports={carDetails:"Vehicles_carDetails__2AEUi",carTitle:"Vehicles_carTitle__31XgY",carInfo:"Vehicles_carInfo__3IpEa",carInfoItem:"Vehicles_carInfoItem__3fA9Z",carAvatar:"Vehicles_carAvatar__2c0Xi",spanColor:"Vehicles_spanColor__2o0p0",Vehicle_Details_Cont:"Vehicles_Vehicle_Details_Cont__2IieK",Vehicle_Details_Info:"Vehicles_Vehicle_Details_Info__3keVs",Vehicle_Details__Info_makemodelnumbercolorstatus:"Vehicles_Vehicle_Details__Info_makemodelnumbercolorstatus__1dZn9",Vehicle_Details__Info_actionsMenu:"Vehicles_Vehicle_Details__Info_actionsMenu__2Y3xQ",Vehicle_Details_Info_Item:"Vehicles_Vehicle_Details_Info_Item__if7qv",Vehicle_Details_image:"Vehicles_Vehicle_Details_image__RNeE8",Vehicle_Details_image_car:"Vehicles_Vehicle_Details_image_car__20H47",Vehicle_Details_Documents:"Vehicles_Vehicle_Details_Documents__M18kJ",Vehicle_Details_Document:"Vehicles_Vehicle_Details_Document__izxDZ",Vehicle_Details_Document_Info:"Vehicles_Vehicle_Details_Document_Info__1Otry",Vehicle_Details_Document_Info_item:"Vehicles_Vehicle_Details_Document_Info_item__zP6cv"}},325:function(e,t,a){e.exports={container:"actionsListener_container__2tE0P",confirmationText:"actionsListener_confirmationText__3qk_C",confirmationButtons:"actionsListener_confirmationButtons__Gc7BU",button:"actionsListener_button__1a2Dy",ServiceType:"actionsListener_ServiceType__3B__o",header:"actionsListener_header__2v4DD",services:"actionsListener_services__3uCJh",badge:"actionsListener_badge__2uxbF",confirmation:"actionsListener_confirmation__2_R1u"}},418:function(e,t,a){"use strict";a.r(t);var n=a(71),i=a(72),r=a(74),l=a(73),c=a(75),s=a(0),o=a.n(s),d=a(12),m=a(200),u=a(204),h=a(427),p=a(78),E=a(228),f=a(225),b=a(40),_=a(150),v=a(36),g=a(289),y=a.n(g),O=a(69),C=a(399),D=a(51),j=(a(249),function(e){var t=e.vehicles;return o.a.createElement(o.a.Fragment,null,t.map((function(t){return o.a.createElement(O.a,{style:{margin:"10px 0"},key:t.id,onClick:function(){return e.getVehicle(t.id)}},o.a.createElement("div",{className:y.a.carInfo},o.a.createElement("div",{className:y.a.carInfoItem},o.a.createElement("p",{style:{margin:"0 3px"}},Object(b.a)("TYPE"),":"),o.a.createElement(h.a,{xsDown:!0},o.a.createElement("p",{style:{margin:0,paddingTop:4}},t.model),o.a.createElement("p",{style:{margin:"0 4px",paddingTop:4}},t.make)),o.a.createElement(h.a,{smUp:!0},o.a.createElement("p",{style:{margin:"0 2px",paddingTop:4,fontSize:17}},o.a.createElement("i",{className:"car-".concat(t.make.toLowerCase())})))),o.a.createElement("div",{className:y.a.carInfoItem},o.a.createElement("p",{style:{margin:"0 3px"}},Object(b.a)("THE_NUMBER"),":"),o.a.createElement("p",{style:{margin:0,paddingTop:4}},t.number)),t.service_types&&t.service_types.length>0?o.a.createElement("div",{className:y.a.carInfoItem},o.a.createElement("p",{style:{margin:"0 3px"}},Object(b.a)("SERVICES"),":"),o.a.createElement("p",{style:{margin:0,paddingTop:4}},t.service_types.map((function(e,a){return a===t.service_types.length-1?" "+e.name:" "+e.name+","})))):o.a.createElement("div",{className:y.a.carInfoItem},o.a.createElement("p",{style:{margin:"0 3px"}},Object(b.a)("SERVICES"),":"),o.a.createElement("p",{style:{margin:0}},Object(b.a)("NO_SERVICES"))),o.a.createElement("div",{className:y.a.carInfoItem},o.a.createElement(C.a,{src:"".concat(D.a.hostDomain).concat(t.image),alt:"car pic",classes:{root:y.a.carAvatar}}))))})))}),T=a(35),A=a(187),k=a(419),S=a(409),N=a(243),P=a(212),V=a.n(P),I=function(e){var t=e.children,a=e.value,n=e.index,i=Object(N.a)(e,["children","value","index"]);return o.a.createElement(O.a,Object.assign({component:"div",role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},i,{classes:{root:V.a.tabContainer}}),t)},R=a(190),x=a(201),F=a(208),w=a(46),L=a(238),M=a.n(L),H=a(398),Y=a(192),B=a(222),W=Object(Y.a)((function(e){return{popover:{pointerEvents:"none"},paper:{padding:e.spacing(1)}}})),U=function(e){var t=W(),a=o.a.useState(null),n=Object(T.a)(a,2),i=n[0],r=n[1],l=o.a.useState(!1),c=Object(T.a)(l,2),s=c[0],d=c[1],m=function(){r(null),d(!1)},u=Boolean(i),p=e.vehicle;return o.a.createElement("div",{className:y.a.Vehicle_Details_Cont},o.a.createElement("div",{className:y.a.Vehicle_Details_Info},o.a.createElement(O.a,{style:{display:"flex"},square:!0},o.a.createElement("div",{className:y.a.Vehicle_Details__Info_makemodelnumbercolorstatus},o.a.createElement("div",{className:y.a.Vehicle_Details_Info_Item},o.a.createElement("p",{style:{margin:"0 3px"}},Object(b.a)("TYPE"),":"),o.a.createElement(h.a,{xsDown:!0},o.a.createElement("p",{style:{margin:0,paddingTop:4}},p.summary.model),o.a.createElement("p",{style:{margin:"0 4px",paddingTop:4}},p.summary.make)),o.a.createElement(h.a,{smUp:!0},o.a.createElement("p",{style:{margin:"0 2px",paddingTop:4,fontSize:17}},o.a.createElement("i",{className:"car-".concat(p.summary.make.toLowerCase())})))),o.a.createElement("div",{className:y.a.Vehicle_Details_Info_Item},o.a.createElement("p",{style:{margin:"0 3px"}},Object(b.a)("THE_NUMBER"),":"),o.a.createElement("p",{style:{margin:0,paddingTop:4}},p.summary.number)),o.a.createElement("div",{className:y.a.Vehicle_Details_Info_Item},o.a.createElement("p",{style:{margin:"0 3px"}},Object(b.a)("THE_COLOR"),":"),o.a.createElement("p",{style:{margin:0,paddingTop:4}},o.a.createElement("span",{style:{backgroundColor:p.summary.color},className:y.a.spanColor}))),o.a.createElement("div",{className:y.a.Vehicle_Details_Info_Item},o.a.createElement("p",{style:{margin:"0 3px"}},Object(b.a)("STATUS"),":"),o.a.createElement("p",{style:{margin:0}},Object(b.a)(p.summary.verification_status)))),o.a.createElement("div",{className:y.a.Vehicle_Details__Info_actionsMenu},o.a.createElement(B.a,{object:"VEHICLE",status:p.summary.verification_status,onActionClicked:e.onActionClicked})))),o.a.createElement("div",{className:y.a.Vehicle_Details_Documents},o.a.createElement(O.a,{style:{background:Object(w.a)().palette.primary.dark,padding:5,color:"#fff"}},o.a.createElement("h4",{style:{padding:0,margin:0}},"\u0627\u0644\u0648\u062b\u0627\u0626\u0642:")),p.summary.documents.map((function(a,n){return o.a.createElement("div",{key:a.id,className:y.a.Vehicle_Details_Document},o.a.createElement("div",{className:y.a.Vehicle_Details_Document_name},o.a.createElement("p",{style:{margin:5}},a.name,":")),o.a.createElement("div",{className:y.a.Vehicle_Details_Document_Info},o.a.createElement("div",{className:y.a.Vehicle_Details_Document_Info_item},o.a.createElement("p",{style:{margin:"0 3px"}},Object(b.a)("STATUS"),":"),o.a.createElement("p",null,Object(b.a)(a.verification_status))),o.a.createElement("div",{className:y.a.Vehicle_Details_Document_Info_item},o.a.createElement("p",{style:{margin:"0 3px"}},Object(b.a)("EXPIRATION_DATE"),":"),o.a.createElement("p",null,a.expiration_date)),o.a.createElement("div",{className:y.a.Vehicle_Details_Document_Info_item},o.a.createElement(C.a,{"aria-owns":u?"mouse-over-popover":void 0,"aria-haspopup":"true",onMouseEnter:function(e){return function(e,t){r(e.currentTarget),d(t)}(e,n)},onMouseLeave:m,src:a.image?"".concat(D.a.hostDomain).concat(a.image):M.a}),o.a.createElement(H.a,{id:"mouse-over-popover",className:t.popover,classes:{paper:t.paper},open:s===n,anchorEl:i,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},onClose:m,disableRestoreFocus:!0},o.a.createElement("img",{src:a.image?"".concat(D.a.hostDomain).concat(a.image):M.a,className:y.a.Vehicle_Details_image_car,alt:"car documents"}))),o.a.createElement("div",{className:y.a.Vehicle_Details_Document_Info_item},o.a.createElement(B.a,{object:"DOCUMENT",status:a.verification_status,onActionClicked:e.onActionClicked,document_id:a.id}))))})),p.summary.documents&&0===p.summary.documents.length?o.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},o.a.createElement("h4",null,"\u0644\u0627 \u064a\u0648\u062c\u062f \u0648\u062b\u0627\u0626\u0642")):null),o.a.createElement("div",{className:y.a.Vehicle_Details_image},o.a.createElement("img",{src:p.summary&&p.summary.plate_image?"".concat(D.a.hostDomain).concat(p.summary.plate_image):"",alt:"car",className:y.a.Vehicle_Details_image_car})),o.a.createElement("div",{className:y.a.Vehicle_Details_image},o.a.createElement("img",{src:p.summary&&p.summary.image?"".concat(D.a.hostDomain).concat(p.summary.image):"",alt:"car",className:y.a.Vehicle_Details_image_car})))},J=a(233),G=a(80),z=a.n(G),Q={container:{display:"flex"},profilePhoto:{display:"flex",flexBasis:"15%"},info:{display:"flex",flexBasis:"85%"},part2:{display:"flex",justifyContent:"space-evenly",flexBasis:"64%",alignItems:"flex-end",flexWrap:"wrap"}},K=function(e){var t=e.vehicle.drivers;return o.a.createElement(o.a.Fragment,null,t&&t.length>0&&t.map((function(e){return o.a.createElement(J.a,{style:{margin:"5px 0"},key:e.id},o.a.createElement("div",{style:Q.profilePhoto},o.a.createElement(C.a,{src:e&&e.profile_image?"".concat(D.a.hostDomain).concat(e.profile_image):z.a,alt:"profile pic",style:{width:75,height:75}})),o.a.createElement("div",{className:V.a.info},o.a.createElement("div",{className:V.a.part1},o.a.createElement("div",{style:{display:"flex"}},o.a.createElement("h4",{style:{margin:0,fontWeight:"600"}},e&&e.full_name)),o.a.createElement("div",{style:{display:"flex",alignItems:"center"}},o.a.createElement("h5",{style:{margin:"0 3px"}},Object(b.a)("THE_NUMBER"),":"),o.a.createElement("h5",{style:{direction:"ltr",margin:0}},e&&e.phone_number))),o.a.createElement("div",{style:Q.part2},o.a.createElement("div",{style:{display:"flex",alignItems:"center"}},o.a.createElement("h5",{style:{margin:"0 3px"}},Object(b.a)("RATING"),":"),o.a.createElement("h5",{style:{margin:0}},e&&e.rating)),o.a.createElement("div",{style:{display:"flex",alignItems:"center"}},o.a.createElement("h5",{style:{margin:"0 3px"}},Object(b.a)("GENDER"),":"),o.a.createElement("h5",{style:{margin:0}},Object(b.a)(e&&e.gender))),o.a.createElement("div",{style:{display:"flex",alignItems:"center"}},o.a.createElement("h5",{style:{margin:"0 3px"}},Object(b.a)("STATUS"),":"),o.a.createElement("h5",{style:{margin:0}},Object(b.a)(e&&e.verification_status))))))})),t&&0===t.length?o.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},o.a.createElement("h4",null,"\u0644\u0627 \u064a\u0648\u062c\u062f \u0633\u0627\u0626\u0642\u064a\u0646.")):null)};function q(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var X=Object(F.a)()((function(e){var t=o.a.useState(0),a=Object(T.a)(t,2),n=a[0],i=a[1],r=e.width,l=function(e,t){i(t)};return o.a.createElement(be.Consumer,null,(function(t){return o.a.createElement(o.a.Fragment,null,o.a.createElement(A.a,{classes:{root:V.a.appBarContainer},position:"static",color:"default"},o.a.createElement(k.a,{classes:{root:V.a.tabsRoot},value:n,variant:"xl"===r?"fullWidth":"scrollable",scrollButtons:"on",onChange:l,"aria-label":"simple tabs example"},o.a.createElement(S.a,Object.assign({label:Object(b.a)("DETAILS")},q(0))),o.a.createElement(S.a,Object.assign({label:Object(b.a)("DRIVERS")},q(1)))),o.a.createElement(R.a,null,"xl"===r||"lg"===r?null:o.a.createElement(x.a,{color:"primary",variant:"outlined",onClick:e.toggleTheMainSideView},Object(b.a)("GO_BACK")))),o.a.createElement(I,{value:n,index:0},o.a.createElement("div",{style:{padding:"12px 2px"}},t.state.isLoadingVehicle?o.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},o.a.createElement(m.a,null)):t.state.vehicle?o.a.createElement(U,{onActionClicked:e.onActionClicked,vehicle:t.state.vehicle}):o.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},o.a.createElement("h3",null,Object(b.a)("PLEASE_CHOOSE_FROM_LIST"))))),o.a.createElement(I,{value:n,index:1},o.a.createElement("div",{style:{padding:"15px 5px"}},t.state.isLoadingVehicle?o.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},o.a.createElement(m.a,null)):t.state.vehicle?o.a.createElement(K,{vehicle:t.state.vehicle}):o.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},o.a.createElement("h3",null,Object(b.a)("PLEASE_CHOOSE_FROM_LIST"))))))}))})),Z=a(219),$=a(221),ee=a.n($),te=a(401),ae=a(239),ne=a(76),ie=a(18),re=a(325),le=a.n(re),ce=a(430),se=a(210),oe=a(203),de=a(52),me=a.n(de);function ue(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function he(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ue(a,!0).forEach((function(t){Object(ie.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ue(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var pe=function(e){var t=e.vehicle.service_types,a=e.id,n=Object(s.useState)([]),i=Object(T.a)(n,2),r=i[0],l=i[1],c=Object(s.useState)(!1),d=Object(T.a)(c,2),u=d[0],h=d[1],E=Object(s.useState)("#000"),f=Object(T.a)(E,2),_=f[0],g=f[1],y=Object(s.useState)(!1),O=Object(T.a)(y,2),C=O[0],D=O[1];Object(s.useEffect)((function(){h(!0),v.a.get("/service_types/").then((function(e){var n=e.data.map((function(e,n){return t.some((function(t){return e.name===t.name}))?he({},e,{disabled:"add"===a,checked:!1,color:"add"===a?"default":"primary"}):he({},e,{disabled:"add"!==a,checked:!1,color:"default"})}));l(n),h(!1)})).catch((function(t){h(!1),p.a.error(t.data?t.data.message:"ERROR"),e.cancelActionHandler()}))}),[a,t,e]);var j=r.every((function(e){return e.disabled}));return o.a.createElement(o.a.Fragment,null,u?o.a.createElement("div",{style:{display:"flex",padding:15,justifyContent:"center",alignItems:"center"}},o.a.createElement(m.a,null)):o.a.createElement("div",{className:le.a.ServiceType},o.a.createElement("div",{className:le.a.header},o.a.createElement("h4",{style:{margin:0,color:_}},j?"add"===a?Object(b.a)("NO_SERVICE_YOU_CAN_ADD"):Object(b.a)("NO_SERVICE_YOU_CAN_REMOVE"):"add"===a?Object(b.a)("PLEASE_CHOOSE_SERVICE_TO_ADD"):Object(b.a)("PLEASE_CHOOSE_SERVICE_TO_REMOVE"),":")),o.a.createElement("div",{className:le.a.services},r.map((function(e,t){return o.a.createElement(ce.a,{key:e.name,classes:{root:le.a.badge},label:e.name,color:e.color,disabled:e.disabled,onClick:function(){return function(e){var t=Object(ne.a)(r),a=he({},t[e]);a.checked=!a.checked,a.color="default"===a.color?"primary":"default",t[e]=a,l(t),g("#000")}(t)}})}))),o.a.createElement("div",{className:le.a.confirmation},o.a.createElement(x.a,{onClick:function(){return e.cancelActionHandler(!1)},variant:"text",color:"primary"},Object(b.a)("GO_BACK")),o.a.createElement(x.a,{onClick:function(){if(r.some((function(e){return e.checked})))if("remove"!==a){var t=[];r.forEach((function(a){a.checked&&t.push(v.a.post("/vehicles/add_service_type",{service_type_id:a.id,vehicle_id:e.vehicle.id}))})),h(!0),me.a.all(t).then((function(t){h(!1),p.a.success(Object(b.a)("SUCCESS_REQUEST")),e.cancelActionHandler(!0)})).catch((function(e){h(!1),p.a.error(e.data?e.data.message:"ERROR")}))}else D(!0);else g("#f20")},variant:"contained",style:{margin:"0px 3px",color:"#fff",backgroundColor:"add"===a?"#4479a5":"#980000"}},"add"===a?Object(b.a)("ADD"):Object(b.a)("REMOVE")))),o.a.createElement(se.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:C},o.a.createElement(oe.a,{style:{backgroundColor:"#D3392F"},message:o.a.createElement("p",null,"\u0647\u0630\u0647 \u0627\u0644\u0639\u0645\u0644\u064a\u0629 \u0642\u062f \u062a\u0624\u062b\u0631 \u0639\u0644\u0649 \u0639\u0645\u0644 \u0627\u0644\u0633\u0627\u0626\u0642, \u0647\u0644 \u062a\u0631\u064a\u062f \u0627\u0644\u0625\u0633\u062a\u0645\u0631\u0627\u0631\u061f"),action:[o.a.createElement(x.a,{style:{color:"#D3392F",backgroundColor:"#fff"},key:"fkfkfkfkfkfk",size:"small",onClick:function(){D(!1);var t=[];r.forEach((function(a){a.checked&&t.push(v.a.post("/vehicles/remove_service_type",{service_type_id:a.id,vehicle_id:e.vehicle.id}))})),h(!0),me.a.all(t).then((function(t){h(!1),p.a.success(Object(b.a)("SUCCESS_REQUEST")),e.cancelActionHandler(!0)})).catch((function(e){h(!1),p.a.error(e.data?e.data.message:"ERROR")}))}},"\u062d\u0630\u0641 \u0627\u0644\u062e\u062f\u0645\u0629"),o.a.createElement(x.a,{style:{color:"#fff"},key:"fkjkgifikfojf",size:"small",onClick:e.cancelActionHandler},"\u062a\u0631\u0627\u062c\u0639")]})))},Ee=function(e){function t(){var e,a;Object(n.a)(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return(a=Object(r.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(c)))).state={fullWidth:!0,maxWidth:"sm",open:!0,deleteAlert:!1},a.widthChanged=function(){var e="sm";"xl"!==a.props.width&&"lg"!==a.props.width&&"md"!==a.props.width&&(e=a.props.width),a.setState({maxWidth:e})},a.updateVehicleRequest=function(e){var t={driver_vehicle_id:a.props.vehicle.summary.id,comment:"VEHICLE_REJECTED"};"approve"===e&&(t={id:a.props.vehicle.summary.id,comment:"VEHICLE_REJECTED"}),v.a.put("vehicles/".concat(e),t).then((function(e){a.setState({open:!1},(function(){setTimeout((function(){a.props.onCloseAction(!0),p.a.success("\u062a\u0645\u062a \u0627\u0644\u0639\u0645\u0644\u064a\u0629 \u0628\u0646\u062c\u0627\u062d")}),200)}))})).catch((function(e){a.setState({open:!1},(function(){setTimeout((function(){a.props.onCloseAction(!1),p.a.error(e.data?e.data.message:"ERROR")}),200)}))}))},a.updateDocmentRequest=function(e){v.a.put("vehicles/documents/".concat(e),{id:a.props.documentIdForActionListener,comment:"VEHICLE_REJECTED"}).then((function(e){a.setState({open:!1},(function(){setTimeout((function(){a.props.onCloseAction(!0),p.a.success("\u062a\u0645\u062a \u0627\u0644\u0639\u0645\u0644\u064a\u0629 \u0628\u0646\u062c\u0627\u062d")}),200)}))})).catch((function(e){a.setState({open:!1},(function(){setTimeout((function(){a.props.onCloseAction(!1),p.a.error(e.data?e.data.message:"ERROR")}),200)}))}))},a.REJECT_VEHICLE_APPROVED=function(){a.updateVehicleRequest("reject")},a.APPROVE_VEHICLE_PENDING=function(){a.updateVehicleRequest("approve")},a.REJECT_DOCUMENT_PENDING=function(){a.updateDocmentRequest("reject")},a.APPROVE_DOCUMENT_PENDING=function(){a.updateDocmentRequest("approve")},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.widthChanged()}},{key:"componentDidUpdate",value:function(e){e.width!==this.props.width&&this.widthChanged()}},{key:"render",value:function(){var e=this,t=this.props.whatIsTheAction,a=null;switch(t){case"REJECT_VEHICLE_APPROVED":case"REJECT_VEHICLE_PENDING":a=o.a.createElement(ae.a,{actionName:t,cancelActionHandler:function(){return e.props.onCloseAction(!1)},actionHandler:this.REJECT_VEHICLE_APPROVED,color:"#980000"});break;case"APPROVE_VEHICLE_PENDING":case"APPROVE_VEHICLE_REJECTED":a=o.a.createElement(ae.a,{actionName:t,cancelActionHandler:function(){return e.props.onCloseAction(!1)},actionHandler:this.APPROVE_VEHICLE_PENDING,color:"green"});break;case"REJECT_DOCUMENT_APPROVED":case"REJECT_DOCUMENT_PENDING":a=o.a.createElement(ae.a,{actionName:t,cancelActionHandler:function(){return e.props.onCloseAction(!1)},actionHandler:this.REJECT_DOCUMENT_PENDING,color:"#980000"});break;case"APPROVE_DOCUMENT_PENDING":case"APPROVE_DOCUMENT_REJECTED":a=o.a.createElement(ae.a,{actionName:t,cancelActionHandler:function(){return e.props.onCloseAction(!1)},actionHandler:this.APPROVE_DOCUMENT_PENDING,color:"green"});break;case"ADD-SERVICE-TYPE_VEHICLE_APPROVED":a=o.a.createElement(pe,{cancelActionHandler:function(t){return e.props.onCloseAction(t)},vehicle:this.props.vehicle.summary,id:"add"});break;case"REMOVE-SERVICE-TYPE_VEHICLE_APPROVED":a=o.a.createElement(pe,{cancelActionHandler:function(t){return e.props.onCloseAction(t)},vehicle:this.props.vehicle.summary,id:"remove"})}return o.a.createElement(o.a.Fragment,null,o.a.createElement(te.a,{onClose:function(){return e.props.onCloseAction(!1)},fullWidth:this.state.fullWidth,maxWidth:this.state.maxWidth,open:this.state.open,"aria-labelledby":"max-width-dialog-title"},a))}}]),t}(s.Component),fe=Object(F.a)()(Object(d.b)((function(e){return{}}),{})(Ee));a.d(t,"VehiclesContext",(function(){return be})),a.d(t,"VehiclesContainer",(function(){return _e}));var be=o.a.createContext("state"),_e=function(e){function t(){var e,a;Object(n.a)(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return(a=Object(r.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(c)))).state={vehicles:[],trip:null,isLoading:!1,hasMore:!0,currentPage:1,toggleTheMainView:!1,toggleTheSideView:!0,isLoadingVehicle:!1,filter:{},total:"",whatIsTheAction:"",isActionClicked:!1,vehicle:null,documentIdForActionListener:null},a.onCloseAction=function(e){a.setState({isActionClicked:!1},(function(){e&&setTimeout((function(){a.search(a.state.filter,!0)}),200)}))},a.onActionClicked=function(e,t){a.setState({isActionClicked:!0,whatIsTheAction:e,documentIdForActionListener:t})},a.search=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(a.state.hasMore||t){var n={};e.verification_status&&(n.verification_status=e.verification_status),e.date_from&&(n.date_from=ee()(e.date_from).format("YYYY-MM-DD")),e.date_to&&(n.date_to=ee()(e.date_to).format("YYYY-MM-DD")),e.service_type&&(n.service_type=e.service_type),e.text&&(n.number=e.text),t&&a.setState({filter:n}),a.setState({isLoading:!0,hasMore:!t&&a.state.hasMore,currentPage:t?1:a.state.currentPage,vehicles:t?[]:a.state.vehicles,vehicle:t?null:a.state.vehicle},(function(){v.a.get("/vehicles/search?page=".concat(a.state.currentPage),{params:{filters:a.state.filter}}).then((function(e){a.setState({vehicles:a.state.vehicles.concat(e.data.vehicles),isLoading:!1,hasMore:e.data.hasMorePages,currentPage:a.state.currentPage+1,total:e.data.total})})).catch((function(e){p.a.error(e.data?e.data.message:"ERROR"),a.setState({isLoading:!1})}))}))}},a.toggleTheMainSideView=function(){a.setState({toggleTheMainView:!a.state.toggleTheMainView,toggleTheSideView:!a.state.toggleTheSideView})},a.getVehicle=function(e){a.setState({toggleTheMainView:!a.state.toggleTheMainView,toggleTheSideView:!a.state.toggleTheSideView,isLoadingVehicle:!0}),v.a.get("/vehicles/profile/".concat(e)).then((function(e){a.setState({vehicle:e.data,isLoadingVehicle:!1})})).catch((function(e){a.setState({isLoadingVehicle:!1}),p.a.error(e.data?e.data.message:"Error")}))},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.search(),this.props.changeCurrentPageName(this.props.location.pathname)}},{key:"render",value:function(){var e=this,t=o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{padding:10}},o.a.createElement(f.a,{advanced:"vehicles",submitsearch:this.search,inputProps:{placeholder:Object(b.a)("SEARCH_BY_CAR_NUMBER"),margin:"normal",fullWidth:!0}})),this.state.isLoading&&this.state.vehicles.length<1?o.a.createElement("div",{style:{textAlign:"center"}},o.a.createElement(m.a,{size:20})):null,o.a.createElement(E.a,{dataLength:this.state.vehicles.length,next:function(){return e.search(e.state.filter,!1)},hasMore:this.state.hasMore,loader:this.state.vehicles.length>0?o.a.createElement("div",{style:{textAlign:"center"}},o.a.createElement(m.a,{size:20})):null,height:700,endMessage:this.state.isLoading?null:o.a.createElement("p",{style:{textAlign:"center"}},o.a.createElement("b",null,Object(b.a)("NO_MORE_DATA")))},o.a.createElement(j,{getVehicle:this.getVehicle,vehicles:this.state.vehicles})),this.state.isLoading?null:o.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},o.a.createElement("h5",{style:{margin:0}},Object(b.a)("TOTAL"),":",this.state.total)));return o.a.createElement(be.Provider,{value:{state:this.state}},o.a.createElement(u.a,{container:!0},o.a.createElement(h.a,{mdDown:this.state.toggleTheMainView},o.a.createElement(_.a,{direction:"left",in:!0,timeout:200,mountOnEnter:!0,unmountOnExit:!0},o.a.createElement(u.a,{item:!0,xs:12,sm:12,md:12,lg:6},t))),o.a.createElement(h.a,{mdDown:this.state.toggleTheSideView},o.a.createElement(_.a,{direction:"left",in:!0,timeout:200,mountOnEnter:!0,unmountOnExit:!0},o.a.createElement(u.a,{style:{padding:9,marginTop:15},item:!0,xs:12,sm:12,md:12,lg:6},o.a.createElement(X,{onActionClicked:this.onActionClicked,toggleTheMainSideView:this.toggleTheMainSideView})))),this.state.isActionClicked?o.a.createElement(fe,{vehicle:this.state.vehicle,whatIsTheAction:this.state.whatIsTheAction,onCloseAction:this.onCloseAction,onActionClicked:this.onActionClicked,documentIdForActionListener:this.state.documentIdForActionListener}):null))}}]),t}(s.Component);t.default=Object(d.b)((function(e){return{permissions:e.permissions.permissions}}),(function(e){return{changeCurrentPageName:function(t){return e(Object(Z.a)(t))}}}))(_e)}}]);
//# sourceMappingURL=12.eba76d4f.chunk.js.map