{"version":3,"sources":["../node_modules/@mapbox/mapbox-gl-draw/src/constants.js","../node_modules/@material-ui/core/esm/internal/svg-icons/createSvgIcon.js","../node_modules/@mapbox/mapbox-gl-draw/src/lib/common_selectors.js","../node_modules/@mapbox/mapbox-gl-draw/src/lib/features_at.js","../node_modules/@mapbox/mapbox-gl-draw/src/lib/string_set.js","../node_modules/@mapbox/mapbox-gl-draw/src/feature_types/feature.js","../node_modules/@mapbox/mapbox-gl-draw/src/feature_types/multi_feature.js","../node_modules/@mapbox/mapbox-gl-draw/src/lib/double_click_zoom.js","../node_modules/@mapbox/mapbox-gl-draw/src/feature_types/point.js","../node_modules/hat/index.js","../node_modules/@mapbox/mapbox-gl-draw/src/feature_types/line_string.js","../node_modules/@mapbox/mapbox-gl-draw/src/feature_types/polygon.js","../node_modules/xtend/immutable.js","../node_modules/@mapbox/mapbox-gl-draw/src/lib/create_vertex.js","../node_modules/@material-ui/core/esm/ExpansionPanel/ExpansionPanelContext.js","../node_modules/@mapbox/mapbox-gl-draw/src/lib/euclidean_distance.js","../node_modules/@mapbox/mapbox-gl-draw/src/modes/index.js","../node_modules/@mapbox/mapbox-gl-draw/src/lib/create_supplementary_points.js","../node_modules/@mapbox/mapbox-gl-draw/src/lib/move_features.js","../node_modules/@mapbox/mapbox-gl-draw/src/lib/constrain_feature_movement.js","../node_modules/@mapbox/geojson-normalize/index.js","../node_modules/@mapbox/mapbox-gl-draw/src/lib/is_event_at_coordinates.js","../node_modules/@material-ui/icons/ExpandMore.js","../node_modules/@mapbox/mapbox-gl-draw/index.js","../node_modules/@mapbox/mapbox-gl-draw/src/setup.js","../node_modules/@mapbox/mapbox-gl-draw/src/events.js","../node_modules/@mapbox/mapbox-gl-draw/src/lib/mode_handler.js","../node_modules/@mapbox/mapbox-gl-draw/src/lib/get_features_and_set_cursor.js","../node_modules/@mapbox/mapbox-gl-draw/src/lib/sort_features.js","../node_modules/@mapbox/geojson-area/index.js","../node_modules/wgs84/index.js","../node_modules/@mapbox/mapbox-gl-draw/src/lib/map_event_to_bounding_box.js","../node_modules/@mapbox/mapbox-gl-draw/src/lib/is_click.js","../node_modules/@mapbox/mapbox-gl-draw/src/lib/is_tap.js","../node_modules/@mapbox/mapbox-gl-draw/src/modes/object_to_mode.js","../node_modules/@mapbox/mapbox-gl-draw/src/modes/mode_interface.js","../node_modules/@mapbox/mapbox-gl-draw/src/modes/mode_interface_accessors.js","../node_modules/@mapbox/mapbox-gl-draw/src/store.js","../node_modules/@mapbox/mapbox-gl-draw/src/lib/throttle.js","../node_modules/@mapbox/mapbox-gl-draw/src/lib/to_dense_array.js","../node_modules/@mapbox/mapbox-gl-draw/src/render.js","../node_modules/@mapbox/mapbox-gl-draw/src/ui.js","../node_modules/@mapbox/mapbox-gl-draw/src/options.js","../node_modules/@mapbox/mapbox-gl-draw/src/lib/theme.js","../node_modules/@mapbox/mapbox-gl-draw/src/modes/simple_select.js","../node_modules/@mapbox/mapbox-gl-draw/src/lib/mouse_event_point.js","../node_modules/@mapbox/point-geometry/index.js","../node_modules/@mapbox/mapbox-gl-draw/src/lib/create_midpoint.js","../node_modules/@mapbox/geojson-extent/index.js","../node_modules/@mapbox/geojson-coords/index.js","../node_modules/geojson-flatten/dist/index.js","../node_modules/@mapbox/geojson-coords/flatten.js","../node_modules/traverse/index.js","../node_modules/@mapbox/extent/index.js","../node_modules/@mapbox/mapbox-gl-draw/src/modes/direct_select.js","../node_modules/@mapbox/mapbox-gl-draw/src/modes/draw_point.js","../node_modules/@mapbox/mapbox-gl-draw/src/modes/draw_polygon.js","../node_modules/@mapbox/mapbox-gl-draw/src/modes/draw_line_string.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/nonIterableSpread.js","../node_modules/@mapbox/mapbox-gl-draw/src/api.js","../node_modules/lodash.isequal/index.js","../node_modules/@mapbox/mapbox-gl-draw/src/lib/string_sets_are_equal.js","../node_modules/@mapbox/geojsonhint/lib/index.js","../node_modules/jsonlint-lines/lib/jsonlint.js","../node_modules/path-browserify/index.js","../node_modules/@mapbox/geojsonhint/lib/object.js","../node_modules/@mapbox/geojsonhint/lib/rhr.js","../node_modules/@material-ui/core/esm/ExpansionPanelSummary/ExpansionPanelSummary.js","../node_modules/@material-ui/core/esm/ExpansionPanelDetails/ExpansionPanelDetails.js","../node_modules/@material-ui/core/esm/ExpansionPanelActions/ExpansionPanelActions.js","../node_modules/@material-ui/core/esm/Collapse/Collapse.js","../node_modules/@material-ui/core/esm/ExpansionPanel/ExpansionPanel.js","../node_modules/@babel/runtime/helpers/esm/toArray.js"],"names":["module","exports","classes","CONTROL_BASE","CONTROL_PREFIX","CONTROL_BUTTON","CONTROL_BUTTON_LINE","CONTROL_BUTTON_POLYGON","CONTROL_BUTTON_POINT","CONTROL_BUTTON_TRASH","CONTROL_BUTTON_COMBINE_FEATURES","CONTROL_BUTTON_UNCOMBINE_FEATURES","CONTROL_GROUP","ATTRIBUTION","ACTIVE_BUTTON","BOX_SELECT","sources","HOT","COLD","cursors","ADD","MOVE","DRAG","POINTER","NONE","types","POLYGON","LINE","POINT","geojsonTypes","FEATURE","LINE_STRING","FEATURE_COLLECTION","MULTI_PREFIX","MULTI_POINT","MULTI_LINE_STRING","MULTI_POLYGON","modes","DRAW_LINE_STRING","DRAW_POLYGON","DRAW_POINT","SIMPLE_SELECT","DIRECT_SELECT","STATIC","events","CREATE","DELETE","UPDATE","SELECTION_CHANGE","MODE_CHANGE","ACTIONABLE","RENDER","COMBINE_FEATURES","UNCOMBINE_FEATURES","updateActions","CHANGE_COORDINATES","meta","MIDPOINT","VERTEX","activeStates","ACTIVE","INACTIVE","interactions","LAT_MIN","LAT_RENDERED_MIN","LAT_MAX","LAT_RENDERED_MAX","LNG_MIN","LNG_MAX","createSvgIcon","path","displayName","Component","memo","forwardRef","props","ref","createElement","muiName","Constants","isOfMetaType","type","e","featureTarget","properties","isShiftMousedown","originalEvent","shiftKey","button","isActiveFeature","active","isInactiveFeature","noTarget","undefined","isFeature","isVertex","isShiftDown","isEscapeKey","keyCode","isEnterKey","true","sortFeatures","mapEventToBoundingBox","StringSet","META_TYPES","featuresAt","event","bbox","ctx","buffer","map","box","queryParams","options","styles","layers","s","id","features","queryRenderedFeatures","filter","feature","indexOf","featureIds","uniqueFeatures","forEach","featureId","has","add","push","click","clickBuffer","touch","touchBuffer","items","this","_items","_nums","_length","length","i","l","prototype","x","delete","values","_this","Object","keys","k","v","JSON","parse","sort","a","b","clear","hat","Feature","geojson","coordinates","geometry","changed","store","featureChanged","incomingCoords","coords","setCoordinates","getCoordinates","stringify","setProperty","property","value","toGeoJSON","internal","mode","userProperties","name","concat","models","MultiPoint","MultiLineString","MultiPolygon","takeAction","action","lng","lat","parts","split","idx","parseInt","tail","slice","join","MultiFeature","call","model","TypeError","_coordinatesToFeatures","create","Model","bind","replace","isValid","every","f","getCoordinate","updateCoordinate","addCoordinate","removeCoordinate","getFeatures","enable","setTimeout","doubleClickZoom","_ctx","getInitialConfigValue","disable","Point","pathOrLng","lngOrLat","arguments","bits","base","digits","Math","log","pow","Infinity","rem","floor","res","random","toString","parsed","rack","expandBy","fn","data","iters","Error","hasOwnProperty","hats","get","set","LineString","splice","Polygon","ring","ids","ringId","coordId","target","source","key","parentId","selected","parent","coord_path","ExpansionPanelContext","createContext","y","sqrt","simple_select","direct_select","draw_point","draw_polygon","draw_line_string","createVertex","createMidpoint","createSupplementaryPoints","basePath","_geojson$geometry","supplementaryPoints","processLine","line","lineBasePath","firstPointString","lastVertex","point","pointIndex","pointPath","String","vertex","isSelectedPath","midpoints","midpoint","stringifiedPoint","selectedPaths","lineIndex","subType","subCoordinates","index","subFeature","processMultiGeometry","constrainFeatureMovement","delta","constrainedDelta","nextCoordinates","currentCoordinates","moveCoordinate","coord","moveRing","multi","extent","geojsonFeatures","northInnerEdge","southInnerEdge","northOuterEdge","southOuterEdge","westEdge","eastEdge","bounds","featureSouthEdge","featureNorthEdge","featureWestEdge","featureEastEdge","ceil","abs","gj","GeometryCollection","FeatureCollection","lngLat","_interopRequireDefault","defineProperty","default","_react","_default","d","runSetup","setupOptions","setupAPI","api","setup","onAdd","onRemove","setupDraw","Store","ui","xtend","controlContainer","mapLoadedInterval","off","connect","clearInterval","removeLayers","restoreMapConfig","removeButtons","removeEventListeners","clearMapClasses","container","parentNode","removeChild","addLayers","storeMapConfig","addEventListeners","_fire","fire","args","apply","getContainer","addButtons","boxSelect","boxZoom","dragPan","loaded","on","setInterval","start","addSource","style","addLayer","setDirty","render","getLayer","removeLayer","getSource","removeSource","setupModeHandler","getFeaturesAndSetCursor","isClick","isTap","objectToMode","reduce","m","mouseDownInfo","touchStartInfo","_currentModeName","currentMode","drag","isDrag","time","Date","getTime","queueMapClasses","mouse","stopPropagation","mousedrag","endInfo","touchdrag","mousemove","buttons","which","mousedown","mouseup","mouseout","touchstart","preventDefault","touchEnabled","touchmove","touchend","tap","isKeyModeValid","code","changeMode","modename","nextModeOptions","eventOptions","stop","modebuilder","silent","keydown","srcElement","classList","controls","trash","line_string","polygon","keyup","zoomend","changeZoom","dataType","some","actionState","combineFeatures","uncombineFeatures","defaultMode","actionable","actions","currentModeName","currentModeRender","addEventListener","keybindings","removeEventListener","getMode","DrawContext","handlers","selector","delegate","eventName","handles","iHandle","handle","updateMapClasses","area","FEATURE_SORT_RANKS","comparator","score","wgs84","polygonArea","ringArea","p1","p2","lowerIndex","middleIndex","upperIndex","coordsLength","rad","sin","RADIUS","_","PI","geometries","FLATTENING","POLAR_RADIUS","mapEvent","euclideanDistance","end","fineTolerance","grossTolerance","interval","moveDistance","tolerance","ModeInterface","eventMapper","eventKeys","modeObject","modeObjectKeys","startOpts","state","wrapper","eh","onSetup","modeHandler","onStop","onTrash","onCombineFeatures","onUncombineFeatures","toDisplayFeatures","onDrag","onClick","onMouseMove","onMouseDown","onMouseUp","onMouseOut","onKeyUp","onKeyDown","onTouchStart","onTouchMove","onTouchEnd","onTap","onCombineFeature","onUncombineFeature","drawConfig","setSelected","setSelectedCoordinates","c","feature_id","getSelected","getSelectedIds","isSelected","getFeature","select","deselect","deleteFeature","opts","addFeature","clearSelectedFeatures","clearSelected","clearSelectedCoordinates","setActionableState","newSet","eventOpts","updateUIClasses","activateUIButton","setActiveButton","bufferType","newFeature","isInstanceOf","doRender","throttle","toDenseArray","_features","_featureIds","_selectedFeatureIds","_selectedCoordinates","_changedFeatureIds","_deletedFeaturesToEmit","_emitSelectionChange","_mapInitialConfig","hot","cold","isDirty","refreshSelectedCoordinates","_this9","newSelectedCoordinates","createRenderBatch","holdRender","numRenders","getChangedIds","clearChangedIds","getAllIds","_this2","getAll","_this3","_this4","_this5","_this6","_this7","getSelectedCoordinates","_this8","coordinate","setFeatureProperty","_this10","interaction","isEnabled","_this11","context","lock","later","wrapperFn","cleanup","newHotIds","newColdIds","lastColdCount","coldChanged","renderFeature","featureInternal","setData","points","geojsonToEmit","classTypes","buttonElements","activeButton","currentMapClasses","nextMapClasses","classesToRemove","classesToAdd","remove","createControlButton","document","className","setAttribute","title","appendChild","onActivate","deactivateButtons","controlGroup","combine_features","uncombine_features","buttonId","defaultOptions","displayControlsDefault","showControls","hideControls","addSources","sourceBucket","withDefaults","CommonSelectors","mouseEventPoint","moveFeatures","SimpleSelect","dragMoveLocation","boxSelectStartLocation","boxSelectElement","boxSelecting","canBoxSelect","dragMoveing","canDragMove","initiallySelectedFeatureIds","fireActionable","selectedFeatures","multiFeatures","featureType","allFeatures","dragMoving","stopExtendedInteractions","fireUpdate","clickAnywhere","clickOnVertex","clickOnFeature","wasSelected","coordPath","startPos","startOnActiveFeature","isShiftClick","selectedFeatureIds","isFeatureSelected","startBoxSelect","dragMove","whileBoxSelect","current","minX","min","maxX","max","minY","maxY","translateValue","transform","WebkitTransform","width","height","featuresInBox","idsToSelect","getUniqueIds","display","featuresCombined","includes","subcoords","multiFeature","createdFeatures","deletedFeatures","featuresUncombined","_loop","mouseEvent","rect","getBoundingClientRect","clientX","left","clientLeft","clientY","top","clientTop","clone","p","_add","sub","_sub","multByPoint","_multByPoint","divByPoint","_divByPoint","mult","_mult","div","_div","rotate","_rotate","rotateAround","_rotateAround","matMult","_matMult","unit","_unit","perp","_perp","round","_round","mag","equals","other","dist","distSqr","dx","dy","angle","atan2","angleTo","angleWith","angleWithSep","cos","convert","Array","isArray","startVertex","endVertex","startCoord","endCoord","ptA","project","ptB","mid","unproject","geojsonCoords","traverse","geojsonTypesByDataAttributes","dataAttributes","getExtent","ext","include","bboxify","attribute","update","geojsonNormalize","geojsonFlatten","flatten","normalized","t","r","list","_flatten","acc","item","obj","Traverse","walk","root","cb","immutable","parents","alive","walker","node_","node","copy","modifiers","keepGoing","isRoot","level","circular","stopHere","before","after","pre","post","block","updateState","objectKeys","isLeaf","notLeaf","notRoot","ret","child","isLast","isFirst","pop","src","dst","toS","isRegExp","RegExp","isError","message","isBoolean","Boolean","isNumber","Number","isString","getPrototypeOf","constructor","proto","__proto__","T","ps","init","skip","paths","nodes","xs","Extent","_bbox","_valid","ll","center","union","contains","_fastContains","lon","intersect","Function","body","_require","isMidpoint","DirectSelect","selectedCoordPaths","startDragging","about","selectedIndex","selectedCoordinates","pathsToCoordinates","stopDragging","selectedCoords","selectedCoordPoints","reverse","onVertex","noCoords","onFeature","onMidpoint","dragVertex","dragFeature","clickNoTarget","clickActiveFeature","clickInactive","DrawPoint","isActivePoint","stopDrawingAndRemove","isEventAtCoordinates","DrawPolygon","currentVertexPosition","isActivePolygon","coordinateCount","endPos","lineCoordinates","_toConsumableArray","DrawLineString","direction","from","lastCoord","_line","_line2","isActiveLine","arrayWithoutHoles","iterableToArray","nonIterableSpread","arr","arr2","iter","Symbol","iterator","isEqual","normalize","stringSetsAreEqual","geojsonhint","featureTypes","getFeatureIdsAt","getSelectedPoints","featureCollection","renderBatch","toDelete","newIds","newIdsLookup","errors","hint","precisionWarning","internalFeature","_internalFeature","deleteAll","modeOptions","LARGE_ARRAY_SIZE","HASH_UNDEFINED","COMPARE_PARTIAL_FLAG","COMPARE_UNORDERED_FLAG","MAX_SAFE_INTEGER","argsTag","arrayTag","asyncTag","boolTag","dateTag","errorTag","funcTag","genTag","mapTag","numberTag","nullTag","objectTag","proxyTag","regexpTag","setTag","stringTag","symbolTag","undefinedTag","arrayBufferTag","dataViewTag","reIsHostCtor","reIsUint","typedArrayTags","freeGlobal","global","freeSelf","self","freeExports","nodeType","freeModule","moduleExports","freeProcess","process","nodeUtil","binding","nodeIsTypedArray","isTypedArray","arraySome","array","predicate","mapToArray","result","size","setToArray","func","arrayProto","funcProto","objectProto","coreJsData","funcToString","maskSrcKey","uid","exec","IE_PROTO","nativeObjectToString","reIsNative","Buffer","Uint8Array","propertyIsEnumerable","symToStringTag","toStringTag","nativeGetSymbols","getOwnPropertySymbols","nativeIsBuffer","isBuffer","nativeKeys","arg","DataView","getNative","Map","Promise","Set","WeakMap","nativeCreate","dataViewCtorString","toSource","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","symbolProto","symbolValueOf","valueOf","Hash","entries","entry","ListCache","MapCache","SetCache","__data__","Stack","arrayLikeKeys","inherited","isArr","isArg","isArguments","isBuff","isType","skipIndexes","n","iteratee","baseTimes","isIndex","assocIndexOf","eq","baseGetTag","isOwn","tag","unmasked","getRawTag","objectToString","baseIsArguments","isObjectLike","baseIsEqual","bitmask","customizer","stack","object","equalFunc","objIsArr","othIsArr","objTag","getTag","othTag","objIsObj","othIsObj","isSameTag","equalArrays","byteLength","byteOffset","isPartial","stacked","equalByTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","objProps","getAllKeys","objLength","othLength","skipCtor","objValue","othValue","compared","objCtor","othCtor","equalObjects","baseIsEqualDeep","baseIsNative","isObject","isMasked","isFunction","test","baseKeys","Ctor","isPrototype","arrLength","seen","arrValue","othIndex","keysFunc","symbolsFunc","offset","arrayPush","baseGetAllKeys","getSymbols","getMapData","isKeyable","getValue","pairs","resIndex","arrayFilter","symbol","ArrayBuffer","resolve","ctorString","isLength","baseUnary","jsonlint","geojsonHintObject","str","match","error","o","_o","$V0","$V1","$V2","$V3","$V4","$V5","$V6","$V7","$V8","$V9","parser","trace","yy","symbols_","terminals_","2","4","6","8","10","11","14","17","18","21","22","23","24","productions_","performAction","yytext","yyleng","yylineno","yystate","$$","_$","$0","$","first_line","enumerable","__duplicateProperties__","table","3","5","7","9","12","13","15","16","1","19","20","25","defaultActions","parseError","hash","recoverable","_parseError","msg","input","vstack","lstack","recovering","TERROR","EOF","lexer","sharedState","setInput","yylloc","yyloc","ranges","preErrorSymbol","len","newState","expected","lex","token","yyval","errStr","showPosition","text","loc","last_line","first_column","last_column","range","_input","_more","_backtrack","done","matched","conditionStack","ch","unput","lines","substr","oldLines","more","reject","backtrack_lexer","less","pastInput","past","upcomingInput","next","test_match","indexed_rule","backup","matches","tempMatch","rules","_currentRules","flex","begin","condition","popState","conditions","topState","pushState","stateStackSize","yy_","$avoiding_name_collisions","YY_START","Parser","main","console","exit","readFileSync","argv","normalizeArray","allowAboveRoot","up","last","unshift","resolvedPath","resolvedAbsolute","cwd","charAt","isAbsolute","trailingSlash","relative","to","trim","fromParts","toParts","samePartsLength","outputParts","sep","delimiter","dirname","charCodeAt","hasRoot","matchedSlash","basename","extname","startDot","startPart","preDotState","rightHandRule","precisionWarningCount","maxPrecisionWarnings","maxPrecision","noDuplicateMembers","__line__","requiredProperty","expectedType","typesLower","toLowerCase","everyIs","position","num","precision","decimalStr","positionArray","depth","pos","crs","geom","multiPoint","lineString","multiLineString","geometryCollection","multiPolygon","prev","curr","err","isRingClockwise","isPolyRHR","ExpansionPanelSummary","children","expandIcon","IconButtonProps","onBlur","onFocusVisible","_React$useState","useState","focusedState","setFocusedState","_React$useContext","useContext","_React$useContext$dis","disabled","expanded","toggle","focusRipple","disableRipple","component","focused","content","edge","tabIndex","role","theme","transition","duration","transitions","shortest","minHeight","padding","cursor","backgroundColor","palette","grey","opacity","flexGrow","margin","ExpansionPanelDetails","ExpansionPanelActions","_props$disableSpacing","disableSpacing","spacing","alignItems","justifyContent","marginLeft","_props$collapsedHeigh","collapsedHeight","_props$component","inProp","in","onEnter","onEntered","onEntering","onExit","onExiting","_props$timeout","timeout","standard","useTheme","timer","useRef","wrapperRef","autoTransitionDuration","useEffect","clearTimeout","Transition","isAppearing","wrapperHeight","clientHeight","transitionDuration","duration2","getAutoHeightDuration","addEndListener","childProps","entered","exited","hidden","wrapperInner","muiSupportAuto","withStyles","overflow","visibility","childrenProp","_props$defaultExpande","defaultExpanded","_props$disabled","expandedProp","onChange","_props$square","square","_props$TransitionComp","TransitionComponent","TransitionProps","isControlled","expandedState","setExpandedState","handleChange","useCallback","_React$Children$toArr","Children","toArray","_React$Children$toArr2","arrayWithHoles","nonIterableRest","summary","contextValue","useMemo","Paper","rounded","Provider","right","divider","marginTop","marginBottom","disabledBackground","borderRadius","borderTopLeftRadius","shape","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"],"mappings":"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","file":"static/js/8.5494c1cd.chunk.js","sourcesContent":["module.exports = {\n  classes: {\n    CONTROL_BASE: 'mapboxgl-ctrl',\n    CONTROL_PREFIX: 'mapboxgl-ctrl-',\n    CONTROL_BUTTON: 'mapbox-gl-draw_ctrl-draw-btn',\n    CONTROL_BUTTON_LINE: 'mapbox-gl-draw_line',\n    CONTROL_BUTTON_POLYGON: 'mapbox-gl-draw_polygon',\n    CONTROL_BUTTON_POINT: 'mapbox-gl-draw_point',\n    CONTROL_BUTTON_TRASH: 'mapbox-gl-draw_trash',\n    CONTROL_BUTTON_COMBINE_FEATURES: 'mapbox-gl-draw_combine',\n    CONTROL_BUTTON_UNCOMBINE_FEATURES: 'mapbox-gl-draw_uncombine',\n    CONTROL_GROUP: 'mapboxgl-ctrl-group',\n    ATTRIBUTION: 'mapboxgl-ctrl-attrib',\n    ACTIVE_BUTTON: 'active',\n    BOX_SELECT: 'mapbox-gl-draw_boxselect'\n  },\n  sources: {\n    HOT: 'mapbox-gl-draw-hot',\n    COLD: 'mapbox-gl-draw-cold'\n  },\n  cursors: {\n    ADD: 'add',\n    MOVE: 'move',\n    DRAG: 'drag',\n    POINTER: 'pointer',\n    NONE: 'none'\n  },\n  types: {\n    POLYGON: 'polygon',\n    LINE: 'line_string',\n    POINT: 'point'\n  },\n  geojsonTypes: {\n    FEATURE: 'Feature',\n    POLYGON: 'Polygon',\n    LINE_STRING: 'LineString',\n    POINT: 'Point',\n    FEATURE_COLLECTION: 'FeatureCollection',\n    MULTI_PREFIX: 'Multi',\n    MULTI_POINT: 'MultiPoint',\n    MULTI_LINE_STRING: 'MultiLineString',\n    MULTI_POLYGON: 'MultiPolygon'\n  },\n  modes: {\n    DRAW_LINE_STRING: 'draw_line_string',\n    DRAW_POLYGON: 'draw_polygon',\n    DRAW_POINT: 'draw_point',\n    SIMPLE_SELECT: 'simple_select',\n    DIRECT_SELECT: 'direct_select',\n    STATIC: 'static'\n  },\n  events: {\n    CREATE: 'draw.create',\n    DELETE: 'draw.delete',\n    UPDATE: 'draw.update',\n    SELECTION_CHANGE: 'draw.selectionchange',\n    MODE_CHANGE: 'draw.modechange',\n    ACTIONABLE: 'draw.actionable',\n    RENDER: 'draw.render',\n    COMBINE_FEATURES: 'draw.combine',\n    UNCOMBINE_FEATURES: 'draw.uncombine'\n  },\n  updateActions: {\n    MOVE: 'move',\n    CHANGE_COORDINATES: 'change_coordinates'\n  },\n  meta: {\n    FEATURE: 'feature',\n    MIDPOINT: 'midpoint',\n    VERTEX: 'vertex'\n  },\n  activeStates: {\n    ACTIVE: 'true',\n    INACTIVE: 'false'\n  },\n  interactions: ['scrollZoom', 'boxZoom', 'dragRotate', 'dragPan', 'keyboard', 'doubleClickZoom', 'touchZoomRotate'],\n  LAT_MIN: -90,\n  LAT_RENDERED_MIN: -85,\n  LAT_MAX: 90,\n  LAT_RENDERED_MAX: 85,\n  LNG_MIN: -270,\n  LNG_MAX: 270\n};","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React from 'react';\nimport SvgIcon from '../../SvgIcon';\nexport default function createSvgIcon(path, displayName) {\n  var Component = React.memo(React.forwardRef(function (props, ref) {\n    return React.createElement(SvgIcon, _extends({}, props, {\n      ref: ref\n    }), path);\n  }));\n\n  if (process.env.NODE_ENV !== 'production') {\n    Component.displayName = \"\".concat(displayName, \"Icon\");\n  }\n\n  Component.muiName = SvgIcon.muiName;\n  return Component;\n}","var Constants = require('../constants');\n\nmodule.exports = {\n  isOfMetaType: function isOfMetaType(type) {\n    return function (e) {\n      var featureTarget = e.featureTarget;\n      if (!featureTarget) return false;\n      if (!featureTarget.properties) return false;\n      return featureTarget.properties.meta === type;\n    };\n  },\n  isShiftMousedown: function isShiftMousedown(e) {\n    if (!e.originalEvent) return false;\n    if (!e.originalEvent.shiftKey) return false;\n    return e.originalEvent.button === 0;\n  },\n  isActiveFeature: function isActiveFeature(e) {\n    if (!e.featureTarget) return false;\n    if (!e.featureTarget.properties) return false;\n    return e.featureTarget.properties.active === Constants.activeStates.ACTIVE && e.featureTarget.properties.meta === Constants.meta.FEATURE;\n  },\n  isInactiveFeature: function isInactiveFeature(e) {\n    if (!e.featureTarget) return false;\n    if (!e.featureTarget.properties) return false;\n    return e.featureTarget.properties.active === Constants.activeStates.INACTIVE && e.featureTarget.properties.meta === Constants.meta.FEATURE;\n  },\n  noTarget: function noTarget(e) {\n    return e.featureTarget === undefined;\n  },\n  isFeature: function isFeature(e) {\n    if (!e.featureTarget) return false;\n    if (!e.featureTarget.properties) return false;\n    return e.featureTarget.properties.meta === Constants.meta.FEATURE;\n  },\n  isVertex: function isVertex(e) {\n    var featureTarget = e.featureTarget;\n    if (!featureTarget) return false;\n    if (!featureTarget.properties) return false;\n    return featureTarget.properties.meta === Constants.meta.VERTEX;\n  },\n  isShiftDown: function isShiftDown(e) {\n    if (!e.originalEvent) return false;\n    return e.originalEvent.shiftKey === true;\n  },\n  isEscapeKey: function isEscapeKey(e) {\n    return e.keyCode === 27;\n  },\n  isEnterKey: function isEnterKey(e) {\n    return e.keyCode === 13;\n  },\n  true: function _true() {\n    return true;\n  }\n};","var sortFeatures = require('./sort_features');\n\nvar mapEventToBoundingBox = require('./map_event_to_bounding_box');\n\nvar Constants = require('../constants');\n\nvar StringSet = require('./string_set');\n\nvar META_TYPES = [Constants.meta.FEATURE, Constants.meta.MIDPOINT, Constants.meta.VERTEX]; // Requires either event or bbox\n\nmodule.exports = {\n  click: featuresAtClick,\n  touch: featuresAtTouch\n};\n\nfunction featuresAtClick(event, bbox, ctx) {\n  return featuresAt(event, bbox, ctx, ctx.options.clickBuffer);\n}\n\nfunction featuresAtTouch(event, bbox, ctx) {\n  return featuresAt(event, bbox, ctx, ctx.options.touchBuffer);\n}\n\nfunction featuresAt(event, bbox, ctx, buffer) {\n  if (ctx.map === null) return [];\n  var box = event ? mapEventToBoundingBox(event, buffer) : bbox;\n  var queryParams = {};\n  if (ctx.options.styles) queryParams.layers = ctx.options.styles.map(function (s) {\n    return s.id;\n  });\n  var features = ctx.map.queryRenderedFeatures(box, queryParams).filter(function (feature) {\n    return META_TYPES.indexOf(feature.properties.meta) !== -1;\n  });\n  var featureIds = new StringSet();\n  var uniqueFeatures = [];\n  features.forEach(function (feature) {\n    var featureId = feature.properties.id;\n    if (featureIds.has(featureId)) return;\n    featureIds.add(featureId);\n    uniqueFeatures.push(feature);\n  });\n  return sortFeatures(uniqueFeatures);\n}","function StringSet(items) {\n  this._items = {};\n  this._nums = {};\n  this._length = items ? items.length : 0;\n  if (!items) return;\n\n  for (var i = 0, l = items.length; i < l; i++) {\n    this.add(items[i]);\n    if (items[i] === undefined) continue;\n    if (typeof items[i] === 'string') this._items[items[i]] = i;else this._nums[items[i]] = i;\n  }\n}\n\nStringSet.prototype.add = function (x) {\n  if (this.has(x)) return this;\n  this._length++;\n  if (typeof x === 'string') this._items[x] = this._length;else this._nums[x] = this._length;\n  return this;\n};\n\nStringSet.prototype.delete = function (x) {\n  if (this.has(x) === false) return this;\n  this._length--;\n  delete this._items[x];\n  delete this._nums[x];\n  return this;\n};\n\nStringSet.prototype.has = function (x) {\n  if (typeof x !== 'string' && typeof x !== 'number') return false;\n  return this._items[x] !== undefined || this._nums[x] !== undefined;\n};\n\nStringSet.prototype.values = function () {\n  var _this = this;\n\n  var values = [];\n  Object.keys(this._items).forEach(function (k) {\n    values.push({\n      k: k,\n      v: _this._items[k]\n    });\n  });\n  Object.keys(this._nums).forEach(function (k) {\n    values.push({\n      k: JSON.parse(k),\n      v: _this._nums[k]\n    });\n  });\n  return values.sort(function (a, b) {\n    return a.v - b.v;\n  }).map(function (a) {\n    return a.k;\n  });\n};\n\nStringSet.prototype.clear = function () {\n  this._length = 0;\n  this._items = {};\n  this._nums = {};\n  return this;\n};\n\nmodule.exports = StringSet;","var hat = require('hat');\n\nvar Constants = require('../constants');\n\nvar Feature = function Feature(ctx, geojson) {\n  this.ctx = ctx;\n  this.properties = geojson.properties || {};\n  this.coordinates = geojson.geometry.coordinates;\n  this.id = geojson.id || hat();\n  this.type = geojson.geometry.type;\n};\n\nFeature.prototype.changed = function () {\n  this.ctx.store.featureChanged(this.id);\n};\n\nFeature.prototype.incomingCoords = function (coords) {\n  this.setCoordinates(coords);\n};\n\nFeature.prototype.setCoordinates = function (coords) {\n  this.coordinates = coords;\n  this.changed();\n};\n\nFeature.prototype.getCoordinates = function () {\n  return JSON.parse(JSON.stringify(this.coordinates));\n};\n\nFeature.prototype.setProperty = function (property, value) {\n  this.properties[property] = value;\n};\n\nFeature.prototype.toGeoJSON = function () {\n  return JSON.parse(JSON.stringify({\n    id: this.id,\n    type: Constants.geojsonTypes.FEATURE,\n    properties: this.properties,\n    geometry: {\n      coordinates: this.getCoordinates(),\n      type: this.type\n    }\n  }));\n};\n\nFeature.prototype.internal = function (mode) {\n  var properties = {\n    id: this.id,\n    meta: Constants.meta.FEATURE,\n    'meta:type': this.type,\n    active: Constants.activeStates.INACTIVE,\n    mode: mode\n  };\n\n  if (this.ctx.options.userProperties) {\n    for (var name in this.properties) {\n      properties[\"user_\".concat(name)] = this.properties[name];\n    }\n  }\n\n  return {\n    type: Constants.geojsonTypes.FEATURE,\n    properties: properties,\n    geometry: {\n      coordinates: this.getCoordinates(),\n      type: this.type\n    }\n  };\n};\n\nmodule.exports = Feature;","var Feature = require('./feature');\n\nvar Constants = require('../constants');\n\nvar hat = require('hat');\n\nvar models = {\n  MultiPoint: require('./point'),\n  MultiLineString: require('./line_string'),\n  MultiPolygon: require('./polygon')\n};\n\nvar takeAction = function takeAction(features, action, path, lng, lat) {\n  var parts = path.split('.');\n  var idx = parseInt(parts[0], 10);\n  var tail = !parts[1] ? null : parts.slice(1).join('.');\n  return features[idx][action](tail, lng, lat);\n};\n\nvar MultiFeature = function MultiFeature(ctx, geojson) {\n  Feature.call(this, ctx, geojson);\n  delete this.coordinates;\n  this.model = models[geojson.geometry.type];\n  if (this.model === undefined) throw new TypeError(\"\".concat(geojson.geometry.type, \" is not a valid type\"));\n  this.features = this._coordinatesToFeatures(geojson.geometry.coordinates);\n};\n\nMultiFeature.prototype = Object.create(Feature.prototype);\n\nMultiFeature.prototype._coordinatesToFeatures = function (coordinates) {\n  var _this = this;\n\n  var Model = this.model.bind(this);\n  return coordinates.map(function (coords) {\n    return new Model(_this.ctx, {\n      id: hat(),\n      type: Constants.geojsonTypes.FEATURE,\n      properties: {},\n      geometry: {\n        coordinates: coords,\n        type: _this.type.replace('Multi', '')\n      }\n    });\n  });\n};\n\nMultiFeature.prototype.isValid = function () {\n  return this.features.every(function (f) {\n    return f.isValid();\n  });\n};\n\nMultiFeature.prototype.setCoordinates = function (coords) {\n  this.features = this._coordinatesToFeatures(coords);\n  this.changed();\n};\n\nMultiFeature.prototype.getCoordinate = function (path) {\n  return takeAction(this.features, 'getCoordinate', path);\n};\n\nMultiFeature.prototype.getCoordinates = function () {\n  return JSON.parse(JSON.stringify(this.features.map(function (f) {\n    if (f.type === Constants.geojsonTypes.POLYGON) return f.getCoordinates();\n    return f.coordinates;\n  })));\n};\n\nMultiFeature.prototype.updateCoordinate = function (path, lng, lat) {\n  takeAction(this.features, 'updateCoordinate', path, lng, lat);\n  this.changed();\n};\n\nMultiFeature.prototype.addCoordinate = function (path, lng, lat) {\n  takeAction(this.features, 'addCoordinate', path, lng, lat);\n  this.changed();\n};\n\nMultiFeature.prototype.removeCoordinate = function (path) {\n  takeAction(this.features, 'removeCoordinate', path);\n  this.changed();\n};\n\nMultiFeature.prototype.getFeatures = function () {\n  return this.features;\n};\n\nmodule.exports = MultiFeature;","module.exports = {\n  enable: function enable(ctx) {\n    setTimeout(function () {\n      // First check we've got a map and some context.\n      if (!ctx.map || !ctx.map.doubleClickZoom || !ctx._ctx || !ctx._ctx.store || !ctx._ctx.store.getInitialConfigValue) return; // Now check initial state wasn't false (we leave it disabled if so)\n\n      if (!ctx._ctx.store.getInitialConfigValue('doubleClickZoom')) return;\n      ctx.map.doubleClickZoom.enable();\n    }, 0);\n  },\n  disable: function disable(ctx) {\n    setTimeout(function () {\n      if (!ctx.map || !ctx.map.doubleClickZoom) return; // Always disable here, as it's necessary in some cases.\n\n      ctx.map.doubleClickZoom.disable();\n    }, 0);\n  }\n};","var Feature = require('./feature');\n\nvar Point = function Point(ctx, geojson) {\n  Feature.call(this, ctx, geojson);\n};\n\nPoint.prototype = Object.create(Feature.prototype);\n\nPoint.prototype.isValid = function () {\n  return typeof this.coordinates[0] === 'number' && typeof this.coordinates[1] === 'number';\n};\n\nPoint.prototype.updateCoordinate = function (pathOrLng, lngOrLat, lat) {\n  if (arguments.length === 3) {\n    this.coordinates = [lngOrLat, lat];\n  } else {\n    this.coordinates = [pathOrLng, lngOrLat];\n  }\n\n  this.changed();\n};\n\nPoint.prototype.getCoordinate = function () {\n  return this.getCoordinates();\n};\n\nmodule.exports = Point;","var hat = module.exports = function (bits, base) {\n  if (!base) base = 16;\n  if (bits === undefined) bits = 128;\n  if (bits <= 0) return '0';\n  var digits = Math.log(Math.pow(2, bits)) / Math.log(base);\n\n  for (var i = 2; digits === Infinity; i *= 2) {\n    digits = Math.log(Math.pow(2, bits / i)) / Math.log(base) * i;\n  }\n\n  var rem = digits - Math.floor(digits);\n  var res = '';\n\n  for (var i = 0; i < Math.floor(digits); i++) {\n    var x = Math.floor(Math.random() * base).toString(base);\n    res = x + res;\n  }\n\n  if (rem) {\n    var b = Math.pow(base, rem);\n    var x = Math.floor(Math.random() * b).toString(base);\n    res = x + res;\n  }\n\n  var parsed = parseInt(res, base);\n\n  if (parsed !== Infinity && parsed >= Math.pow(2, bits)) {\n    return hat(bits, base);\n  } else return res;\n};\n\nhat.rack = function (bits, base, expandBy) {\n  var fn = function fn(data) {\n    var iters = 0;\n\n    do {\n      if (iters++ > 10) {\n        if (expandBy) bits += expandBy;else throw new Error('too many ID collisions, use more bits');\n      }\n\n      var id = hat(bits, base);\n    } while (Object.hasOwnProperty.call(hats, id));\n\n    hats[id] = data;\n    return id;\n  };\n\n  var hats = fn.hats = {};\n\n  fn.get = function (id) {\n    return fn.hats[id];\n  };\n\n  fn.set = function (id, value) {\n    fn.hats[id] = value;\n    return fn;\n  };\n\n  fn.bits = bits || 128;\n  fn.base = base || 16;\n  return fn;\n};","var Feature = require('./feature');\n\nvar LineString = function LineString(ctx, geojson) {\n  Feature.call(this, ctx, geojson);\n};\n\nLineString.prototype = Object.create(Feature.prototype);\n\nLineString.prototype.isValid = function () {\n  return this.coordinates.length > 1;\n};\n\nLineString.prototype.addCoordinate = function (path, lng, lat) {\n  this.changed();\n  var id = parseInt(path, 10);\n  this.coordinates.splice(id, 0, [lng, lat]);\n};\n\nLineString.prototype.getCoordinate = function (path) {\n  var id = parseInt(path, 10);\n  return JSON.parse(JSON.stringify(this.coordinates[id]));\n};\n\nLineString.prototype.removeCoordinate = function (path) {\n  this.changed();\n  this.coordinates.splice(parseInt(path, 10), 1);\n};\n\nLineString.prototype.updateCoordinate = function (path, lng, lat) {\n  var id = parseInt(path, 10);\n  this.coordinates[id] = [lng, lat];\n  this.changed();\n};\n\nmodule.exports = LineString;","var Feature = require('./feature');\n\nvar Polygon = function Polygon(ctx, geojson) {\n  Feature.call(this, ctx, geojson);\n  this.coordinates = this.coordinates.map(function (ring) {\n    return ring.slice(0, -1);\n  });\n};\n\nPolygon.prototype = Object.create(Feature.prototype);\n\nPolygon.prototype.isValid = function () {\n  if (this.coordinates.length === 0) return false;\n  return this.coordinates.every(function (ring) {\n    return ring.length > 2;\n  });\n}; // Expects valid geoJSON polygon geometry: first and last positions must be equivalent.\n\n\nPolygon.prototype.incomingCoords = function (coords) {\n  this.coordinates = coords.map(function (ring) {\n    return ring.slice(0, -1);\n  });\n  this.changed();\n}; // Does NOT expect valid geoJSON polygon geometry: first and last positions should not be equivalent.\n\n\nPolygon.prototype.setCoordinates = function (coords) {\n  this.coordinates = coords;\n  this.changed();\n};\n\nPolygon.prototype.addCoordinate = function (path, lng, lat) {\n  this.changed();\n  var ids = path.split('.').map(function (x) {\n    return parseInt(x, 10);\n  });\n  var ring = this.coordinates[ids[0]];\n  ring.splice(ids[1], 0, [lng, lat]);\n};\n\nPolygon.prototype.removeCoordinate = function (path) {\n  this.changed();\n  var ids = path.split('.').map(function (x) {\n    return parseInt(x, 10);\n  });\n  var ring = this.coordinates[ids[0]];\n\n  if (ring) {\n    ring.splice(ids[1], 1);\n\n    if (ring.length < 3) {\n      this.coordinates.splice(ids[0], 1);\n    }\n  }\n};\n\nPolygon.prototype.getCoordinate = function (path) {\n  var ids = path.split('.').map(function (x) {\n    return parseInt(x, 10);\n  });\n  var ring = this.coordinates[ids[0]];\n  return JSON.parse(JSON.stringify(ring[ids[1]]));\n};\n\nPolygon.prototype.getCoordinates = function () {\n  return this.coordinates.map(function (coords) {\n    return coords.concat([coords[0]]);\n  });\n};\n\nPolygon.prototype.updateCoordinate = function (path, lng, lat) {\n  this.changed();\n  var parts = path.split('.');\n  var ringId = parseInt(parts[0], 10);\n  var coordId = parseInt(parts[1], 10);\n\n  if (this.coordinates[ringId] === undefined) {\n    this.coordinates[ringId] = [];\n  }\n\n  this.coordinates[ringId][coordId] = [lng, lat];\n};\n\nmodule.exports = Polygon;","module.exports = extend;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction extend() {\n  var target = {};\n\n  for (var i = 0; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n}","var Constants = require('../constants');\n/**\n * Returns GeoJSON for a Point representing the\n * vertex of another feature.\n *\n * @param {string} parentId\n * @param {Array<number>} coordinates\n * @param {string} path - Dot-separated numbers indicating exactly\n *   where the point exists within its parent feature's coordinates.\n * @param {boolean} selected\n * @return {GeoJSON} Point\n */\n\n\nmodule.exports = function (parentId, coordinates, path, selected) {\n  return {\n    type: Constants.geojsonTypes.FEATURE,\n    properties: {\n      meta: Constants.meta.VERTEX,\n      parent: parentId,\n      coord_path: path,\n      active: selected ? Constants.activeStates.ACTIVE : Constants.activeStates.INACTIVE\n    },\n    geometry: {\n      type: Constants.geojsonTypes.POINT,\n      coordinates: coordinates\n    }\n  };\n};","import React from 'react';\n/**\n * @ignore - internal component.\n * @type {React.Context<{} | {expanded: boolean, disabled: boolean, toggle: () => void}>}\n */\n\nvar ExpansionPanelContext = React.createContext({});\nexport default ExpansionPanelContext;","module.exports = function (a, b) {\n  var x = a.x - b.x;\n  var y = a.y - b.y;\n  return Math.sqrt(x * x + y * y);\n};","module.exports = {\n  simple_select: require('./simple_select'),\n  direct_select: require('./direct_select'),\n  draw_point: require('./draw_point'),\n  draw_polygon: require('./draw_polygon'),\n  draw_line_string: require('./draw_line_string')\n};","var createVertex = require('./create_vertex');\n\nvar createMidpoint = require('./create_midpoint');\n\nvar Constants = require('../constants');\n\nfunction createSupplementaryPoints(geojson) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var basePath = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  var _geojson$geometry = geojson.geometry,\n      type = _geojson$geometry.type,\n      coordinates = _geojson$geometry.coordinates;\n  var featureId = geojson.properties && geojson.properties.id;\n  var supplementaryPoints = [];\n\n  if (type === Constants.geojsonTypes.POINT) {\n    // For points, just create a vertex\n    supplementaryPoints.push(createVertex(featureId, coordinates, basePath, isSelectedPath(basePath)));\n  } else if (type === Constants.geojsonTypes.POLYGON) {\n    // Cycle through a Polygon's rings and\n    // process each line\n    coordinates.forEach(function (line, lineIndex) {\n      processLine(line, basePath !== null ? \"\".concat(basePath, \".\").concat(lineIndex) : String(lineIndex));\n    });\n  } else if (type === Constants.geojsonTypes.LINE_STRING) {\n    processLine(coordinates, basePath);\n  } else if (type.indexOf(Constants.geojsonTypes.MULTI_PREFIX) === 0) {\n    processMultiGeometry();\n  }\n\n  function processLine(line, lineBasePath) {\n    var firstPointString = '';\n    var lastVertex = null;\n    line.forEach(function (point, pointIndex) {\n      var pointPath = lineBasePath !== undefined && lineBasePath !== null ? \"\".concat(lineBasePath, \".\").concat(pointIndex) : String(pointIndex);\n      var vertex = createVertex(featureId, point, pointPath, isSelectedPath(pointPath)); // If we're creating midpoints, check if there was a\n      // vertex before this one. If so, add a midpoint\n      // between that vertex and this one.\n\n      if (options.midpoints && lastVertex) {\n        var midpoint = createMidpoint(featureId, lastVertex, vertex, options.map);\n\n        if (midpoint) {\n          supplementaryPoints.push(midpoint);\n        }\n      }\n\n      lastVertex = vertex; // A Polygon line's last point is the same as the first point. If we're on the last\n      // point, we want to draw a midpoint before it but not another vertex on it\n      // (since we already a vertex there, from the first point).\n\n      var stringifiedPoint = JSON.stringify(point);\n\n      if (firstPointString !== stringifiedPoint) {\n        supplementaryPoints.push(vertex);\n      }\n\n      if (pointIndex === 0) {\n        firstPointString = stringifiedPoint;\n      }\n    });\n  }\n\n  function isSelectedPath(path) {\n    if (!options.selectedPaths) return false;\n    return options.selectedPaths.indexOf(path) !== -1;\n  } // Split a multi-geometry into constituent\n  // geometries, and accumulate the supplementary points\n  // for each of those constituents\n\n\n  function processMultiGeometry() {\n    var subType = type.replace(Constants.geojsonTypes.MULTI_PREFIX, '');\n    coordinates.forEach(function (subCoordinates, index) {\n      var subFeature = {\n        type: Constants.geojsonTypes.FEATURE,\n        properties: geojson.properties,\n        geometry: {\n          type: subType,\n          coordinates: subCoordinates\n        }\n      };\n      supplementaryPoints = supplementaryPoints.concat(createSupplementaryPoints(subFeature, options, index));\n    });\n  }\n\n  return supplementaryPoints;\n}\n\nmodule.exports = createSupplementaryPoints;","var constrainFeatureMovement = require('./constrain_feature_movement');\n\nvar Constants = require('../constants');\n\nmodule.exports = function (features, delta) {\n  var constrainedDelta = constrainFeatureMovement(features.map(function (feature) {\n    return feature.toGeoJSON();\n  }), delta);\n  features.forEach(function (feature) {\n    var currentCoordinates = feature.getCoordinates();\n\n    var moveCoordinate = function moveCoordinate(coord) {\n      var point = {\n        lng: coord[0] + constrainedDelta.lng,\n        lat: coord[1] + constrainedDelta.lat\n      };\n      return [point.lng, point.lat];\n    };\n\n    var moveRing = function moveRing(ring) {\n      return ring.map(function (coord) {\n        return moveCoordinate(coord);\n      });\n    };\n\n    var moveMultiPolygon = function moveMultiPolygon(multi) {\n      return multi.map(function (ring) {\n        return moveRing(ring);\n      });\n    };\n\n    var nextCoordinates;\n\n    if (feature.type === Constants.geojsonTypes.POINT) {\n      nextCoordinates = moveCoordinate(currentCoordinates);\n    } else if (feature.type === Constants.geojsonTypes.LINE_STRING || feature.type === Constants.geojsonTypes.MULTI_POINT) {\n      nextCoordinates = currentCoordinates.map(moveCoordinate);\n    } else if (feature.type === Constants.geojsonTypes.POLYGON || feature.type === Constants.geojsonTypes.MULTI_LINE_STRING) {\n      nextCoordinates = currentCoordinates.map(moveRing);\n    } else if (feature.type === Constants.geojsonTypes.MULTI_POLYGON) {\n      nextCoordinates = currentCoordinates.map(moveMultiPolygon);\n    }\n\n    feature.incomingCoords(nextCoordinates);\n  });\n};","var extent = require('@mapbox/geojson-extent');\n\nvar Constants = require('../constants');\n\nvar LAT_MIN = Constants.LAT_MIN,\n    LAT_MAX = Constants.LAT_MAX,\n    LAT_RENDERED_MIN = Constants.LAT_RENDERED_MIN,\n    LAT_RENDERED_MAX = Constants.LAT_RENDERED_MAX,\n    LNG_MIN = Constants.LNG_MIN,\n    LNG_MAX = Constants.LNG_MAX; // Ensure that we do not drag north-south far enough for\n// - any part of any feature to exceed the poles\n// - any feature to be completely lost in the space between the projection's\n//   edge and the poles, such that it couldn't be re-selected and moved back\n\nmodule.exports = function (geojsonFeatures, delta) {\n  // \"inner edge\" = a feature's latitude closest to the equator\n  var northInnerEdge = LAT_MIN;\n  var southInnerEdge = LAT_MAX; // \"outer edge\" = a feature's latitude furthest from the equator\n\n  var northOuterEdge = LAT_MIN;\n  var southOuterEdge = LAT_MAX;\n  var westEdge = LNG_MAX;\n  var eastEdge = LNG_MIN;\n  geojsonFeatures.forEach(function (feature) {\n    var bounds = extent(feature);\n    var featureSouthEdge = bounds[1];\n    var featureNorthEdge = bounds[3];\n    var featureWestEdge = bounds[0];\n    var featureEastEdge = bounds[2];\n    if (featureSouthEdge > northInnerEdge) northInnerEdge = featureSouthEdge;\n    if (featureNorthEdge < southInnerEdge) southInnerEdge = featureNorthEdge;\n    if (featureNorthEdge > northOuterEdge) northOuterEdge = featureNorthEdge;\n    if (featureSouthEdge < southOuterEdge) southOuterEdge = featureSouthEdge;\n    if (featureWestEdge < westEdge) westEdge = featureWestEdge;\n    if (featureEastEdge > eastEdge) eastEdge = featureEastEdge;\n  }); // These changes are not mutually exclusive: we might hit the inner\n  // edge but also have hit the outer edge and therefore need\n  // another readjustment\n\n  var constrainedDelta = delta;\n\n  if (northInnerEdge + constrainedDelta.lat > LAT_RENDERED_MAX) {\n    constrainedDelta.lat = LAT_RENDERED_MAX - northInnerEdge;\n  }\n\n  if (northOuterEdge + constrainedDelta.lat > LAT_MAX) {\n    constrainedDelta.lat = LAT_MAX - northOuterEdge;\n  }\n\n  if (southInnerEdge + constrainedDelta.lat < LAT_RENDERED_MIN) {\n    constrainedDelta.lat = LAT_RENDERED_MIN - southInnerEdge;\n  }\n\n  if (southOuterEdge + constrainedDelta.lat < LAT_MIN) {\n    constrainedDelta.lat = LAT_MIN - southOuterEdge;\n  }\n\n  if (westEdge + constrainedDelta.lng <= LNG_MIN) {\n    constrainedDelta.lng += Math.ceil(Math.abs(constrainedDelta.lng) / 360) * 360;\n  }\n\n  if (eastEdge + constrainedDelta.lng >= LNG_MAX) {\n    constrainedDelta.lng -= Math.ceil(Math.abs(constrainedDelta.lng) / 360) * 360;\n  }\n\n  return constrainedDelta;\n};","module.exports = normalize;\nvar types = {\n  Point: 'geometry',\n  MultiPoint: 'geometry',\n  LineString: 'geometry',\n  MultiLineString: 'geometry',\n  Polygon: 'geometry',\n  MultiPolygon: 'geometry',\n  GeometryCollection: 'geometry',\n  Feature: 'feature',\n  FeatureCollection: 'featurecollection'\n};\n/**\n * Normalize a GeoJSON feature into a FeatureCollection.\n *\n * @param {object} gj geojson data\n * @returns {object} normalized geojson data\n */\n\nfunction normalize(gj) {\n  if (!gj || !gj.type) return null;\n  var type = types[gj.type];\n  if (!type) return null;\n\n  if (type === 'geometry') {\n    return {\n      type: 'FeatureCollection',\n      features: [{\n        type: 'Feature',\n        properties: {},\n        geometry: gj\n      }]\n    };\n  } else if (type === 'feature') {\n    return {\n      type: 'FeatureCollection',\n      features: [gj]\n    };\n  } else if (type === 'featurecollection') {\n    return gj;\n  }\n}","function isEventAtCoordinates(event, coordinates) {\n  if (!event.lngLat) return false;\n  return event.lngLat.lng === coordinates[0] && event.lngLat.lat === coordinates[1];\n}\n\nmodule.exports = isEventAtCoordinates;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z\"\n}), 'ExpandMore');\n\nexports.default = _default;","var runSetup = require('./src/setup');\n\nvar setupOptions = require('./src/options');\n\nvar setupAPI = require('./src/api');\n\nvar Constants = require('./src/constants');\n\nvar setupDraw = function setupDraw(options, api) {\n  options = setupOptions(options);\n  var ctx = {\n    options: options\n  };\n  api = setupAPI(ctx, api);\n  ctx.api = api;\n  var setup = runSetup(ctx);\n  api.onAdd = setup.onAdd;\n  api.onRemove = setup.onRemove;\n  api.types = Constants.types;\n  api.options = options;\n  return api;\n};\n\nmodule.exports = function (options) {\n  setupDraw(options, this);\n};\n\nmodule.exports.modes = require('./src/modes');","var events = require('./events');\n\nvar Store = require('./store');\n\nvar ui = require('./ui');\n\nvar Constants = require('./constants');\n\nvar xtend = require('xtend');\n\nmodule.exports = function (ctx) {\n  var controlContainer = null;\n  var mapLoadedInterval = null;\n  var setup = {\n    onRemove: function onRemove() {\n      // Stop connect attempt in the event that control is removed before map is loaded\n      ctx.map.off('load', setup.connect);\n      clearInterval(mapLoadedInterval);\n      setup.removeLayers();\n      ctx.store.restoreMapConfig();\n      ctx.ui.removeButtons();\n      ctx.events.removeEventListeners();\n      ctx.ui.clearMapClasses();\n      ctx.map = null;\n      ctx.container = null;\n      ctx.store = null;\n      if (controlContainer && controlContainer.parentNode) controlContainer.parentNode.removeChild(controlContainer);\n      controlContainer = null;\n      return this;\n    },\n    connect: function connect() {\n      ctx.map.off('load', setup.connect);\n      clearInterval(mapLoadedInterval);\n      setup.addLayers();\n      ctx.store.storeMapConfig();\n      ctx.events.addEventListeners();\n    },\n    onAdd: function onAdd(map) {\n      if (process.env.NODE_ENV !== 'test') {\n        // Monkey patch to resolve breaking change to `fire` introduced by\n        // mapbox-gl-js. See mapbox/mapbox-gl-draw/issues/766.\n        var _fire = map.fire;\n\n        map.fire = function (type, event) {\n          var args = arguments;\n\n          if (_fire.length === 1 && arguments.length !== 1) {\n            args = [xtend({}, {\n              type: type\n            }, event)];\n          }\n\n          return _fire.apply(map, args);\n        };\n      }\n\n      ctx.map = map;\n      ctx.events = events(ctx);\n      ctx.ui = ui(ctx);\n      ctx.container = map.getContainer();\n      ctx.store = new Store(ctx);\n      controlContainer = ctx.ui.addButtons();\n\n      if (ctx.options.boxSelect) {\n        map.boxZoom.disable(); // Need to toggle dragPan on and off or else first\n        // dragPan disable attempt in simple_select doesn't work\n\n        map.dragPan.disable();\n        map.dragPan.enable();\n      }\n\n      if (map.loaded()) {\n        setup.connect();\n      } else {\n        map.on('load', setup.connect);\n        mapLoadedInterval = setInterval(function () {\n          if (map.loaded()) setup.connect();\n        }, 16);\n      }\n\n      ctx.events.start();\n      return controlContainer;\n    },\n    addLayers: function addLayers() {\n      // drawn features style\n      ctx.map.addSource(Constants.sources.COLD, {\n        data: {\n          type: Constants.geojsonTypes.FEATURE_COLLECTION,\n          features: []\n        },\n        type: 'geojson'\n      }); // hot features style\n\n      ctx.map.addSource(Constants.sources.HOT, {\n        data: {\n          type: Constants.geojsonTypes.FEATURE_COLLECTION,\n          features: []\n        },\n        type: 'geojson'\n      });\n      ctx.options.styles.forEach(function (style) {\n        ctx.map.addLayer(style);\n      });\n      ctx.store.setDirty(true);\n      ctx.store.render();\n    },\n    // Check for layers and sources before attempting to remove\n    // If user adds draw control and removes it before the map is loaded, layers and sources will be missing\n    removeLayers: function removeLayers() {\n      ctx.options.styles.forEach(function (style) {\n        if (ctx.map.getLayer(style.id)) {\n          ctx.map.removeLayer(style.id);\n        }\n      });\n\n      if (ctx.map.getSource(Constants.sources.COLD)) {\n        ctx.map.removeSource(Constants.sources.COLD);\n      }\n\n      if (ctx.map.getSource(Constants.sources.HOT)) {\n        ctx.map.removeSource(Constants.sources.HOT);\n      }\n    }\n  };\n  ctx.setup = setup;\n  return setup;\n};","var setupModeHandler = require('./lib/mode_handler');\n\nvar getFeaturesAndSetCursor = require('./lib/get_features_and_set_cursor');\n\nvar featuresAt = require('./lib/features_at');\n\nvar isClick = require('./lib/is_click');\n\nvar isTap = require('./lib/is_tap');\n\nvar Constants = require('./constants');\n\nvar objectToMode = require('./modes/object_to_mode');\n\nmodule.exports = function (ctx) {\n  var modes = Object.keys(ctx.options.modes).reduce(function (m, k) {\n    m[k] = objectToMode(ctx.options.modes[k]);\n    return m;\n  }, {});\n  var mouseDownInfo = {};\n  var touchStartInfo = {};\n  var events = {};\n  var _currentModeName = null;\n  var currentMode = null;\n\n  events.drag = function (event, isDrag) {\n    if (isDrag({\n      point: event.point,\n      time: new Date().getTime()\n    })) {\n      ctx.ui.queueMapClasses({\n        mouse: Constants.cursors.DRAG\n      });\n      currentMode.drag(event);\n    } else {\n      event.originalEvent.stopPropagation();\n    }\n  };\n\n  events.mousedrag = function (event) {\n    events.drag(event, function (endInfo) {\n      return !isClick(mouseDownInfo, endInfo);\n    });\n  };\n\n  events.touchdrag = function (event) {\n    events.drag(event, function (endInfo) {\n      return !isTap(touchStartInfo, endInfo);\n    });\n  };\n\n  events.mousemove = function (event) {\n    var button = event.originalEvent.buttons !== undefined ? event.originalEvent.buttons : event.originalEvent.which;\n\n    if (button === 1) {\n      return events.mousedrag(event);\n    }\n\n    var target = getFeaturesAndSetCursor(event, ctx);\n    event.featureTarget = target;\n    currentMode.mousemove(event);\n  };\n\n  events.mousedown = function (event) {\n    mouseDownInfo = {\n      time: new Date().getTime(),\n      point: event.point\n    };\n    var target = getFeaturesAndSetCursor(event, ctx);\n    event.featureTarget = target;\n    currentMode.mousedown(event);\n  };\n\n  events.mouseup = function (event) {\n    var target = getFeaturesAndSetCursor(event, ctx);\n    event.featureTarget = target;\n\n    if (isClick(mouseDownInfo, {\n      point: event.point,\n      time: new Date().getTime()\n    })) {\n      currentMode.click(event);\n    } else {\n      currentMode.mouseup(event);\n    }\n  };\n\n  events.mouseout = function (event) {\n    currentMode.mouseout(event);\n  };\n\n  events.touchstart = function (event) {\n    // Prevent emulated mouse events because we will fully handle the touch here.\n    // This does not stop the touch events from propogating to mapbox though.\n    event.originalEvent.preventDefault();\n\n    if (!ctx.options.touchEnabled) {\n      return;\n    }\n\n    touchStartInfo = {\n      time: new Date().getTime(),\n      point: event.point\n    };\n    var target = featuresAt.touch(event, null, ctx)[0];\n    event.featureTarget = target;\n    currentMode.touchstart(event);\n  };\n\n  events.touchmove = function (event) {\n    event.originalEvent.preventDefault();\n\n    if (!ctx.options.touchEnabled) {\n      return;\n    }\n\n    currentMode.touchmove(event);\n    return events.touchdrag(event);\n  };\n\n  events.touchend = function (event) {\n    event.originalEvent.preventDefault();\n\n    if (!ctx.options.touchEnabled) {\n      return;\n    }\n\n    var target = featuresAt.touch(event, null, ctx)[0];\n    event.featureTarget = target;\n\n    if (isTap(touchStartInfo, {\n      time: new Date().getTime(),\n      point: event.point\n    })) {\n      currentMode.tap(event);\n    } else {\n      currentMode.touchend(event);\n    }\n  }; // 8 - Backspace\n  // 46 - Delete\n\n\n  var isKeyModeValid = function isKeyModeValid(code) {\n    return !(code === 8 || code === 46 || code >= 48 && code <= 57);\n  };\n\n  events.keydown = function (event) {\n    if ((event.srcElement || event.target).classList[0] !== 'mapboxgl-canvas') return; // we only handle events on the map\n\n    if ((event.keyCode === 8 || event.keyCode === 46) && ctx.options.controls.trash) {\n      event.preventDefault();\n      currentMode.trash();\n    } else if (isKeyModeValid(event.keyCode)) {\n      currentMode.keydown(event);\n    } else if (event.keyCode === 49 && ctx.options.controls.point) {\n      changeMode(Constants.modes.DRAW_POINT);\n    } else if (event.keyCode === 50 && ctx.options.controls.line_string) {\n      changeMode(Constants.modes.DRAW_LINE_STRING);\n    } else if (event.keyCode === 51 && ctx.options.controls.polygon) {\n      changeMode(Constants.modes.DRAW_POLYGON);\n    }\n  };\n\n  events.keyup = function (event) {\n    if (isKeyModeValid(event.keyCode)) {\n      currentMode.keyup(event);\n    }\n  };\n\n  events.zoomend = function () {\n    ctx.store.changeZoom();\n  };\n\n  events.data = function (event) {\n    if (event.dataType === 'style') {\n      var setup = ctx.setup,\n          map = ctx.map,\n          options = ctx.options,\n          store = ctx.store;\n      var hasLayers = options.styles.some(function (style) {\n        return map.getLayer(style.id);\n      });\n\n      if (!hasLayers) {\n        setup.addLayers();\n        store.setDirty();\n        store.render();\n      }\n    }\n  };\n\n  function changeMode(modename, nextModeOptions) {\n    var eventOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    currentMode.stop();\n    var modebuilder = modes[modename];\n\n    if (modebuilder === undefined) {\n      throw new Error(\"\".concat(modename, \" is not valid\"));\n    }\n\n    _currentModeName = modename;\n    var mode = modebuilder(ctx, nextModeOptions);\n    currentMode = setupModeHandler(mode, ctx);\n\n    if (!eventOptions.silent) {\n      ctx.map.fire(Constants.events.MODE_CHANGE, {\n        mode: modename\n      });\n    }\n\n    ctx.store.setDirty();\n    ctx.store.render();\n  }\n\n  var actionState = {\n    trash: false,\n    combineFeatures: false,\n    uncombineFeatures: false\n  };\n\n  function actionable(actions) {\n    var changed = false;\n    Object.keys(actions).forEach(function (action) {\n      if (actionState[action] === undefined) throw new Error('Invalid action type');\n      if (actionState[action] !== actions[action]) changed = true;\n      actionState[action] = actions[action];\n    });\n    if (changed) ctx.map.fire(Constants.events.ACTIONABLE, {\n      actions: actionState\n    });\n  }\n\n  var api = {\n    start: function start() {\n      _currentModeName = ctx.options.defaultMode;\n      currentMode = setupModeHandler(modes[_currentModeName](ctx), ctx);\n    },\n    changeMode: changeMode,\n    actionable: actionable,\n    currentModeName: function currentModeName() {\n      return _currentModeName;\n    },\n    currentModeRender: function currentModeRender(geojson, push) {\n      return currentMode.render(geojson, push);\n    },\n    fire: function fire(name, event) {\n      if (events[name]) {\n        events[name](event);\n      }\n    },\n    addEventListeners: function addEventListeners() {\n      ctx.map.on('mousemove', events.mousemove);\n      ctx.map.on('mousedown', events.mousedown);\n      ctx.map.on('mouseup', events.mouseup);\n      ctx.map.on('data', events.data);\n      ctx.map.on('touchmove', events.touchmove);\n      ctx.map.on('touchstart', events.touchstart);\n      ctx.map.on('touchend', events.touchend);\n      ctx.container.addEventListener('mouseout', events.mouseout);\n\n      if (ctx.options.keybindings) {\n        ctx.container.addEventListener('keydown', events.keydown);\n        ctx.container.addEventListener('keyup', events.keyup);\n      }\n    },\n    removeEventListeners: function removeEventListeners() {\n      ctx.map.off('mousemove', events.mousemove);\n      ctx.map.off('mousedown', events.mousedown);\n      ctx.map.off('mouseup', events.mouseup);\n      ctx.map.off('data', events.data);\n      ctx.map.off('touchmove', events.touchmove);\n      ctx.map.off('touchstart', events.touchstart);\n      ctx.map.off('touchend', events.touchend);\n      ctx.container.removeEventListener('mouseout', events.mouseout);\n\n      if (ctx.options.keybindings) {\n        ctx.container.removeEventListener('keydown', events.keydown);\n        ctx.container.removeEventListener('keyup', events.keyup);\n      }\n    },\n    trash: function trash(options) {\n      currentMode.trash(options);\n    },\n    combineFeatures: function combineFeatures() {\n      currentMode.combineFeatures();\n    },\n    uncombineFeatures: function uncombineFeatures() {\n      currentMode.uncombineFeatures();\n    },\n    getMode: function getMode() {\n      return _currentModeName;\n    }\n  };\n  return api;\n};","var ModeHandler = function ModeHandler(mode, DrawContext) {\n  var handlers = {\n    drag: [],\n    click: [],\n    mousemove: [],\n    mousedown: [],\n    mouseup: [],\n    mouseout: [],\n    keydown: [],\n    keyup: [],\n    touchstart: [],\n    touchmove: [],\n    touchend: [],\n    tap: []\n  };\n  var ctx = {\n    on: function on(event, selector, fn) {\n      if (handlers[event] === undefined) {\n        throw new Error(\"Invalid event type: \".concat(event));\n      }\n\n      handlers[event].push({\n        selector: selector,\n        fn: fn\n      });\n    },\n    render: function render(id) {\n      DrawContext.store.featureChanged(id);\n    }\n  };\n\n  var delegate = function delegate(eventName, event) {\n    var handles = handlers[eventName];\n    var iHandle = handles.length;\n\n    while (iHandle--) {\n      var handle = handles[iHandle];\n\n      if (handle.selector(event)) {\n        handle.fn.call(ctx, event);\n        DrawContext.store.render();\n        DrawContext.ui.updateMapClasses(); // ensure an event is only handled once\n        // we do this to let modes have multiple overlapping selectors\n        // and relay on order of oppertations to filter\n\n        break;\n      }\n    }\n  };\n\n  mode.start.call(ctx);\n  return {\n    render: mode.render,\n    stop: function stop() {\n      if (mode.stop) mode.stop();\n    },\n    trash: function trash() {\n      if (mode.trash) {\n        mode.trash();\n        DrawContext.store.render();\n      }\n    },\n    combineFeatures: function combineFeatures() {\n      if (mode.combineFeatures) {\n        mode.combineFeatures();\n      }\n    },\n    uncombineFeatures: function uncombineFeatures() {\n      if (mode.uncombineFeatures) {\n        mode.uncombineFeatures();\n      }\n    },\n    drag: function drag(event) {\n      delegate('drag', event);\n    },\n    click: function click(event) {\n      delegate('click', event);\n    },\n    mousemove: function mousemove(event) {\n      delegate('mousemove', event);\n    },\n    mousedown: function mousedown(event) {\n      delegate('mousedown', event);\n    },\n    mouseup: function mouseup(event) {\n      delegate('mouseup', event);\n    },\n    mouseout: function mouseout(event) {\n      delegate('mouseout', event);\n    },\n    keydown: function keydown(event) {\n      delegate('keydown', event);\n    },\n    keyup: function keyup(event) {\n      delegate('keyup', event);\n    },\n    touchstart: function touchstart(event) {\n      delegate('touchstart', event);\n    },\n    touchmove: function touchmove(event) {\n      delegate('touchmove', event);\n    },\n    touchend: function touchend(event) {\n      delegate('touchend', event);\n    },\n    tap: function tap(event) {\n      delegate('tap', event);\n    }\n  };\n};\n\nmodule.exports = ModeHandler;","var featuresAt = require('./features_at');\n\nvar Constants = require('../constants');\n\nmodule.exports = function getFeatureAtAndSetCursors(event, ctx) {\n  var features = featuresAt.click(event, null, ctx);\n  var classes = {\n    mouse: Constants.cursors.NONE\n  };\n\n  if (features[0]) {\n    classes.mouse = features[0].properties.active === Constants.activeStates.ACTIVE ? Constants.cursors.MOVE : Constants.cursors.POINTER;\n    classes.feature = features[0].properties.meta;\n  }\n\n  if (ctx.events.currentModeName().indexOf('draw') !== -1) {\n    classes.mouse = Constants.cursors.ADD;\n  }\n\n  ctx.ui.queueMapClasses(classes);\n  ctx.ui.updateMapClasses();\n  return features[0];\n};","var area = require('@mapbox/geojson-area');\n\nvar Constants = require('../constants');\n\nvar FEATURE_SORT_RANKS = {\n  Point: 0,\n  LineString: 1,\n  Polygon: 2\n};\n\nfunction comparator(a, b) {\n  var score = FEATURE_SORT_RANKS[a.geometry.type] - FEATURE_SORT_RANKS[b.geometry.type];\n\n  if (score === 0 && a.geometry.type === Constants.geojsonTypes.POLYGON) {\n    return a.area - b.area;\n  }\n\n  return score;\n} // Sort in the order above, then sort polygons by area ascending.\n\n\nfunction sortFeatures(features) {\n  return features.map(function (feature) {\n    if (feature.geometry.type === Constants.geojsonTypes.POLYGON) {\n      feature.area = area.geometry({\n        type: Constants.geojsonTypes.FEATURE,\n        property: {},\n        geometry: feature.geometry\n      });\n    }\n\n    return feature;\n  }).sort(comparator).map(function (feature) {\n    delete feature.area;\n    return feature;\n  });\n}\n\nmodule.exports = sortFeatures;","var wgs84 = require('wgs84');\n\nmodule.exports.geometry = geometry;\nmodule.exports.ring = ringArea;\n\nfunction geometry(_) {\n  var area = 0,\n      i;\n\n  switch (_.type) {\n    case 'Polygon':\n      return polygonArea(_.coordinates);\n\n    case 'MultiPolygon':\n      for (i = 0; i < _.coordinates.length; i++) {\n        area += polygonArea(_.coordinates[i]);\n      }\n\n      return area;\n\n    case 'Point':\n    case 'MultiPoint':\n    case 'LineString':\n    case 'MultiLineString':\n      return 0;\n\n    case 'GeometryCollection':\n      for (i = 0; i < _.geometries.length; i++) {\n        area += geometry(_.geometries[i]);\n      }\n\n      return area;\n  }\n}\n\nfunction polygonArea(coords) {\n  var area = 0;\n\n  if (coords && coords.length > 0) {\n    area += Math.abs(ringArea(coords[0]));\n\n    for (var i = 1; i < coords.length; i++) {\n      area -= Math.abs(ringArea(coords[i]));\n    }\n  }\n\n  return area;\n}\n/**\n * Calculate the approximate area of the polygon were it projected onto\n *     the earth.  Note that this area will be positive if ring is oriented\n *     clockwise, otherwise it will be negative.\n *\n * Reference:\n * Robert. G. Chamberlain and William H. Duquette, \"Some Algorithms for\n *     Polygons on a Sphere\", JPL Publication 07-03, Jet Propulsion\n *     Laboratory, Pasadena, CA, June 2007 http://trs-new.jpl.nasa.gov/dspace/handle/2014/40409\n *\n * Returns:\n * {float} The approximate signed geodesic area of the polygon in square\n *     meters.\n */\n\n\nfunction ringArea(coords) {\n  var p1,\n      p2,\n      p3,\n      lowerIndex,\n      middleIndex,\n      upperIndex,\n      i,\n      area = 0,\n      coordsLength = coords.length;\n\n  if (coordsLength > 2) {\n    for (i = 0; i < coordsLength; i++) {\n      if (i === coordsLength - 2) {\n        // i = N-2\n        lowerIndex = coordsLength - 2;\n        middleIndex = coordsLength - 1;\n        upperIndex = 0;\n      } else if (i === coordsLength - 1) {\n        // i = N-1\n        lowerIndex = coordsLength - 1;\n        middleIndex = 0;\n        upperIndex = 1;\n      } else {\n        // i = 0 to N-3\n        lowerIndex = i;\n        middleIndex = i + 1;\n        upperIndex = i + 2;\n      }\n\n      p1 = coords[lowerIndex];\n      p2 = coords[middleIndex];\n      p3 = coords[upperIndex];\n      area += (rad(p3[0]) - rad(p1[0])) * Math.sin(rad(p2[1]));\n    }\n\n    area = area * wgs84.RADIUS * wgs84.RADIUS / 2;\n  }\n\n  return area;\n}\n\nfunction rad(_) {\n  return _ * Math.PI / 180;\n}","module.exports.RADIUS = 6378137;\nmodule.exports.FLATTENING = 1 / 298.257223563;\nmodule.exports.POLAR_RADIUS = 6356752.3142;","/**\n * Returns a bounding box representing the event's location.\n *\n * @param {Event} mapEvent - Mapbox GL JS map event, with a point properties.\n * @return {Array<Array<number>>} Bounding box.\n */\nfunction mapEventToBoundingBox(mapEvent) {\n  var buffer = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  return [[mapEvent.point.x - buffer, mapEvent.point.y - buffer], [mapEvent.point.x + buffer, mapEvent.point.y + buffer]];\n}\n\nmodule.exports = mapEventToBoundingBox;","var euclideanDistance = require('./euclidean_distance');\n\nvar FINE_TOLERANCE = 4;\nvar GROSS_TOLERANCE = 12;\nvar INTERVAL = 500;\n\nmodule.exports = function isClick(start, end) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var fineTolerance = options.fineTolerance != null ? options.fineTolerance : FINE_TOLERANCE;\n  var grossTolerance = options.grossTolerance != null ? options.grossTolerance : GROSS_TOLERANCE;\n  var interval = options.interval != null ? options.interval : INTERVAL;\n  start.point = start.point || end.point;\n  start.time = start.time || end.time;\n  var moveDistance = euclideanDistance(start.point, end.point);\n  return moveDistance < fineTolerance || moveDistance < grossTolerance && end.time - start.time < interval;\n};","var euclideanDistance = require('./euclidean_distance');\n\nvar TOLERANCE = 25;\nvar INTERVAL = 250;\n\nmodule.exports = function isTap(start, end) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var tolerance = options.tolerance != null ? options.tolerance : TOLERANCE;\n  var interval = options.interval != null ? options.interval : INTERVAL;\n  start.point = start.point || end.point;\n  start.time = start.time || end.time;\n  var moveDistance = euclideanDistance(start.point, end.point);\n  return moveDistance < tolerance && end.time - start.time < interval;\n};","var ModeInterface = require('./mode_interface');\n\nvar eventMapper = {\n  drag: 'onDrag',\n  click: 'onClick',\n  mousemove: 'onMouseMove',\n  mousedown: 'onMouseDown',\n  mouseup: 'onMouseUp',\n  mouseout: 'onMouseOut',\n  keyup: 'onKeyUp',\n  keydown: 'onKeyDown',\n  touchstart: 'onTouchStart',\n  touchmove: 'onTouchMove',\n  touchend: 'onTouchEnd',\n  tap: 'onTap'\n};\nvar eventKeys = Object.keys(eventMapper);\n\nmodule.exports = function (modeObject) {\n  var modeObjectKeys = Object.keys(modeObject);\n  return function (ctx) {\n    var startOpts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var state = {};\n    var mode = modeObjectKeys.reduce(function (m, k) {\n      m[k] = modeObject[k];\n      return m;\n    }, new ModeInterface(ctx));\n\n    function wrapper(eh) {\n      return function (e) {\n        mode[eh](state, e);\n      };\n    }\n\n    return {\n      start: function start() {\n        var _this = this;\n\n        state = mode.onSetup(startOpts); // this should set ui buttons\n        // Adds event handlers for all event options\n        // add sets the selector to false for all\n        // handlers that are not present in the mode\n        // to reduce on render calls for functions that\n        // have no logic\n\n        eventKeys.forEach(function (key) {\n          var modeHandler = eventMapper[key];\n\n          var selector = function selector() {\n            return false;\n          };\n\n          if (modeObject[modeHandler]) {\n            selector = function selector() {\n              return true;\n            };\n          }\n\n          _this.on(key, selector, wrapper(modeHandler));\n        });\n      },\n      stop: function stop() {\n        mode.onStop(state);\n      },\n      trash: function trash() {\n        mode.onTrash(state);\n      },\n      combineFeatures: function combineFeatures() {\n        mode.onCombineFeatures(state);\n      },\n      uncombineFeatures: function uncombineFeatures() {\n        mode.onUncombineFeatures(state);\n      },\n      render: function render(geojson, push) {\n        mode.toDisplayFeatures(state, geojson, push);\n      }\n    };\n  };\n};","var ModeInterface = module.exports = require('./mode_interface_accessors');\n/**\n * Triggered while a mode is being transitioned into.\n * @param opts {Object} - this is the object passed via `draw.changeMode('mode', opts)`;\n * @name MODE.onSetup\n * @returns {Object} - this object will be passed to all other life cycle functions\n */\n\n\nModeInterface.prototype.onSetup = function () {};\n/**\n * Triggered when a drag event is detected on the map\n * @name MODE.onDrag\n * @param state {Object} - a mutible state object created by onSetup\n * @param e {Object} - the captured event that is triggering this life cycle event\n */\n\n\nModeInterface.prototype.onDrag = function () {};\n/**\n * Triggered when the mouse is clicked\n * @name MODE.onClick\n * @param state {Object} - a mutible state object created by onSetup\n * @param e {Object} - the captured event that is triggering this life cycle event\n */\n\n\nModeInterface.prototype.onClick = function () {};\n/**\n * Triggered with the mouse is moved\n * @name MODE.onMouseMove\n * @param state {Object} - a mutible state object created by onSetup\n * @param e {Object} - the captured event that is triggering this life cycle event\n */\n\n\nModeInterface.prototype.onMouseMove = function () {};\n/**\n * Triggered when the mouse button is pressed down\n * @name MODE.onMouseDown\n * @param state {Object} - a mutible state object created by onSetup\n * @param e {Object} - the captured event that is triggering this life cycle event\n */\n\n\nModeInterface.prototype.onMouseDown = function () {};\n/**\n * Triggered when the mouse button is released\n * @name MODE.onMouseUp\n * @param state {Object} - a mutible state object created by onSetup\n * @param e {Object} - the captured event that is triggering this life cycle event\n */\n\n\nModeInterface.prototype.onMouseUp = function () {};\n/**\n * Triggered when the mouse leaves the map's container\n * @name MODE.onMouseOut\n * @param state {Object} - a mutible state object created by onSetup\n * @param e {Object} - the captured event that is triggering this life cycle event\n */\n\n\nModeInterface.prototype.onMouseOut = function () {};\n/**\n * Triggered when a key up event is detected\n * @name MODE.onKeyUp\n * @param state {Object} - a mutible state object created by onSetup\n * @param e {Object} - the captured event that is triggering this life cycle event\n */\n\n\nModeInterface.prototype.onKeyUp = function () {};\n/**\n * Triggered when a key down event is detected\n * @name MODE.onKeyDown\n * @param state {Object} - a mutible state object created by onSetup\n * @param e {Object} - the captured event that is triggering this life cycle event\n */\n\n\nModeInterface.prototype.onKeyDown = function () {};\n/**\n * Triggered when a touch event is started\n * @name MODE.onTouchStart\n * @param state {Object} - a mutible state object created by onSetup\n * @param e {Object} - the captured event that is triggering this life cycle event\n */\n\n\nModeInterface.prototype.onTouchStart = function () {};\n/**\n * Triggered when one drags thier finger on a mobile device\n * @name MODE.onTouchMove\n * @param state {Object} - a mutible state object created by onSetup\n * @param e {Object} - the captured event that is triggering this life cycle event\n */\n\n\nModeInterface.prototype.onTouchMove = function () {};\n/**\n * Triggered when one removes their finger from the map\n * @name MODE.onTouchEnd\n * @param state {Object} - a mutible state object created by onSetup\n * @param e {Object} - the captured event that is triggering this life cycle event\n */\n\n\nModeInterface.prototype.onTouchEnd = function () {};\n/**\n * Triggered when one quicly taps the map\n * @name MODE.onTap\n * @param state {Object} - a mutible state object created by onSetup\n * @param e {Object} - the captured event that is triggering this life cycle event\n */\n\n\nModeInterface.prototype.onTap = function () {};\n/**\n * Triggered when the mode is being exited, to be used for cleaning up artifacts such as invalid features\n * @name MODE.onStop\n * @param state {Object} - a mutible state object created by onSetup\n */\n\n\nModeInterface.prototype.onStop = function () {};\n/**\n * Triggered when [draw.trash()](https://github.com/mapbox/mapbox-gl-draw/blob/master/API.md#trash-draw) is called.\n * @name MODE.onTrash\n * @param state {Object} - a mutible state object created by onSetup\n */\n\n\nModeInterface.prototype.onTrash = function () {};\n/**\n * Triggered when [draw.combineFeatures()](https://github.com/mapbox/mapbox-gl-draw/blob/master/API.md#combinefeatures-draw) is called.\n * @name MODE.onCombineFeature\n * @param state {Object} - a mutible state object created by onSetup\n */\n\n\nModeInterface.prototype.onCombineFeature = function () {};\n/**\n * Triggered when [draw.uncombineFeatures()](https://github.com/mapbox/mapbox-gl-draw/blob/master/API.md#uncombinefeatures-draw) is called.\n * @name MODE.onUncombineFeature\n * @param state {Object} - a mutible state object created by onSetup\n */\n\n\nModeInterface.prototype.onUncombineFeature = function () {};\n/**\n * Triggered per feature on render to convert raw features into set of features for display on the map\n * See [styling draw](https://github.com/mapbox/mapbox-gl-draw/blob/master/API.md#styling-draw) for information about what geojson properties Draw uses as part of rendering.\n * @name MODE.toDisplayFeatures\n * @param state {Object} - a mutible state object created by onSetup\n * @param geojson {Object} - a geojson being evaulated. To render, pass to `display`.\n * @param display {Function} - all geojson objects passed to this be rendered onto the map\n */\n\n\nModeInterface.prototype.toDisplayFeatures = function () {\n  throw new Error('You must overwrite toDisplayFeatures');\n};","var Constants = require('../constants');\n\nvar featuresAt = require('../lib/features_at');\n\nvar Point = require('../feature_types/point');\n\nvar LineString = require('../feature_types/line_string');\n\nvar Polygon = require('../feature_types/polygon');\n\nvar MultiFeature = require('../feature_types/multi_feature');\n\nvar ModeInterface = module.exports = function (ctx) {\n  this.map = ctx.map;\n  this.drawConfig = JSON.parse(JSON.stringify(ctx.options || {}));\n  this._ctx = ctx;\n};\n/**\n * Sets Draw's interal selected state\n * @name this.setSelected\n * @param {DrawFeature[]} - whats selected as a [DrawFeature](https://github.com/mapbox/mapbox-gl-draw/blob/master/src/feature_types/feature.js)\n */\n\n\nModeInterface.prototype.setSelected = function (features) {\n  return this._ctx.store.setSelected(features);\n};\n/**\n * Sets Draw's internal selected coordinate state\n * @name this.setSelectedCoordinates\n * @param {Object[]} coords - a array of {coord_path: 'string', featureId: 'string'}\n */\n\n\nModeInterface.prototype.setSelectedCoordinates = function (coords) {\n  var _this = this;\n\n  this._ctx.store.setSelectedCoordinates(coords);\n\n  coords.reduce(function (m, c) {\n    if (m[c.feature_id] === undefined) {\n      m[c.feature_id] = true;\n\n      _this._ctx.store.get(c.feature_id).changed();\n    }\n\n    return m;\n  }, {});\n};\n/**\n * Get all selected features as a [DrawFeature](https://github.com/mapbox/mapbox-gl-draw/blob/master/src/feature_types/feature.js)\n * @name this.getSelected\n * @returns {DrawFeature[]}\n */\n\n\nModeInterface.prototype.getSelected = function () {\n  return this._ctx.store.getSelected();\n};\n/**\n * Get the ids of all currently selected features\n * @name this.getSelectedIds\n * @returns {String[]}\n */\n\n\nModeInterface.prototype.getSelectedIds = function () {\n  return this._ctx.store.getSelectedIds();\n};\n/**\n * Check if a feature is selected\n * @name this.isSelected\n * @param {String} id - a feature id\n * @returns {Boolean}\n */\n\n\nModeInterface.prototype.isSelected = function (id) {\n  return this._ctx.store.isSelected(id);\n};\n/**\n * Get a [DrawFeature](https://github.com/mapbox/mapbox-gl-draw/blob/master/src/feature_types/feature.js) by its id\n * @name this.getFeature\n * @param {String} id - a feature id\n * @returns {DrawFeature}\n */\n\n\nModeInterface.prototype.getFeature = function (id) {\n  return this._ctx.store.get(id);\n};\n/**\n * Add a feature to draw's internal selected state\n * @name this.select\n * @param {String} id\n */\n\n\nModeInterface.prototype.select = function (id) {\n  return this._ctx.store.select(id);\n};\n/**\n * Remove a feature from draw's internal selected state\n * @name this.delete\n * @param {String} id\n */\n\n\nModeInterface.prototype.deselect = function (id) {\n  return this._ctx.store.deselect(id);\n};\n/**\n * Delete a feature from draw\n * @name this.deleteFeature\n * @param {String} id - a feature id\n */\n\n\nModeInterface.prototype.deleteFeature = function (id) {\n  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return this._ctx.store.delete(id, opts);\n};\n/**\n * Add a [DrawFeature](https://github.com/mapbox/mapbox-gl-draw/blob/master/src/feature_types/feature.js) to draw.\n * See `this.newFeature` for converting geojson into a DrawFeature\n * @name this.addFeature\n * @param {DrawFeature} feature - the feature to add\n */\n\n\nModeInterface.prototype.addFeature = function (feature) {\n  return this._ctx.store.add(feature);\n};\n/**\n * Clear all selected features\n */\n\n\nModeInterface.prototype.clearSelectedFeatures = function () {\n  return this._ctx.store.clearSelected();\n};\n/**\n * Clear all selected coordinates\n */\n\n\nModeInterface.prototype.clearSelectedCoordinates = function () {\n  return this._ctx.store.clearSelectedCoordinates();\n};\n/**\n * Indicate if the different action are currently possible with your mode\n * See [draw.actionalbe](https://github.com/mapbox/mapbox-gl-draw/blob/master/API.md#drawactionable) for a list of possible actions. All undefined actions are set to **false** by default\n * @name this.setActionableState\n * @param {Object} actions\n */\n\n\nModeInterface.prototype.setActionableState = function () {\n  var actions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var newSet = {\n    trash: actions.trash || false,\n    combineFeatures: actions.combineFeatures || false,\n    uncombineFeatures: actions.uncombineFeatures || false\n  };\n  return this._ctx.events.actionable(newSet);\n};\n/**\n * Trigger a mode change\n * @name this.changeMode\n * @param {String} mode - the mode to transition into\n * @param {Object} opts - the options object to pass to the new mode\n * @param {Object} eventOpts - used to control what kind of events are emitted.\n */\n\n\nModeInterface.prototype.changeMode = function (mode) {\n  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var eventOpts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  return this._ctx.events.changeMode(mode, opts, eventOpts);\n};\n/**\n * Update the state of draw map classes\n * @name this.updateUIClasses\n * @param {Object} opts\n */\n\n\nModeInterface.prototype.updateUIClasses = function (opts) {\n  return this._ctx.ui.queueMapClasses(opts);\n};\n/**\n * If a name is provided it makes that button active, else if makes all buttons inactive\n * @name this.activateUIButton\n * @param {String?} name - name of the button to make active, leave as undefined to set buttons to be inactive\n */\n\n\nModeInterface.prototype.activateUIButton = function (name) {\n  return this._ctx.ui.setActiveButton(name);\n};\n/**\n * Get the features at the location of an event object or in a bbox\n * @name this.featuresAt\n * @param {Event||NULL} event - a mapbox-gl event object\n * @param {BBOX||NULL} bbox - the area to get features from\n * @param {String} bufferType - is this `click` or `tap` event, defaults to click\n */\n\n\nModeInterface.prototype.featuresAt = function (event, bbox) {\n  var bufferType = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'click';\n  if (bufferType !== 'click' && bufferType !== 'touch') throw new Error('invalid buffer type');\n  return featuresAt[bufferType](event, bbox, this._ctx);\n};\n/**\n * Create a new [DrawFeature](https://github.com/mapbox/mapbox-gl-draw/blob/master/src/feature_types/feature.js) from geojson\n * @name this.newFeature\n * @param {GeoJSONFeature} geojson\n * @returns {DrawFeature}\n */\n\n\nModeInterface.prototype.newFeature = function (geojson) {\n  var type = geojson.geometry.type;\n  if (type === Constants.geojsonTypes.POINT) return new Point(this._ctx, geojson);\n  if (type === Constants.geojsonTypes.LINE_STRING) return new LineString(this._ctx, geojson);\n  if (type === Constants.geojsonTypes.POLYGON) return new Polygon(this._ctx, geojson);\n  return new MultiFeature(this._ctx, geojson);\n};\n/**\n * Check is an object is an instance of a [DrawFeature](https://github.com/mapbox/mapbox-gl-draw/blob/master/src/feature_types/feature.js)\n * @name this.isInstanceOf\n * @param {String} type - `Point`, `LineString`, `Polygon`, `MultiFeature`\n * @param {Object} feature - the object that needs to be checked\n * @returns {Boolean}\n */\n\n\nModeInterface.prototype.isInstanceOf = function (type, feature) {\n  if (type === Constants.geojsonTypes.POINT) return feature instanceof Point;\n  if (type === Constants.geojsonTypes.LINE_STRING) return feature instanceof LineString;\n  if (type === Constants.geojsonTypes.POLYGON) return feature instanceof Polygon;\n  if (type === 'MultiFeature') return feature instanceof MultiFeature;\n  throw new Error(\"Unknown feature class: \".concat(type));\n};\n/**\n * Force draw to rerender the feature of the provided id\n * @name this.doRender\n * @param {String} id - a feature id\n */\n\n\nModeInterface.prototype.doRender = function (id) {\n  return this._ctx.store.featureChanged(id);\n};","var throttle = require('./lib/throttle');\n\nvar toDenseArray = require('./lib/to_dense_array');\n\nvar StringSet = require('./lib/string_set');\n\nvar render = require('./render');\n\nvar interactions = require('./constants').interactions;\n\nvar Store = module.exports = function (ctx) {\n  this._features = {};\n  this._featureIds = new StringSet();\n  this._selectedFeatureIds = new StringSet();\n  this._selectedCoordinates = [];\n  this._changedFeatureIds = new StringSet();\n  this._deletedFeaturesToEmit = [];\n  this._emitSelectionChange = false;\n  this._mapInitialConfig = {};\n  this.ctx = ctx;\n  this.sources = {\n    hot: [],\n    cold: []\n  };\n  this.render = throttle(render, 16, this);\n  this.isDirty = false;\n};\n/**\n * Delays all rendering until the returned function is invoked\n * @return {Function} renderBatch\n */\n\n\nStore.prototype.createRenderBatch = function () {\n  var _this = this;\n\n  var holdRender = this.render;\n  var numRenders = 0;\n\n  this.render = function () {\n    numRenders++;\n  };\n\n  return function () {\n    _this.render = holdRender;\n\n    if (numRenders > 0) {\n      _this.render();\n    }\n  };\n};\n/**\n * Sets the store's state to dirty.\n * @return {Store} this\n */\n\n\nStore.prototype.setDirty = function () {\n  this.isDirty = true;\n  return this;\n};\n/**\n * Sets a feature's state to changed.\n * @param {string} featureId\n * @return {Store} this\n */\n\n\nStore.prototype.featureChanged = function (featureId) {\n  this._changedFeatureIds.add(featureId);\n\n  return this;\n};\n/**\n * Gets the ids of all features currently in changed state.\n * @return {Store} this\n */\n\n\nStore.prototype.getChangedIds = function () {\n  return this._changedFeatureIds.values();\n};\n/**\n * Sets all features to unchanged state.\n * @return {Store} this\n */\n\n\nStore.prototype.clearChangedIds = function () {\n  this._changedFeatureIds.clear();\n\n  return this;\n};\n/**\n * Gets the ids of all features in the store.\n * @return {Store} this\n */\n\n\nStore.prototype.getAllIds = function () {\n  return this._featureIds.values();\n};\n/**\n * Adds a feature to the store.\n * @param {Object} feature\n *\n * @return {Store} this\n */\n\n\nStore.prototype.add = function (feature) {\n  this.featureChanged(feature.id);\n  this._features[feature.id] = feature;\n\n  this._featureIds.add(feature.id);\n\n  return this;\n};\n/**\n * Deletes a feature or array of features from the store.\n * Cleans up after the deletion by deselecting the features.\n * If changes were made, sets the state to the dirty\n * and fires an event.\n * @param {string | Array<string>} featureIds\n * @param {Object} [options]\n * @param {Object} [options.silent] - If `true`, this invocation will not fire an event.\n * @return {Store} this\n */\n\n\nStore.prototype.delete = function (featureIds) {\n  var _this2 = this;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  toDenseArray(featureIds).forEach(function (id) {\n    if (!_this2._featureIds.has(id)) return;\n\n    _this2._featureIds.delete(id);\n\n    _this2._selectedFeatureIds.delete(id);\n\n    if (!options.silent) {\n      if (_this2._deletedFeaturesToEmit.indexOf(_this2._features[id]) === -1) {\n        _this2._deletedFeaturesToEmit.push(_this2._features[id]);\n      }\n    }\n\n    delete _this2._features[id];\n    _this2.isDirty = true;\n  });\n  refreshSelectedCoordinates.call(this, options);\n  return this;\n};\n/**\n * Returns a feature in the store matching the specified value.\n * @return {Object | undefined} feature\n */\n\n\nStore.prototype.get = function (id) {\n  return this._features[id];\n};\n/**\n * Returns all features in the store.\n * @return {Array<Object>}\n */\n\n\nStore.prototype.getAll = function () {\n  var _this3 = this;\n\n  return Object.keys(this._features).map(function (id) {\n    return _this3._features[id];\n  });\n};\n/**\n * Adds features to the current selection.\n * @param {string | Array<string>} featureIds\n * @param {Object} [options]\n * @param {Object} [options.silent] - If `true`, this invocation will not fire an event.\n * @return {Store} this\n */\n\n\nStore.prototype.select = function (featureIds) {\n  var _this4 = this;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  toDenseArray(featureIds).forEach(function (id) {\n    if (_this4._selectedFeatureIds.has(id)) return;\n\n    _this4._selectedFeatureIds.add(id);\n\n    _this4._changedFeatureIds.add(id);\n\n    if (!options.silent) {\n      _this4._emitSelectionChange = true;\n    }\n  });\n  return this;\n};\n/**\n * Deletes features from the current selection.\n * @param {string | Array<string>} featureIds\n * @param {Object} [options]\n * @param {Object} [options.silent] - If `true`, this invocation will not fire an event.\n * @return {Store} this\n */\n\n\nStore.prototype.deselect = function (featureIds) {\n  var _this5 = this;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  toDenseArray(featureIds).forEach(function (id) {\n    if (!_this5._selectedFeatureIds.has(id)) return;\n\n    _this5._selectedFeatureIds.delete(id);\n\n    _this5._changedFeatureIds.add(id);\n\n    if (!options.silent) {\n      _this5._emitSelectionChange = true;\n    }\n  });\n  refreshSelectedCoordinates.call(this, options);\n  return this;\n};\n/**\n * Clears the current selection.\n * @param {Object} [options]\n * @param {Object} [options.silent] - If `true`, this invocation will not fire an event.\n * @return {Store} this\n */\n\n\nStore.prototype.clearSelected = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  this.deselect(this._selectedFeatureIds.values(), {\n    silent: options.silent\n  });\n  return this;\n};\n/**\n * Sets the store's selection, clearing any prior values.\n * If no feature ids are passed, the store is just cleared.\n * @param {string | Array<string> | undefined} featureIds\n * @param {Object} [options]\n * @param {Object} [options.silent] - If `true`, this invocation will not fire an event.\n * @return {Store} this\n */\n\n\nStore.prototype.setSelected = function (featureIds) {\n  var _this6 = this;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  featureIds = toDenseArray(featureIds); // Deselect any features not in the new selection\n\n  this.deselect(this._selectedFeatureIds.values().filter(function (id) {\n    return featureIds.indexOf(id) === -1;\n  }), {\n    silent: options.silent\n  }); // Select any features in the new selection that were not already selected\n\n  this.select(featureIds.filter(function (id) {\n    return !_this6._selectedFeatureIds.has(id);\n  }), {\n    silent: options.silent\n  });\n  return this;\n};\n/**\n * Sets the store's coordinates selection, clearing any prior values.\n * @param {Array<Array<string>>} coordinates\n * @return {Store} this\n */\n\n\nStore.prototype.setSelectedCoordinates = function (coordinates) {\n  this._selectedCoordinates = coordinates;\n  this._emitSelectionChange = true;\n  return this;\n};\n/**\n * Clears the current coordinates selection.\n * @param {Object} [options]\n * @return {Store} this\n */\n\n\nStore.prototype.clearSelectedCoordinates = function () {\n  this._selectedCoordinates = [];\n  this._emitSelectionChange = true;\n  return this;\n};\n/**\n * Returns the ids of features in the current selection.\n * @return {Array<string>} Selected feature ids.\n */\n\n\nStore.prototype.getSelectedIds = function () {\n  return this._selectedFeatureIds.values();\n};\n/**\n * Returns features in the current selection.\n * @return {Array<Object>} Selected features.\n */\n\n\nStore.prototype.getSelected = function () {\n  var _this7 = this;\n\n  return this._selectedFeatureIds.values().map(function (id) {\n    return _this7.get(id);\n  });\n};\n/**\n * Returns selected coordinates in the currently selected feature.\n * @return {Array<Object>} Selected coordinates.\n */\n\n\nStore.prototype.getSelectedCoordinates = function () {\n  var _this8 = this;\n\n  var selected = this._selectedCoordinates.map(function (coordinate) {\n    var feature = _this8.get(coordinate.feature_id);\n\n    return {\n      coordinates: feature.getCoordinate(coordinate.coord_path)\n    };\n  });\n\n  return selected;\n};\n/**\n * Indicates whether a feature is selected.\n * @param {string} featureId\n * @return {boolean} `true` if the feature is selected, `false` if not.\n */\n\n\nStore.prototype.isSelected = function (featureId) {\n  return this._selectedFeatureIds.has(featureId);\n};\n/**\n * Sets a property on the given feature\n * @param {string} featureId\n * @param {string} property property\n * @param {string} property value\n*/\n\n\nStore.prototype.setFeatureProperty = function (featureId, property, value) {\n  this.get(featureId).setProperty(property, value);\n  this.featureChanged(featureId);\n};\n\nfunction refreshSelectedCoordinates(options) {\n  var _this9 = this;\n\n  var newSelectedCoordinates = this._selectedCoordinates.filter(function (point) {\n    return _this9._selectedFeatureIds.has(point.feature_id);\n  });\n\n  if (this._selectedCoordinates.length !== newSelectedCoordinates.length && !options.silent) {\n    this._emitSelectionChange = true;\n  }\n\n  this._selectedCoordinates = newSelectedCoordinates;\n}\n/**\n * Stores the initial config for a map, so that we can set it again after we're done.\n*/\n\n\nStore.prototype.storeMapConfig = function () {\n  var _this10 = this;\n\n  interactions.forEach(function (interaction) {\n    var interactionSet = _this10.ctx.map[interaction];\n\n    if (interactionSet) {\n      _this10._mapInitialConfig[interaction] = _this10.ctx.map[interaction].isEnabled();\n    }\n  });\n};\n/**\n * Restores the initial config for a map, ensuring all is well.\n*/\n\n\nStore.prototype.restoreMapConfig = function () {\n  var _this11 = this;\n\n  Object.keys(this._mapInitialConfig).forEach(function (key) {\n    var value = _this11._mapInitialConfig[key];\n\n    if (value) {\n      _this11.ctx.map[key].enable();\n    } else {\n      _this11.ctx.map[key].disable();\n    }\n  });\n};\n/**\n * Returns the initial state of an interaction setting.\n * @param {string} interaction\n * @return {boolean} `true` if the interaction is enabled, `false` if not.\n * Defaults to `true`. (Todo: include defaults.)\n*/\n\n\nStore.prototype.getInitialConfigValue = function (interaction) {\n  if (this._mapInitialConfig[interaction] !== undefined) {\n    return this._mapInitialConfig[interaction];\n  } else {\n    // This needs to be set to whatever the default is for that interaction\n    // It seems to be true for all cases currently, so let's send back `true`.\n    return true;\n  }\n};","function throttle(fn, time, context) {\n  var lock, args;\n\n  function later() {\n    // reset lock and call if queued\n    lock = false;\n\n    if (args) {\n      wrapperFn.apply(context, args);\n      args = false;\n    }\n  }\n\n  function wrapperFn() {\n    if (lock) {\n      // called too soon, queue to call later\n      args = arguments;\n    } else {\n      // lock until later then call\n      lock = true;\n      fn.apply(context, arguments);\n      setTimeout(later, time);\n    }\n  }\n\n  return wrapperFn;\n}\n\nmodule.exports = throttle;","/**\n * Derive a dense array (no `undefined`s) from a single value or array.\n *\n * @param {any} x\n * @return {Array<any>}\n */\nfunction toDenseArray(x) {\n  return [].concat(x).filter(function (y) {\n    return y !== undefined;\n  });\n}\n\nmodule.exports = toDenseArray;","var Constants = require('./constants');\n\nmodule.exports = function render() {\n  var store = this;\n  var mapExists = store.ctx.map && store.ctx.map.getSource(Constants.sources.HOT) !== undefined;\n  if (!mapExists) return cleanup();\n  var mode = store.ctx.events.currentModeName();\n  store.ctx.ui.queueMapClasses({\n    mode: mode\n  });\n  var newHotIds = [];\n  var newColdIds = [];\n\n  if (store.isDirty) {\n    newColdIds = store.getAllIds();\n  } else {\n    newHotIds = store.getChangedIds().filter(function (id) {\n      return store.get(id) !== undefined;\n    });\n    newColdIds = store.sources.hot.filter(function (geojson) {\n      return geojson.properties.id && newHotIds.indexOf(geojson.properties.id) === -1 && store.get(geojson.properties.id) !== undefined;\n    }).map(function (geojson) {\n      return geojson.properties.id;\n    });\n  }\n\n  store.sources.hot = [];\n  var lastColdCount = store.sources.cold.length;\n  store.sources.cold = store.isDirty ? [] : store.sources.cold.filter(function (geojson) {\n    var id = geojson.properties.id || geojson.properties.parent;\n    return newHotIds.indexOf(id) === -1;\n  });\n  var coldChanged = lastColdCount !== store.sources.cold.length || newColdIds.length > 0;\n  newHotIds.forEach(function (id) {\n    return renderFeature(id, 'hot');\n  });\n  newColdIds.forEach(function (id) {\n    return renderFeature(id, 'cold');\n  });\n\n  function renderFeature(id, source) {\n    var feature = store.get(id);\n    var featureInternal = feature.internal(mode);\n    store.ctx.events.currentModeRender(featureInternal, function (geojson) {\n      store.sources[source].push(geojson);\n    });\n  }\n\n  if (coldChanged) {\n    store.ctx.map.getSource(Constants.sources.COLD).setData({\n      type: Constants.geojsonTypes.FEATURE_COLLECTION,\n      features: store.sources.cold\n    });\n  }\n\n  store.ctx.map.getSource(Constants.sources.HOT).setData({\n    type: Constants.geojsonTypes.FEATURE_COLLECTION,\n    features: store.sources.hot\n  });\n\n  if (store._emitSelectionChange) {\n    store.ctx.map.fire(Constants.events.SELECTION_CHANGE, {\n      features: store.getSelected().map(function (feature) {\n        return feature.toGeoJSON();\n      }),\n      points: store.getSelectedCoordinates().map(function (coordinate) {\n        return {\n          type: Constants.geojsonTypes.FEATURE,\n          properties: {},\n          geometry: {\n            type: Constants.geojsonTypes.POINT,\n            coordinates: coordinate.coordinates\n          }\n        };\n      })\n    });\n    store._emitSelectionChange = false;\n  }\n\n  if (store._deletedFeaturesToEmit.length) {\n    var geojsonToEmit = store._deletedFeaturesToEmit.map(function (feature) {\n      return feature.toGeoJSON();\n    });\n\n    store._deletedFeaturesToEmit = [];\n    store.ctx.map.fire(Constants.events.DELETE, {\n      features: geojsonToEmit\n    });\n  }\n\n  cleanup();\n  store.ctx.map.fire(Constants.events.RENDER, {});\n\n  function cleanup() {\n    store.isDirty = false;\n    store.clearChangedIds();\n  }\n};","var xtend = require('xtend');\n\nvar Constants = require('./constants');\n\nvar classTypes = ['mode', 'feature', 'mouse'];\n\nmodule.exports = function (ctx) {\n  var buttonElements = {};\n  var activeButton = null;\n  var currentMapClasses = {\n    mode: null,\n    // e.g. mode-direct_select\n    feature: null,\n    // e.g. feature-vertex\n    mouse: null // e.g. mouse-move\n\n  };\n  var nextMapClasses = {\n    mode: null,\n    feature: null,\n    mouse: null\n  };\n\n  function clearMapClasses() {\n    queueMapClasses({\n      mode: null,\n      feature: null,\n      mouse: null\n    });\n    updateMapClasses();\n  }\n\n  function queueMapClasses(options) {\n    nextMapClasses = xtend(nextMapClasses, options);\n  }\n\n  function updateMapClasses() {\n    if (!ctx.container) return;\n    var classesToRemove = [];\n    var classesToAdd = [];\n    classTypes.forEach(function (type) {\n      if (nextMapClasses[type] === currentMapClasses[type]) return;\n      classesToRemove.push(\"\".concat(type, \"-\").concat(currentMapClasses[type]));\n\n      if (nextMapClasses[type] !== null) {\n        classesToAdd.push(\"\".concat(type, \"-\").concat(nextMapClasses[type]));\n      }\n    });\n\n    if (classesToRemove.length > 0) {\n      ctx.container.classList.remove.apply(ctx.container.classList, classesToRemove);\n    }\n\n    if (classesToAdd.length > 0) {\n      ctx.container.classList.add.apply(ctx.container.classList, classesToAdd);\n    }\n\n    currentMapClasses = xtend(currentMapClasses, nextMapClasses);\n  }\n\n  function createControlButton(id) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var button = document.createElement('button');\n    button.className = \"\".concat(Constants.classes.CONTROL_BUTTON, \" \").concat(options.className);\n    button.setAttribute('title', options.title);\n    options.container.appendChild(button);\n    button.addEventListener('click', function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n      var clickedButton = e.target;\n\n      if (clickedButton === activeButton) {\n        deactivateButtons();\n        return;\n      }\n\n      setActiveButton(id);\n      options.onActivate();\n    }, true);\n    return button;\n  }\n\n  function deactivateButtons() {\n    if (!activeButton) return;\n    activeButton.classList.remove(Constants.classes.ACTIVE_BUTTON);\n    activeButton = null;\n  }\n\n  function setActiveButton(id) {\n    deactivateButtons();\n    var button = buttonElements[id];\n    if (!button) return;\n\n    if (button && id !== 'trash') {\n      button.classList.add(Constants.classes.ACTIVE_BUTTON);\n      activeButton = button;\n    }\n  }\n\n  function addButtons() {\n    var controls = ctx.options.controls;\n    var controlGroup = document.createElement('div');\n    controlGroup.className = \"\".concat(Constants.classes.CONTROL_GROUP, \" \").concat(Constants.classes.CONTROL_BASE);\n    if (!controls) return controlGroup;\n\n    if (controls[Constants.types.LINE]) {\n      buttonElements[Constants.types.LINE] = createControlButton(Constants.types.LINE, {\n        container: controlGroup,\n        className: Constants.classes.CONTROL_BUTTON_LINE,\n        title: \"LineString tool \".concat(ctx.options.keybindings ? '(l)' : ''),\n        onActivate: function onActivate() {\n          return ctx.events.changeMode(Constants.modes.DRAW_LINE_STRING);\n        }\n      });\n    }\n\n    if (controls[Constants.types.POLYGON]) {\n      buttonElements[Constants.types.POLYGON] = createControlButton(Constants.types.POLYGON, {\n        container: controlGroup,\n        className: Constants.classes.CONTROL_BUTTON_POLYGON,\n        title: \"Polygon tool \".concat(ctx.options.keybindings ? '(p)' : ''),\n        onActivate: function onActivate() {\n          return ctx.events.changeMode(Constants.modes.DRAW_POLYGON);\n        }\n      });\n    }\n\n    if (controls[Constants.types.POINT]) {\n      buttonElements[Constants.types.POINT] = createControlButton(Constants.types.POINT, {\n        container: controlGroup,\n        className: Constants.classes.CONTROL_BUTTON_POINT,\n        title: \"Marker tool \".concat(ctx.options.keybindings ? '(m)' : ''),\n        onActivate: function onActivate() {\n          return ctx.events.changeMode(Constants.modes.DRAW_POINT);\n        }\n      });\n    }\n\n    if (controls.trash) {\n      buttonElements.trash = createControlButton('trash', {\n        container: controlGroup,\n        className: Constants.classes.CONTROL_BUTTON_TRASH,\n        title: 'Delete',\n        onActivate: function onActivate() {\n          ctx.events.trash();\n        }\n      });\n    }\n\n    if (controls.combine_features) {\n      buttonElements.combine_features = createControlButton('combineFeatures', {\n        container: controlGroup,\n        className: Constants.classes.CONTROL_BUTTON_COMBINE_FEATURES,\n        title: 'Combine',\n        onActivate: function onActivate() {\n          ctx.events.combineFeatures();\n        }\n      });\n    }\n\n    if (controls.uncombine_features) {\n      buttonElements.uncombine_features = createControlButton('uncombineFeatures', {\n        container: controlGroup,\n        className: Constants.classes.CONTROL_BUTTON_UNCOMBINE_FEATURES,\n        title: 'Uncombine',\n        onActivate: function onActivate() {\n          ctx.events.uncombineFeatures();\n        }\n      });\n    }\n\n    return controlGroup;\n  }\n\n  function removeButtons() {\n    Object.keys(buttonElements).forEach(function (buttonId) {\n      var button = buttonElements[buttonId];\n\n      if (button.parentNode) {\n        button.parentNode.removeChild(button);\n      }\n\n      delete buttonElements[buttonId];\n    });\n  }\n\n  return {\n    setActiveButton: setActiveButton,\n    queueMapClasses: queueMapClasses,\n    updateMapClasses: updateMapClasses,\n    clearMapClasses: clearMapClasses,\n    addButtons: addButtons,\n    removeButtons: removeButtons\n  };\n};","var xtend = require('xtend');\n\nvar Constants = require('./constants');\n\nvar defaultOptions = {\n  defaultMode: Constants.modes.SIMPLE_SELECT,\n  keybindings: true,\n  touchEnabled: true,\n  clickBuffer: 2,\n  touchBuffer: 25,\n  boxSelect: true,\n  displayControlsDefault: true,\n  styles: require('./lib/theme'),\n  modes: require('./modes'),\n  controls: {},\n  userProperties: false\n};\nvar showControls = {\n  point: true,\n  line_string: true,\n  polygon: true,\n  trash: true,\n  combine_features: true,\n  uncombine_features: true\n};\nvar hideControls = {\n  point: false,\n  line_string: false,\n  polygon: false,\n  trash: false,\n  combine_features: false,\n  uncombine_features: false\n};\n\nfunction addSources(styles, sourceBucket) {\n  return styles.map(function (style) {\n    if (style.source) return style;\n    return xtend(style, {\n      id: \"\".concat(style.id, \".\").concat(sourceBucket),\n      source: sourceBucket === 'hot' ? Constants.sources.HOT : Constants.sources.COLD\n    });\n  });\n}\n\nmodule.exports = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var withDefaults = xtend(options);\n\n  if (!options.controls) {\n    withDefaults.controls = {};\n  }\n\n  if (options.displayControlsDefault === false) {\n    withDefaults.controls = xtend(hideControls, options.controls);\n  } else {\n    withDefaults.controls = xtend(showControls, options.controls);\n  }\n\n  withDefaults = xtend(defaultOptions, withDefaults); // Layers with a shared source should be adjacent for performance reasons\n\n  withDefaults.styles = addSources(withDefaults.styles, 'cold').concat(addSources(withDefaults.styles, 'hot'));\n  return withDefaults;\n};","module.exports = [{\n  'id': 'gl-draw-polygon-fill-inactive',\n  'type': 'fill',\n  'filter': ['all', ['==', 'active', 'false'], ['==', '$type', 'Polygon'], ['!=', 'mode', 'static']],\n  'paint': {\n    'fill-color': '#3bb2d0',\n    'fill-outline-color': '#3bb2d0',\n    'fill-opacity': 0.1\n  }\n}, {\n  'id': 'gl-draw-polygon-fill-active',\n  'type': 'fill',\n  'filter': ['all', ['==', 'active', 'true'], ['==', '$type', 'Polygon']],\n  'paint': {\n    'fill-color': '#fbb03b',\n    'fill-outline-color': '#fbb03b',\n    'fill-opacity': 0.1\n  }\n}, {\n  'id': 'gl-draw-polygon-midpoint',\n  'type': 'circle',\n  'filter': ['all', ['==', '$type', 'Point'], ['==', 'meta', 'midpoint']],\n  'paint': {\n    'circle-radius': 3,\n    'circle-color': '#fbb03b'\n  }\n}, {\n  'id': 'gl-draw-polygon-stroke-inactive',\n  'type': 'line',\n  'filter': ['all', ['==', 'active', 'false'], ['==', '$type', 'Polygon'], ['!=', 'mode', 'static']],\n  'layout': {\n    'line-cap': 'round',\n    'line-join': 'round'\n  },\n  'paint': {\n    'line-color': '#3bb2d0',\n    'line-width': 2\n  }\n}, {\n  'id': 'gl-draw-polygon-stroke-active',\n  'type': 'line',\n  'filter': ['all', ['==', 'active', 'true'], ['==', '$type', 'Polygon']],\n  'layout': {\n    'line-cap': 'round',\n    'line-join': 'round'\n  },\n  'paint': {\n    'line-color': '#fbb03b',\n    'line-dasharray': [0.2, 2],\n    'line-width': 2\n  }\n}, {\n  'id': 'gl-draw-line-inactive',\n  'type': 'line',\n  'filter': ['all', ['==', 'active', 'false'], ['==', '$type', 'LineString'], ['!=', 'mode', 'static']],\n  'layout': {\n    'line-cap': 'round',\n    'line-join': 'round'\n  },\n  'paint': {\n    'line-color': '#3bb2d0',\n    'line-width': 2\n  }\n}, {\n  'id': 'gl-draw-line-active',\n  'type': 'line',\n  'filter': ['all', ['==', '$type', 'LineString'], ['==', 'active', 'true']],\n  'layout': {\n    'line-cap': 'round',\n    'line-join': 'round'\n  },\n  'paint': {\n    'line-color': '#fbb03b',\n    'line-dasharray': [0.2, 2],\n    'line-width': 2\n  }\n}, {\n  'id': 'gl-draw-polygon-and-line-vertex-stroke-inactive',\n  'type': 'circle',\n  'filter': ['all', ['==', 'meta', 'vertex'], ['==', '$type', 'Point'], ['!=', 'mode', 'static']],\n  'paint': {\n    'circle-radius': 5,\n    'circle-color': '#fff'\n  }\n}, {\n  'id': 'gl-draw-polygon-and-line-vertex-inactive',\n  'type': 'circle',\n  'filter': ['all', ['==', 'meta', 'vertex'], ['==', '$type', 'Point'], ['!=', 'mode', 'static']],\n  'paint': {\n    'circle-radius': 3,\n    'circle-color': '#fbb03b'\n  }\n}, {\n  'id': 'gl-draw-point-point-stroke-inactive',\n  'type': 'circle',\n  'filter': ['all', ['==', 'active', 'false'], ['==', '$type', 'Point'], ['==', 'meta', 'feature'], ['!=', 'mode', 'static']],\n  'paint': {\n    'circle-radius': 5,\n    'circle-opacity': 1,\n    'circle-color': '#fff'\n  }\n}, {\n  'id': 'gl-draw-point-inactive',\n  'type': 'circle',\n  'filter': ['all', ['==', 'active', 'false'], ['==', '$type', 'Point'], ['==', 'meta', 'feature'], ['!=', 'mode', 'static']],\n  'paint': {\n    'circle-radius': 3,\n    'circle-color': '#3bb2d0'\n  }\n}, {\n  'id': 'gl-draw-point-stroke-active',\n  'type': 'circle',\n  'filter': ['all', ['==', '$type', 'Point'], ['==', 'active', 'true'], ['!=', 'meta', 'midpoint']],\n  'paint': {\n    'circle-radius': 7,\n    'circle-color': '#fff'\n  }\n}, {\n  'id': 'gl-draw-point-active',\n  'type': 'circle',\n  'filter': ['all', ['==', '$type', 'Point'], ['!=', 'meta', 'midpoint'], ['==', 'active', 'true']],\n  'paint': {\n    'circle-radius': 5,\n    'circle-color': '#fbb03b'\n  }\n}, {\n  'id': 'gl-draw-polygon-fill-static',\n  'type': 'fill',\n  'filter': ['all', ['==', 'mode', 'static'], ['==', '$type', 'Polygon']],\n  'paint': {\n    'fill-color': '#404040',\n    'fill-outline-color': '#404040',\n    'fill-opacity': 0.1\n  }\n}, {\n  'id': 'gl-draw-polygon-stroke-static',\n  'type': 'line',\n  'filter': ['all', ['==', 'mode', 'static'], ['==', '$type', 'Polygon']],\n  'layout': {\n    'line-cap': 'round',\n    'line-join': 'round'\n  },\n  'paint': {\n    'line-color': '#404040',\n    'line-width': 2\n  }\n}, {\n  'id': 'gl-draw-line-static',\n  'type': 'line',\n  'filter': ['all', ['==', 'mode', 'static'], ['==', '$type', 'LineString']],\n  'layout': {\n    'line-cap': 'round',\n    'line-join': 'round'\n  },\n  'paint': {\n    'line-color': '#404040',\n    'line-width': 2\n  }\n}, {\n  'id': 'gl-draw-point-static',\n  'type': 'circle',\n  'filter': ['all', ['==', 'mode', 'static'], ['==', '$type', 'Point']],\n  'paint': {\n    'circle-radius': 5,\n    'circle-color': '#404040'\n  }\n}];","var CommonSelectors = require('../lib/common_selectors');\n\nvar mouseEventPoint = require('../lib/mouse_event_point');\n\nvar createSupplementaryPoints = require('../lib/create_supplementary_points');\n\nvar StringSet = require('../lib/string_set');\n\nvar doubleClickZoom = require('../lib/double_click_zoom');\n\nvar moveFeatures = require('../lib/move_features');\n\nvar Constants = require('../constants');\n\nvar SimpleSelect = {};\n\nSimpleSelect.onSetup = function (opts) {\n  var _this = this;\n\n  // turn the opts into state.\n  var state = {\n    dragMoveLocation: null,\n    boxSelectStartLocation: null,\n    boxSelectElement: undefined,\n    boxSelecting: false,\n    canBoxSelect: false,\n    dragMoveing: false,\n    canDragMove: false,\n    initiallySelectedFeatureIds: opts.featureIds || []\n  };\n  this.setSelected(state.initiallySelectedFeatureIds.filter(function (id) {\n    return _this.getFeature(id) !== undefined;\n  }));\n  this.fireActionable();\n  this.setActionableState({\n    combineFeatures: true,\n    uncombineFeatures: true,\n    trash: true\n  });\n  return state;\n};\n\nSimpleSelect.fireUpdate = function () {\n  this.map.fire(Constants.events.UPDATE, {\n    action: Constants.updateActions.MOVE,\n    features: this.getSelected().map(function (f) {\n      return f.toGeoJSON();\n    })\n  });\n};\n\nSimpleSelect.fireActionable = function () {\n  var _this2 = this;\n\n  var selectedFeatures = this.getSelected();\n  var multiFeatures = selectedFeatures.filter(function (feature) {\n    return _this2.isInstanceOf('MultiFeature', feature);\n  });\n  var combineFeatures = false;\n\n  if (selectedFeatures.length > 1) {\n    combineFeatures = true;\n    var featureType = selectedFeatures[0].type.replace('Multi', '');\n    selectedFeatures.forEach(function (feature) {\n      if (feature.type.replace('Multi', '') !== featureType) {\n        combineFeatures = false;\n      }\n    });\n  }\n\n  var uncombineFeatures = multiFeatures.length > 0;\n  var trash = selectedFeatures.length > 0;\n  this.setActionableState({\n    combineFeatures: combineFeatures,\n    uncombineFeatures: uncombineFeatures,\n    trash: trash\n  });\n};\n\nSimpleSelect.getUniqueIds = function (allFeatures) {\n  if (!allFeatures.length) return [];\n  var ids = allFeatures.map(function (s) {\n    return s.properties.id;\n  }).filter(function (id) {\n    return id !== undefined;\n  }).reduce(function (memo, id) {\n    memo.add(id);\n    return memo;\n  }, new StringSet());\n  return ids.values();\n};\n\nSimpleSelect.stopExtendedInteractions = function (state) {\n  if (state.boxSelectElement) {\n    if (state.boxSelectElement.parentNode) state.boxSelectElement.parentNode.removeChild(state.boxSelectElement);\n    state.boxSelectElement = null;\n  }\n\n  this.map.dragPan.enable();\n  state.boxSelecting = false;\n  state.canBoxSelect = false;\n  state.dragMoving = false;\n  state.canDragMove = false;\n};\n\nSimpleSelect.onStop = function () {\n  doubleClickZoom.enable(this);\n};\n\nSimpleSelect.onMouseMove = function (state) {\n  // On mousemove that is not a drag, stop extended interactions.\n  // This is useful if you drag off the canvas, release the button,\n  // then move the mouse back over the canvas --- we don't allow the\n  // interaction to continue then, but we do let it continue if you held\n  // the mouse button that whole time\n  return this.stopExtendedInteractions(state);\n};\n\nSimpleSelect.onMouseOut = function (state) {\n  // As soon as you mouse leaves the canvas, update the feature\n  if (state.dragMoving) return this.fireUpdate();\n};\n\nSimpleSelect.onTap = SimpleSelect.onClick = function (state, e) {\n  // Click (with or without shift) on no feature\n  if (CommonSelectors.noTarget(e)) return this.clickAnywhere(state, e); // also tap\n\n  if (CommonSelectors.isOfMetaType(Constants.meta.VERTEX)(e)) return this.clickOnVertex(state, e); //tap\n\n  if (CommonSelectors.isFeature(e)) return this.clickOnFeature(state, e);\n};\n\nSimpleSelect.clickAnywhere = function (state) {\n  var _this3 = this;\n\n  // Clear the re-render selection\n  var wasSelected = this.getSelectedIds();\n\n  if (wasSelected.length) {\n    this.clearSelectedFeatures();\n    wasSelected.forEach(function (id) {\n      return _this3.doRender(id);\n    });\n  }\n\n  doubleClickZoom.enable(this);\n  this.stopExtendedInteractions(state);\n};\n\nSimpleSelect.clickOnVertex = function (state, e) {\n  // Enter direct select mode\n  this.changeMode(Constants.modes.DIRECT_SELECT, {\n    featureId: e.featureTarget.properties.parent,\n    coordPath: e.featureTarget.properties.coord_path,\n    startPos: e.lngLat\n  });\n  this.updateUIClasses({\n    mouse: Constants.cursors.MOVE\n  });\n};\n\nSimpleSelect.startOnActiveFeature = function (state, e) {\n  // Stop any already-underway extended interactions\n  this.stopExtendedInteractions(state); // Disable map.dragPan immediately so it can't start\n\n  this.map.dragPan.disable(); // Re-render it and enable drag move\n\n  this.doRender(e.featureTarget.properties.id); // Set up the state for drag moving\n\n  state.canDragMove = true;\n  state.dragMoveLocation = e.lngLat;\n};\n\nSimpleSelect.clickOnFeature = function (state, e) {\n  var _this4 = this;\n\n  // Stop everything\n  doubleClickZoom.disable(this);\n  this.stopExtendedInteractions(state);\n  var isShiftClick = CommonSelectors.isShiftDown(e);\n  var selectedFeatureIds = this.getSelectedIds();\n  var featureId = e.featureTarget.properties.id;\n  var isFeatureSelected = this.isSelected(featureId); // Click (without shift) on any selected feature but a point\n\n  if (!isShiftClick && isFeatureSelected && this.getFeature(featureId).type !== Constants.geojsonTypes.POINT) {\n    // Enter direct select mode\n    return this.changeMode(Constants.modes.DIRECT_SELECT, {\n      featureId: featureId\n    });\n  } // Shift-click on a selected feature\n\n\n  if (isFeatureSelected && isShiftClick) {\n    // Deselect it\n    this.deselect(featureId);\n    this.updateUIClasses({\n      mouse: Constants.cursors.POINTER\n    });\n\n    if (selectedFeatureIds.length === 1) {\n      doubleClickZoom.enable(this);\n    } // Shift-click on an unselected feature\n\n  } else if (!isFeatureSelected && isShiftClick) {\n    // Add it to the selection\n    this.select(featureId);\n    this.updateUIClasses({\n      mouse: Constants.cursors.MOVE\n    }); // Click (without shift) on an unselected feature\n  } else if (!isFeatureSelected && !isShiftClick) {\n    // Make it the only selected feature\n    selectedFeatureIds.forEach(function (id) {\n      return _this4.doRender(id);\n    });\n    this.setSelected(featureId);\n    this.updateUIClasses({\n      mouse: Constants.cursors.MOVE\n    });\n  } // No matter what, re-render the clicked feature\n\n\n  this.doRender(featureId);\n};\n\nSimpleSelect.onMouseDown = function (state, e) {\n  if (CommonSelectors.isActiveFeature(e)) return this.startOnActiveFeature(state, e);\n  if (this.drawConfig.boxSelect && CommonSelectors.isShiftMousedown(e)) return this.startBoxSelect(state, e);\n};\n\nSimpleSelect.startBoxSelect = function (state, e) {\n  this.stopExtendedInteractions(state);\n  this.map.dragPan.disable(); // Enable box select\n\n  state.boxSelectStartLocation = mouseEventPoint(e.originalEvent, this.map.getContainer());\n  state.canBoxSelect = true;\n};\n\nSimpleSelect.onTouchStart = function (state, e) {\n  if (CommonSelectors.isActiveFeature(e)) return this.startOnActiveFeature(state, e);\n};\n\nSimpleSelect.onDrag = function (state, e) {\n  if (state.canDragMove) return this.dragMove(state, e);\n  if (this.drawConfig.boxSelect && state.canBoxSelect) return this.whileBoxSelect(state, e);\n};\n\nSimpleSelect.whileBoxSelect = function (state, e) {\n  state.boxSelecting = true;\n  this.updateUIClasses({\n    mouse: Constants.cursors.ADD\n  }); // Create the box node if it doesn't exist\n\n  if (!state.boxSelectElement) {\n    state.boxSelectElement = document.createElement('div');\n    state.boxSelectElement.classList.add(Constants.classes.BOX_SELECT);\n    this.map.getContainer().appendChild(state.boxSelectElement);\n  } // Adjust the box node's width and xy position\n\n\n  var current = mouseEventPoint(e.originalEvent, this.map.getContainer());\n  var minX = Math.min(state.boxSelectStartLocation.x, current.x);\n  var maxX = Math.max(state.boxSelectStartLocation.x, current.x);\n  var minY = Math.min(state.boxSelectStartLocation.y, current.y);\n  var maxY = Math.max(state.boxSelectStartLocation.y, current.y);\n  var translateValue = \"translate(\".concat(minX, \"px, \").concat(minY, \"px)\");\n  state.boxSelectElement.style.transform = translateValue;\n  state.boxSelectElement.style.WebkitTransform = translateValue;\n  state.boxSelectElement.style.width = \"\".concat(maxX - minX, \"px\");\n  state.boxSelectElement.style.height = \"\".concat(maxY - minY, \"px\");\n};\n\nSimpleSelect.dragMove = function (state, e) {\n  // Dragging when drag move is enabled\n  state.dragMoving = true;\n  e.originalEvent.stopPropagation();\n  var delta = {\n    lng: e.lngLat.lng - state.dragMoveLocation.lng,\n    lat: e.lngLat.lat - state.dragMoveLocation.lat\n  };\n  moveFeatures(this.getSelected(), delta);\n  state.dragMoveLocation = e.lngLat;\n};\n\nSimpleSelect.onMouseUp = function (state, e) {\n  var _this5 = this;\n\n  // End any extended interactions\n  if (state.dragMoving) {\n    this.fireUpdate();\n  } else if (state.boxSelecting) {\n    var bbox = [state.boxSelectStartLocation, mouseEventPoint(e.originalEvent, this.map.getContainer())];\n    var featuresInBox = this.featuresAt(null, bbox, 'click');\n    var idsToSelect = this.getUniqueIds(featuresInBox).filter(function (id) {\n      return !_this5.isSelected(id);\n    });\n\n    if (idsToSelect.length) {\n      this.select(idsToSelect);\n      idsToSelect.forEach(function (id) {\n        return _this5.doRender(id);\n      });\n      this.updateUIClasses({\n        mouse: Constants.cursors.MOVE\n      });\n    }\n  }\n\n  this.stopExtendedInteractions(state);\n};\n\nSimpleSelect.toDisplayFeatures = function (state, geojson, display) {\n  geojson.properties.active = this.isSelected(geojson.properties.id) ? Constants.activeStates.ACTIVE : Constants.activeStates.INACTIVE;\n  display(geojson);\n  this.fireActionable();\n  if (geojson.properties.active !== Constants.activeStates.ACTIVE || geojson.geometry.type === Constants.geojsonTypes.POINT) return;\n  createSupplementaryPoints(geojson).forEach(display);\n};\n\nSimpleSelect.onTrash = function () {\n  this.deleteFeature(this.getSelectedIds());\n  this.fireActionable();\n};\n\nSimpleSelect.onCombineFeatures = function () {\n  var selectedFeatures = this.getSelected();\n  if (selectedFeatures.length === 0 || selectedFeatures.length < 2) return;\n  var coordinates = [],\n      featuresCombined = [];\n  var featureType = selectedFeatures[0].type.replace('Multi', '');\n\n  for (var i = 0; i < selectedFeatures.length; i++) {\n    var feature = selectedFeatures[i];\n\n    if (feature.type.replace('Multi', '') !== featureType) {\n      return;\n    }\n\n    if (feature.type.includes('Multi')) {\n      feature.getCoordinates().forEach(function (subcoords) {\n        coordinates.push(subcoords);\n      });\n    } else {\n      coordinates.push(feature.getCoordinates());\n    }\n\n    featuresCombined.push(feature.toGeoJSON());\n  }\n\n  if (featuresCombined.length > 1) {\n    var multiFeature = this.newFeature({\n      type: Constants.geojsonTypes.FEATURE,\n      properties: featuresCombined[0].properties,\n      geometry: {\n        type: \"Multi\".concat(featureType),\n        coordinates: coordinates\n      }\n    });\n    this.addFeature(multiFeature);\n    this.deleteFeature(this.getSelectedIds(), {\n      silent: true\n    });\n    this.setSelected([multiFeature.id]);\n    this.map.fire(Constants.events.COMBINE_FEATURES, {\n      createdFeatures: [multiFeature.toGeoJSON()],\n      deletedFeatures: featuresCombined\n    });\n  }\n\n  this.fireActionable();\n};\n\nSimpleSelect.onUncombineFeatures = function () {\n  var _this6 = this;\n\n  var selectedFeatures = this.getSelected();\n  if (selectedFeatures.length === 0) return;\n  var createdFeatures = [];\n  var featuresUncombined = [];\n\n  var _loop = function _loop(i) {\n    var feature = selectedFeatures[i];\n\n    if (_this6.isInstanceOf('MultiFeature', feature)) {\n      feature.getFeatures().forEach(function (subFeature) {\n        _this6.addFeature(subFeature);\n\n        subFeature.properties = feature.properties;\n        createdFeatures.push(subFeature.toGeoJSON());\n\n        _this6.select([subFeature.id]);\n      });\n\n      _this6.deleteFeature(feature.id, {\n        silent: true\n      });\n\n      featuresUncombined.push(feature.toGeoJSON());\n    }\n  };\n\n  for (var i = 0; i < selectedFeatures.length; i++) {\n    _loop(i);\n  }\n\n  if (createdFeatures.length > 1) {\n    this.map.fire(Constants.events.UNCOMBINE_FEATURES, {\n      createdFeatures: createdFeatures,\n      deletedFeatures: featuresUncombined\n    });\n  }\n\n  this.fireActionable();\n};\n\nmodule.exports = SimpleSelect;","var Point = require('@mapbox/point-geometry');\n/**\n * Returns a Point representing a mouse event's position\n * relative to a containing element.\n *\n * @param {MouseEvent} mouseEvent\n * @param {Node} container\n * @returns {Point}\n */\n\n\nfunction mouseEventPoint(mouseEvent, container) {\n  var rect = container.getBoundingClientRect();\n  return new Point(mouseEvent.clientX - rect.left - (container.clientLeft || 0), mouseEvent.clientY - rect.top - (container.clientTop || 0));\n}\n\nmodule.exports = mouseEventPoint;","'use strict';\n\nmodule.exports = Point;\n/**\n * A standalone point geometry with useful accessor, comparison, and\n * modification methods.\n *\n * @class Point\n * @param {Number} x the x-coordinate. this could be longitude or screen\n * pixels, or any other sort of unit.\n * @param {Number} y the y-coordinate. this could be latitude or screen\n * pixels, or any other sort of unit.\n * @example\n * var point = new Point(-77, 38);\n */\n\nfunction Point(x, y) {\n  this.x = x;\n  this.y = y;\n}\n\nPoint.prototype = {\n  /**\n   * Clone this point, returning a new point that can be modified\n   * without affecting the old one.\n   * @return {Point} the clone\n   */\n  clone: function clone() {\n    return new Point(this.x, this.y);\n  },\n\n  /**\n   * Add this point's x & y coordinates to another point,\n   * yielding a new point.\n   * @param {Point} p the other point\n   * @return {Point} output point\n   */\n  add: function add(p) {\n    return this.clone()._add(p);\n  },\n\n  /**\n   * Subtract this point's x & y coordinates to from point,\n   * yielding a new point.\n   * @param {Point} p the other point\n   * @return {Point} output point\n   */\n  sub: function sub(p) {\n    return this.clone()._sub(p);\n  },\n\n  /**\n   * Multiply this point's x & y coordinates by point,\n   * yielding a new point.\n   * @param {Point} p the other point\n   * @return {Point} output point\n   */\n  multByPoint: function multByPoint(p) {\n    return this.clone()._multByPoint(p);\n  },\n\n  /**\n   * Divide this point's x & y coordinates by point,\n   * yielding a new point.\n   * @param {Point} p the other point\n   * @return {Point} output point\n   */\n  divByPoint: function divByPoint(p) {\n    return this.clone()._divByPoint(p);\n  },\n\n  /**\n   * Multiply this point's x & y coordinates by a factor,\n   * yielding a new point.\n   * @param {Point} k factor\n   * @return {Point} output point\n   */\n  mult: function mult(k) {\n    return this.clone()._mult(k);\n  },\n\n  /**\n   * Divide this point's x & y coordinates by a factor,\n   * yielding a new point.\n   * @param {Point} k factor\n   * @return {Point} output point\n   */\n  div: function div(k) {\n    return this.clone()._div(k);\n  },\n\n  /**\n   * Rotate this point around the 0, 0 origin by an angle a,\n   * given in radians\n   * @param {Number} a angle to rotate around, in radians\n   * @return {Point} output point\n   */\n  rotate: function rotate(a) {\n    return this.clone()._rotate(a);\n  },\n\n  /**\n   * Rotate this point around p point by an angle a,\n   * given in radians\n   * @param {Number} a angle to rotate around, in radians\n   * @param {Point} p Point to rotate around\n   * @return {Point} output point\n   */\n  rotateAround: function rotateAround(a, p) {\n    return this.clone()._rotateAround(a, p);\n  },\n\n  /**\n   * Multiply this point by a 4x1 transformation matrix\n   * @param {Array<Number>} m transformation matrix\n   * @return {Point} output point\n   */\n  matMult: function matMult(m) {\n    return this.clone()._matMult(m);\n  },\n\n  /**\n   * Calculate this point but as a unit vector from 0, 0, meaning\n   * that the distance from the resulting point to the 0, 0\n   * coordinate will be equal to 1 and the angle from the resulting\n   * point to the 0, 0 coordinate will be the same as before.\n   * @return {Point} unit vector point\n   */\n  unit: function unit() {\n    return this.clone()._unit();\n  },\n\n  /**\n   * Compute a perpendicular point, where the new y coordinate\n   * is the old x coordinate and the new x coordinate is the old y\n   * coordinate multiplied by -1\n   * @return {Point} perpendicular point\n   */\n  perp: function perp() {\n    return this.clone()._perp();\n  },\n\n  /**\n   * Return a version of this point with the x & y coordinates\n   * rounded to integers.\n   * @return {Point} rounded point\n   */\n  round: function round() {\n    return this.clone()._round();\n  },\n\n  /**\n   * Return the magitude of this point: this is the Euclidean\n   * distance from the 0, 0 coordinate to this point's x and y\n   * coordinates.\n   * @return {Number} magnitude\n   */\n  mag: function mag() {\n    return Math.sqrt(this.x * this.x + this.y * this.y);\n  },\n\n  /**\n   * Judge whether this point is equal to another point, returning\n   * true or false.\n   * @param {Point} other the other point\n   * @return {boolean} whether the points are equal\n   */\n  equals: function equals(other) {\n    return this.x === other.x && this.y === other.y;\n  },\n\n  /**\n   * Calculate the distance from this point to another point\n   * @param {Point} p the other point\n   * @return {Number} distance\n   */\n  dist: function dist(p) {\n    return Math.sqrt(this.distSqr(p));\n  },\n\n  /**\n   * Calculate the distance from this point to another point,\n   * without the square root step. Useful if you're comparing\n   * relative distances.\n   * @param {Point} p the other point\n   * @return {Number} distance\n   */\n  distSqr: function distSqr(p) {\n    var dx = p.x - this.x,\n        dy = p.y - this.y;\n    return dx * dx + dy * dy;\n  },\n\n  /**\n   * Get the angle from the 0, 0 coordinate to this point, in radians\n   * coordinates.\n   * @return {Number} angle\n   */\n  angle: function angle() {\n    return Math.atan2(this.y, this.x);\n  },\n\n  /**\n   * Get the angle from this point to another point, in radians\n   * @param {Point} b the other point\n   * @return {Number} angle\n   */\n  angleTo: function angleTo(b) {\n    return Math.atan2(this.y - b.y, this.x - b.x);\n  },\n\n  /**\n   * Get the angle between this point and another point, in radians\n   * @param {Point} b the other point\n   * @return {Number} angle\n   */\n  angleWith: function angleWith(b) {\n    return this.angleWithSep(b.x, b.y);\n  },\n\n  /*\n   * Find the angle of the two vectors, solving the formula for\n   * the cross product a x b = |a||b|sin(θ) for θ.\n   * @param {Number} x the x-coordinate\n   * @param {Number} y the y-coordinate\n   * @return {Number} the angle in radians\n   */\n  angleWithSep: function angleWithSep(x, y) {\n    return Math.atan2(this.x * y - this.y * x, this.x * x + this.y * y);\n  },\n  _matMult: function _matMult(m) {\n    var x = m[0] * this.x + m[1] * this.y,\n        y = m[2] * this.x + m[3] * this.y;\n    this.x = x;\n    this.y = y;\n    return this;\n  },\n  _add: function _add(p) {\n    this.x += p.x;\n    this.y += p.y;\n    return this;\n  },\n  _sub: function _sub(p) {\n    this.x -= p.x;\n    this.y -= p.y;\n    return this;\n  },\n  _mult: function _mult(k) {\n    this.x *= k;\n    this.y *= k;\n    return this;\n  },\n  _div: function _div(k) {\n    this.x /= k;\n    this.y /= k;\n    return this;\n  },\n  _multByPoint: function _multByPoint(p) {\n    this.x *= p.x;\n    this.y *= p.y;\n    return this;\n  },\n  _divByPoint: function _divByPoint(p) {\n    this.x /= p.x;\n    this.y /= p.y;\n    return this;\n  },\n  _unit: function _unit() {\n    this._div(this.mag());\n\n    return this;\n  },\n  _perp: function _perp() {\n    var y = this.y;\n    this.y = this.x;\n    this.x = -y;\n    return this;\n  },\n  _rotate: function _rotate(angle) {\n    var cos = Math.cos(angle),\n        sin = Math.sin(angle),\n        x = cos * this.x - sin * this.y,\n        y = sin * this.x + cos * this.y;\n    this.x = x;\n    this.y = y;\n    return this;\n  },\n  _rotateAround: function _rotateAround(angle, p) {\n    var cos = Math.cos(angle),\n        sin = Math.sin(angle),\n        x = p.x + cos * (this.x - p.x) - sin * (this.y - p.y),\n        y = p.y + sin * (this.x - p.x) + cos * (this.y - p.y);\n    this.x = x;\n    this.y = y;\n    return this;\n  },\n  _round: function _round() {\n    this.x = Math.round(this.x);\n    this.y = Math.round(this.y);\n    return this;\n  }\n};\n/**\n * Construct a point from an array if necessary, otherwise if the input\n * is already a Point, or an unknown type, return it unchanged\n * @param {Array<Number>|Point|*} a any kind of input value\n * @return {Point} constructed point, or passed-through value.\n * @example\n * // this\n * var point = Point.convert([0, 1]);\n * // is equivalent to\n * var point = new Point(0, 1);\n */\n\nPoint.convert = function (a) {\n  if (a instanceof Point) {\n    return a;\n  }\n\n  if (Array.isArray(a)) {\n    return new Point(a[0], a[1]);\n  }\n\n  return a;\n};","var Constants = require('../constants');\n\nmodule.exports = function (parent, startVertex, endVertex, map) {\n  var startCoord = startVertex.geometry.coordinates;\n  var endCoord = endVertex.geometry.coordinates; // If a coordinate exceeds the projection, we can't calculate a midpoint,\n  // so run away\n\n  if (startCoord[1] > Constants.LAT_RENDERED_MAX || startCoord[1] < Constants.LAT_RENDERED_MIN || endCoord[1] > Constants.LAT_RENDERED_MAX || endCoord[1] < Constants.LAT_RENDERED_MIN) {\n    return null;\n  }\n\n  var ptA = map.project([startCoord[0], startCoord[1]]);\n  var ptB = map.project([endCoord[0], endCoord[1]]);\n  var mid = map.unproject([(ptA.x + ptB.x) / 2, (ptA.y + ptB.y) / 2]);\n  return {\n    type: Constants.geojsonTypes.FEATURE,\n    properties: {\n      meta: Constants.meta.MIDPOINT,\n      parent: parent,\n      lng: mid.lng,\n      lat: mid.lat,\n      coord_path: endVertex.properties.coord_path\n    },\n    geometry: {\n      type: Constants.geojsonTypes.POINT,\n      coordinates: [mid.lng, mid.lat]\n    }\n  };\n};","var geojsonCoords = require('@mapbox/geojson-coords'),\n    traverse = require('traverse'),\n    extent = require('@mapbox/extent');\n\nvar geojsonTypesByDataAttributes = {\n  features: ['FeatureCollection'],\n  coordinates: ['Point', 'MultiPoint', 'LineString', 'MultiLineString', 'Polygon', 'MultiPolygon'],\n  geometry: ['Feature'],\n  geometries: ['GeometryCollection']\n};\nvar dataAttributes = Object.keys(geojsonTypesByDataAttributes);\n\nmodule.exports = function (_) {\n  return getExtent(_).bbox();\n};\n\nmodule.exports.polygon = function (_) {\n  return getExtent(_).polygon();\n};\n\nmodule.exports.bboxify = function (_) {\n  return traverse(_).map(function (value) {\n    if (!value) return;\n    var isValid = dataAttributes.some(function (attribute) {\n      if (value[attribute]) {\n        return geojsonTypesByDataAttributes[attribute].indexOf(value.type) !== -1;\n      }\n\n      return false;\n    });\n\n    if (isValid) {\n      value.bbox = getExtent(value).bbox();\n      this.update(value);\n    }\n  });\n};\n\nfunction getExtent(_) {\n  var bbox = [Infinity, Infinity, -Infinity, -Infinity],\n      ext = extent(),\n      coords = geojsonCoords(_);\n\n  for (var i = 0; i < coords.length; i++) {\n    ext.include(coords[i]);\n  }\n\n  return ext;\n}","var geojsonNormalize = require('@mapbox/geojson-normalize'),\n    geojsonFlatten = require('geojson-flatten'),\n    flatten = require('./flatten');\n\nmodule.exports = function (_) {\n  if (!_) return [];\n  var normalized = geojsonFlatten(geojsonNormalize(_)),\n      coordinates = [];\n  normalized.features.forEach(function (feature) {\n    if (!feature.geometry) return;\n    coordinates = coordinates.concat(flatten(feature.geometry.coordinates));\n  });\n  return coordinates;\n};","module.exports = function e(t) {\n  switch (t && t.type || null) {\n    case \"FeatureCollection\":\n      return t.features = t.features.reduce(function (t, r) {\n        return t.concat(e(r));\n      }, []), t;\n\n    case \"Feature\":\n      return t.geometry ? e(t.geometry).map(function (e) {\n        var r = {\n          type: \"Feature\",\n          properties: JSON.parse(JSON.stringify(t.properties)),\n          geometry: e\n        };\n        return void 0 !== t.id && (r.id = t.id), r;\n      }) : t;\n\n    case \"MultiPoint\":\n      return t.coordinates.map(function (e) {\n        return {\n          type: \"Point\",\n          coordinates: e\n        };\n      });\n\n    case \"MultiPolygon\":\n      return t.coordinates.map(function (e) {\n        return {\n          type: \"Polygon\",\n          coordinates: e\n        };\n      });\n\n    case \"MultiLineString\":\n      return t.coordinates.map(function (e) {\n        return {\n          type: \"LineString\",\n          coordinates: e\n        };\n      });\n\n    case \"GeometryCollection\":\n      return t.geometries.map(e).reduce(function (e, t) {\n        return e.concat(t);\n      }, []);\n\n    case \"Point\":\n    case \"Polygon\":\n    case \"LineString\":\n      return [t];\n  }\n};","module.exports = function flatten(list) {\n  return _flatten(list);\n\n  function _flatten(list) {\n    if (Array.isArray(list) && list.length && typeof list[0] === 'number') {\n      return [list];\n    }\n\n    return list.reduce(function (acc, item) {\n      if (Array.isArray(item) && Array.isArray(item[0])) {\n        return acc.concat(_flatten(item));\n      } else {\n        acc.push(item);\n        return acc;\n      }\n    }, []);\n  }\n};","var traverse = module.exports = function (obj) {\n  return new Traverse(obj);\n};\n\nfunction Traverse(obj) {\n  this.value = obj;\n}\n\nTraverse.prototype.get = function (ps) {\n  var node = this.value;\n\n  for (var i = 0; i < ps.length; i++) {\n    var key = ps[i];\n\n    if (!node || !hasOwnProperty.call(node, key)) {\n      node = undefined;\n      break;\n    }\n\n    node = node[key];\n  }\n\n  return node;\n};\n\nTraverse.prototype.has = function (ps) {\n  var node = this.value;\n\n  for (var i = 0; i < ps.length; i++) {\n    var key = ps[i];\n\n    if (!node || !hasOwnProperty.call(node, key)) {\n      return false;\n    }\n\n    node = node[key];\n  }\n\n  return true;\n};\n\nTraverse.prototype.set = function (ps, value) {\n  var node = this.value;\n\n  for (var i = 0; i < ps.length - 1; i++) {\n    var key = ps[i];\n    if (!hasOwnProperty.call(node, key)) node[key] = {};\n    node = node[key];\n  }\n\n  node[ps[i]] = value;\n  return value;\n};\n\nTraverse.prototype.map = function (cb) {\n  return walk(this.value, cb, true);\n};\n\nTraverse.prototype.forEach = function (cb) {\n  this.value = walk(this.value, cb, false);\n  return this.value;\n};\n\nTraverse.prototype.reduce = function (cb, init) {\n  var skip = arguments.length === 1;\n  var acc = skip ? this.value : init;\n  this.forEach(function (x) {\n    if (!this.isRoot || !skip) {\n      acc = cb.call(this, acc, x);\n    }\n  });\n  return acc;\n};\n\nTraverse.prototype.paths = function () {\n  var acc = [];\n  this.forEach(function (x) {\n    acc.push(this.path);\n  });\n  return acc;\n};\n\nTraverse.prototype.nodes = function () {\n  var acc = [];\n  this.forEach(function (x) {\n    acc.push(this.node);\n  });\n  return acc;\n};\n\nTraverse.prototype.clone = function () {\n  var parents = [],\n      nodes = [];\n  return function clone(src) {\n    for (var i = 0; i < parents.length; i++) {\n      if (parents[i] === src) {\n        return nodes[i];\n      }\n    }\n\n    if (typeof src === 'object' && src !== null) {\n      var dst = copy(src);\n      parents.push(src);\n      nodes.push(dst);\n      forEach(objectKeys(src), function (key) {\n        dst[key] = clone(src[key]);\n      });\n      parents.pop();\n      nodes.pop();\n      return dst;\n    } else {\n      return src;\n    }\n  }(this.value);\n};\n\nfunction walk(root, cb, immutable) {\n  var path = [];\n  var parents = [];\n  var alive = true;\n  return function walker(node_) {\n    var node = immutable ? copy(node_) : node_;\n    var modifiers = {};\n    var keepGoing = true;\n    var state = {\n      node: node,\n      node_: node_,\n      path: [].concat(path),\n      parent: parents[parents.length - 1],\n      parents: parents,\n      key: path.slice(-1)[0],\n      isRoot: path.length === 0,\n      level: path.length,\n      circular: null,\n      update: function update(x, stopHere) {\n        if (!state.isRoot) {\n          state.parent.node[state.key] = x;\n        }\n\n        state.node = x;\n        if (stopHere) keepGoing = false;\n      },\n      'delete': function _delete(stopHere) {\n        delete state.parent.node[state.key];\n        if (stopHere) keepGoing = false;\n      },\n      remove: function remove(stopHere) {\n        if (isArray(state.parent.node)) {\n          state.parent.node.splice(state.key, 1);\n        } else {\n          delete state.parent.node[state.key];\n        }\n\n        if (stopHere) keepGoing = false;\n      },\n      keys: null,\n      before: function before(f) {\n        modifiers.before = f;\n      },\n      after: function after(f) {\n        modifiers.after = f;\n      },\n      pre: function pre(f) {\n        modifiers.pre = f;\n      },\n      post: function post(f) {\n        modifiers.post = f;\n      },\n      stop: function stop() {\n        alive = false;\n      },\n      block: function block() {\n        keepGoing = false;\n      }\n    };\n    if (!alive) return state;\n\n    function updateState() {\n      if (typeof state.node === 'object' && state.node !== null) {\n        if (!state.keys || state.node_ !== state.node) {\n          state.keys = objectKeys(state.node);\n        }\n\n        state.isLeaf = state.keys.length == 0;\n\n        for (var i = 0; i < parents.length; i++) {\n          if (parents[i].node_ === node_) {\n            state.circular = parents[i];\n            break;\n          }\n        }\n      } else {\n        state.isLeaf = true;\n        state.keys = null;\n      }\n\n      state.notLeaf = !state.isLeaf;\n      state.notRoot = !state.isRoot;\n    }\n\n    updateState(); // use return values to update if defined\n\n    var ret = cb.call(state, state.node);\n    if (ret !== undefined && state.update) state.update(ret);\n    if (modifiers.before) modifiers.before.call(state, state.node);\n    if (!keepGoing) return state;\n\n    if (typeof state.node == 'object' && state.node !== null && !state.circular) {\n      parents.push(state);\n      updateState();\n      forEach(state.keys, function (key, i) {\n        path.push(key);\n        if (modifiers.pre) modifiers.pre.call(state, state.node[key], key);\n        var child = walker(state.node[key]);\n\n        if (immutable && hasOwnProperty.call(state.node, key)) {\n          state.node[key] = child.node;\n        }\n\n        child.isLast = i == state.keys.length - 1;\n        child.isFirst = i == 0;\n        if (modifiers.post) modifiers.post.call(state, child);\n        path.pop();\n      });\n      parents.pop();\n    }\n\n    if (modifiers.after) modifiers.after.call(state, state.node);\n    return state;\n  }(root).node;\n}\n\nfunction copy(src) {\n  if (typeof src === 'object' && src !== null) {\n    var dst;\n\n    if (isArray(src)) {\n      dst = [];\n    } else if (isDate(src)) {\n      dst = new Date(src.getTime ? src.getTime() : src);\n    } else if (isRegExp(src)) {\n      dst = new RegExp(src);\n    } else if (isError(src)) {\n      dst = {\n        message: src.message\n      };\n    } else if (isBoolean(src)) {\n      dst = new Boolean(src);\n    } else if (isNumber(src)) {\n      dst = new Number(src);\n    } else if (isString(src)) {\n      dst = new String(src);\n    } else if (Object.create && Object.getPrototypeOf) {\n      dst = Object.create(Object.getPrototypeOf(src));\n    } else if (src.constructor === Object) {\n      dst = {};\n    } else {\n      var proto = src.constructor && src.constructor.prototype || src.__proto__ || {};\n\n      var T = function T() {};\n\n      T.prototype = proto;\n      dst = new T();\n    }\n\n    forEach(objectKeys(src), function (key) {\n      dst[key] = src[key];\n    });\n    return dst;\n  } else return src;\n}\n\nvar objectKeys = Object.keys || function keys(obj) {\n  var res = [];\n\n  for (var key in obj) {\n    res.push(key);\n  }\n\n  return res;\n};\n\nfunction toS(obj) {\n  return Object.prototype.toString.call(obj);\n}\n\nfunction isDate(obj) {\n  return toS(obj) === '[object Date]';\n}\n\nfunction isRegExp(obj) {\n  return toS(obj) === '[object RegExp]';\n}\n\nfunction isError(obj) {\n  return toS(obj) === '[object Error]';\n}\n\nfunction isBoolean(obj) {\n  return toS(obj) === '[object Boolean]';\n}\n\nfunction isNumber(obj) {\n  return toS(obj) === '[object Number]';\n}\n\nfunction isString(obj) {\n  return toS(obj) === '[object String]';\n}\n\nvar isArray = Array.isArray || function isArray(xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nvar forEach = function forEach(xs, fn) {\n  if (xs.forEach) return xs.forEach(fn);else for (var i = 0; i < xs.length; i++) {\n    fn(xs[i], i, xs);\n  }\n};\n\nforEach(objectKeys(Traverse.prototype), function (key) {\n  traverse[key] = function (obj) {\n    var args = [].slice.call(arguments, 1);\n    var t = new Traverse(obj);\n    return t[key].apply(t, args);\n  };\n});\n\nvar hasOwnProperty = Object.hasOwnProperty || function (obj, key) {\n  return key in obj;\n};","module.exports = Extent;\n\nfunction Extent(bbox) {\n  if (!(this instanceof Extent)) {\n    return new Extent(bbox);\n  }\n\n  this._bbox = bbox || [Infinity, Infinity, -Infinity, -Infinity];\n  this._valid = !!bbox;\n}\n\nExtent.prototype.include = function (ll) {\n  this._valid = true;\n  this._bbox[0] = Math.min(this._bbox[0], ll[0]);\n  this._bbox[1] = Math.min(this._bbox[1], ll[1]);\n  this._bbox[2] = Math.max(this._bbox[2], ll[0]);\n  this._bbox[3] = Math.max(this._bbox[3], ll[1]);\n  return this;\n};\n\nExtent.prototype.equals = function (_) {\n  var other;\n\n  if (_ instanceof Extent) {\n    other = _.bbox();\n  } else {\n    other = _;\n  }\n\n  return this._bbox[0] == other[0] && this._bbox[1] == other[1] && this._bbox[2] == other[2] && this._bbox[3] == other[3];\n};\n\nExtent.prototype.center = function (_) {\n  if (!this._valid) return null;\n  return [(this._bbox[0] + this._bbox[2]) / 2, (this._bbox[1] + this._bbox[3]) / 2];\n};\n\nExtent.prototype.union = function (_) {\n  this._valid = true;\n  var other;\n\n  if (_ instanceof Extent) {\n    other = _.bbox();\n  } else {\n    other = _;\n  }\n\n  this._bbox[0] = Math.min(this._bbox[0], other[0]);\n  this._bbox[1] = Math.min(this._bbox[1], other[1]);\n  this._bbox[2] = Math.max(this._bbox[2], other[2]);\n  this._bbox[3] = Math.max(this._bbox[3], other[3]);\n  return this;\n};\n\nExtent.prototype.bbox = function () {\n  if (!this._valid) return null;\n  return this._bbox;\n};\n\nExtent.prototype.contains = function (ll) {\n  if (!ll) return this._fastContains();\n  if (!this._valid) return null;\n  var lon = ll[0],\n      lat = ll[1];\n  return this._bbox[0] <= lon && this._bbox[1] <= lat && this._bbox[2] >= lon && this._bbox[3] >= lat;\n};\n\nExtent.prototype.intersect = function (_) {\n  if (!this._valid) return null;\n  var other;\n\n  if (_ instanceof Extent) {\n    other = _.bbox();\n  } else {\n    other = _;\n  }\n\n  return !(this._bbox[0] > other[2] || this._bbox[2] < other[0] || this._bbox[3] < other[1] || this._bbox[1] > other[3]);\n};\n\nExtent.prototype._fastContains = function () {\n  if (!this._valid) return new Function('return null;');\n  var body = 'return ' + this._bbox[0] + '<= ll[0] &&' + this._bbox[1] + '<= ll[1] &&' + this._bbox[2] + '>= ll[0] &&' + this._bbox[3] + '>= ll[1]';\n  return new Function('ll', body);\n};\n\nExtent.prototype.polygon = function () {\n  if (!this._valid) return null;\n  return {\n    type: 'Polygon',\n    coordinates: [[// W, S\n    [this._bbox[0], this._bbox[1]], // E, S\n    [this._bbox[2], this._bbox[1]], // E, N\n    [this._bbox[2], this._bbox[3]], // W, N\n    [this._bbox[0], this._bbox[3]], // W, S\n    [this._bbox[0], this._bbox[1]]]]\n  };\n};","var _require = require('../lib/common_selectors'),\n    noTarget = _require.noTarget,\n    isOfMetaType = _require.isOfMetaType,\n    isInactiveFeature = _require.isInactiveFeature,\n    isShiftDown = _require.isShiftDown;\n\nvar createSupplementaryPoints = require('../lib/create_supplementary_points');\n\nvar constrainFeatureMovement = require('../lib/constrain_feature_movement');\n\nvar doubleClickZoom = require('../lib/double_click_zoom');\n\nvar Constants = require('../constants');\n\nvar CommonSelectors = require('../lib/common_selectors');\n\nvar moveFeatures = require('../lib/move_features');\n\nvar isVertex = isOfMetaType(Constants.meta.VERTEX);\nvar isMidpoint = isOfMetaType(Constants.meta.MIDPOINT);\nvar DirectSelect = {}; // INTERNAL FUCNTIONS\n\nDirectSelect.fireUpdate = function () {\n  this.map.fire(Constants.events.UPDATE, {\n    action: Constants.updateActions.CHANGE_COORDINATES,\n    features: this.getSelected().map(function (f) {\n      return f.toGeoJSON();\n    })\n  });\n};\n\nDirectSelect.fireActionable = function (state) {\n  this.setActionableState({\n    combineFeatures: false,\n    uncombineFeatures: false,\n    trash: state.selectedCoordPaths.length > 0\n  });\n};\n\nDirectSelect.startDragging = function (state, e) {\n  this.map.dragPan.disable();\n  state.canDragMove = true;\n  state.dragMoveLocation = e.lngLat;\n};\n\nDirectSelect.stopDragging = function (state) {\n  this.map.dragPan.enable();\n  state.dragMoving = false;\n  state.canDragMove = false;\n  state.dragMoveLocation = null;\n};\n\nDirectSelect.onVertex = function (state, e) {\n  this.startDragging(state, e);\n  var about = e.featureTarget.properties;\n  var selectedIndex = state.selectedCoordPaths.indexOf(about.coord_path);\n\n  if (!isShiftDown(e) && selectedIndex === -1) {\n    state.selectedCoordPaths = [about.coord_path];\n  } else if (isShiftDown(e) && selectedIndex === -1) {\n    state.selectedCoordPaths.push(about.coord_path);\n  }\n\n  var selectedCoordinates = this.pathsToCoordinates(state.featureId, state.selectedCoordPaths);\n  this.setSelectedCoordinates(selectedCoordinates);\n};\n\nDirectSelect.onMidpoint = function (state, e) {\n  this.startDragging(state, e);\n  var about = e.featureTarget.properties;\n  state.feature.addCoordinate(about.coord_path, about.lng, about.lat);\n  this.fireUpdate();\n  state.selectedCoordPaths = [about.coord_path];\n};\n\nDirectSelect.pathsToCoordinates = function (featureId, paths) {\n  return paths.map(function (coord_path) {\n    return {\n      feature_id: featureId,\n      coord_path: coord_path\n    };\n  });\n};\n\nDirectSelect.onFeature = function (state, e) {\n  if (state.selectedCoordPaths.length === 0) this.startDragging(state, e);else this.stopDragging(state);\n};\n\nDirectSelect.dragFeature = function (state, e, delta) {\n  moveFeatures(this.getSelected(), delta);\n  state.dragMoveLocation = e.lngLat;\n};\n\nDirectSelect.dragVertex = function (state, e, delta) {\n  var selectedCoords = state.selectedCoordPaths.map(function (coord_path) {\n    return state.feature.getCoordinate(coord_path);\n  });\n  var selectedCoordPoints = selectedCoords.map(function (coords) {\n    return {\n      type: Constants.geojsonTypes.FEATURE,\n      properties: {},\n      geometry: {\n        type: Constants.geojsonTypes.POINT,\n        coordinates: coords\n      }\n    };\n  });\n  var constrainedDelta = constrainFeatureMovement(selectedCoordPoints, delta);\n\n  for (var i = 0; i < selectedCoords.length; i++) {\n    var coord = selectedCoords[i];\n    state.feature.updateCoordinate(state.selectedCoordPaths[i], coord[0] + constrainedDelta.lng, coord[1] + constrainedDelta.lat);\n  }\n};\n\nDirectSelect.clickNoTarget = function () {\n  this.changeMode(Constants.modes.SIMPLE_SELECT);\n};\n\nDirectSelect.clickInactive = function () {\n  this.changeMode(Constants.modes.SIMPLE_SELECT);\n};\n\nDirectSelect.clickActiveFeature = function (state) {\n  state.selectedCoordPaths = [];\n  this.clearSelectedCoordinates();\n  state.feature.changed();\n}; // EXTERNAL FUNCTIONS\n\n\nDirectSelect.onSetup = function (opts) {\n  var featureId = opts.featureId;\n  var feature = this.getFeature(featureId);\n\n  if (!feature) {\n    throw new Error('You must provide a featureId to enter direct_select mode');\n  }\n\n  if (feature.type === Constants.geojsonTypes.POINT) {\n    throw new TypeError('direct_select mode doesn\\'t handle point features');\n  }\n\n  var state = {\n    featureId: featureId,\n    feature: feature,\n    dragMoveLocation: opts.startPos || null,\n    dragMoving: false,\n    canDragMove: false,\n    selectedCoordPaths: opts.coordPath ? [opts.coordPath] : []\n  };\n  this.setSelectedCoordinates(this.pathsToCoordinates(featureId, state.selectedCoordPaths));\n  this.setSelected(featureId);\n  doubleClickZoom.disable(this);\n  this.setActionableState({\n    trash: true\n  });\n  return state;\n};\n\nDirectSelect.onStop = function () {\n  doubleClickZoom.enable(this);\n  this.clearSelectedCoordinates();\n};\n\nDirectSelect.toDisplayFeatures = function (state, geojson, push) {\n  if (state.featureId === geojson.properties.id) {\n    geojson.properties.active = Constants.activeStates.ACTIVE;\n    push(geojson);\n    createSupplementaryPoints(geojson, {\n      map: this.map,\n      midpoints: true,\n      selectedPaths: state.selectedCoordPaths\n    }).forEach(push);\n  } else {\n    geojson.properties.active = Constants.activeStates.INACTIVE;\n    push(geojson);\n  }\n\n  this.fireActionable(state);\n};\n\nDirectSelect.onTrash = function (state) {\n  state.selectedCoordPaths.sort().reverse().forEach(function (id) {\n    return state.feature.removeCoordinate(id);\n  });\n  this.fireUpdate();\n  state.selectedCoordPaths = [];\n  this.clearSelectedCoordinates();\n  this.fireActionable(state);\n\n  if (state.feature.isValid() === false) {\n    this.deleteFeature([state.featureId]);\n    this.changeMode(Constants.modes.SIMPLE_SELECT, {});\n  }\n};\n\nDirectSelect.onMouseMove = function (state, e) {\n  // On mousemove that is not a drag, stop vertex movement.\n  var isFeature = CommonSelectors.isActiveFeature(e);\n  var onVertex = isVertex(e);\n  var noCoords = state.selectedCoordPaths.length === 0;\n  if (isFeature && noCoords) this.updateUIClasses({\n    mouse: Constants.cursors.MOVE\n  });else if (onVertex && !noCoords) this.updateUIClasses({\n    mouse: Constants.cursors.MOVE\n  });else this.updateUIClasses({\n    mouse: Constants.cursors.NONE\n  });\n  this.stopDragging(state);\n};\n\nDirectSelect.onMouseOut = function (state) {\n  // As soon as you mouse leaves the canvas, update the feature\n  if (state.dragMoving) this.fireUpdate();\n};\n\nDirectSelect.onTouchStart = DirectSelect.onMouseDown = function (state, e) {\n  if (isVertex(e)) return this.onVertex(state, e);\n  if (CommonSelectors.isActiveFeature(e)) return this.onFeature(state, e);\n  if (isMidpoint(e)) return this.onMidpoint(state, e);\n};\n\nDirectSelect.onDrag = function (state, e) {\n  if (state.canDragMove !== true) return;\n  state.dragMoving = true;\n  e.originalEvent.stopPropagation();\n  var delta = {\n    lng: e.lngLat.lng - state.dragMoveLocation.lng,\n    lat: e.lngLat.lat - state.dragMoveLocation.lat\n  };\n  if (state.selectedCoordPaths.length > 0) this.dragVertex(state, e, delta);else this.dragFeature(state, e, delta);\n  state.dragMoveLocation = e.lngLat;\n};\n\nDirectSelect.onClick = function (state, e) {\n  if (noTarget(e)) return this.clickNoTarget(state, e);\n  if (CommonSelectors.isActiveFeature(e)) return this.clickActiveFeature(state, e);\n  if (isInactiveFeature(e)) return this.clickInactive(state, e);\n  this.stopDragging(state);\n};\n\nDirectSelect.onTap = function (state, e) {\n  if (noTarget(e)) return this.clickNoTarget(state, e);\n  if (CommonSelectors.isActiveFeature(e)) return this.clickActiveFeature(state, e);\n  if (isInactiveFeature(e)) return this.clickInactive(state, e);\n};\n\nDirectSelect.onTouchEnd = DirectSelect.onMouseUp = function (state) {\n  if (state.dragMoving) {\n    this.fireUpdate();\n  }\n\n  this.stopDragging(state);\n};\n\nmodule.exports = DirectSelect;","var CommonSelectors = require('../lib/common_selectors');\n\nvar Constants = require('../constants');\n\nvar DrawPoint = {};\n\nDrawPoint.onSetup = function () {\n  var point = this.newFeature({\n    type: Constants.geojsonTypes.FEATURE,\n    properties: {},\n    geometry: {\n      type: Constants.geojsonTypes.POINT,\n      coordinates: []\n    }\n  });\n  this.addFeature(point);\n  this.clearSelectedFeatures();\n  this.updateUIClasses({\n    mouse: Constants.cursors.ADD\n  });\n  this.activateUIButton(Constants.types.POINT);\n  this.setActionableState({\n    trash: true\n  });\n  return {\n    point: point\n  };\n};\n\nDrawPoint.stopDrawingAndRemove = function (state) {\n  this.deleteFeature([state.point.id], {\n    silent: true\n  });\n  this.changeMode(Constants.modes.SIMPLE_SELECT);\n};\n\nDrawPoint.onTap = DrawPoint.onClick = function (state, e) {\n  this.updateUIClasses({\n    mouse: Constants.cursors.MOVE\n  });\n  state.point.updateCoordinate('', e.lngLat.lng, e.lngLat.lat);\n  this.map.fire(Constants.events.CREATE, {\n    features: [state.point.toGeoJSON()]\n  });\n  this.changeMode(Constants.modes.SIMPLE_SELECT, {\n    featureIds: [state.point.id]\n  });\n};\n\nDrawPoint.onStop = function (state) {\n  this.activateUIButton();\n\n  if (!state.point.getCoordinate().length) {\n    this.deleteFeature([state.point.id], {\n      silent: true\n    });\n  }\n};\n\nDrawPoint.toDisplayFeatures = function (state, geojson, display) {\n  // Never render the point we're drawing\n  var isActivePoint = geojson.properties.id === state.point.id;\n  geojson.properties.active = isActivePoint ? Constants.activeStates.ACTIVE : Constants.activeStates.INACTIVE;\n  if (!isActivePoint) return display(geojson);\n};\n\nDrawPoint.onTrash = DrawPoint.stopDrawingAndRemove;\n\nDrawPoint.onKeyUp = function (state, e) {\n  if (CommonSelectors.isEscapeKey(e) || CommonSelectors.isEnterKey(e)) {\n    return this.stopDrawingAndRemove(state, e);\n  }\n};\n\nmodule.exports = DrawPoint;","var CommonSelectors = require('../lib/common_selectors');\n\nvar doubleClickZoom = require('../lib/double_click_zoom');\n\nvar Constants = require('../constants');\n\nvar isEventAtCoordinates = require('../lib/is_event_at_coordinates');\n\nvar createVertex = require('../lib/create_vertex');\n\nvar DrawPolygon = {};\n\nDrawPolygon.onSetup = function () {\n  var polygon = this.newFeature({\n    type: Constants.geojsonTypes.FEATURE,\n    properties: {},\n    geometry: {\n      type: Constants.geojsonTypes.POLYGON,\n      coordinates: [[]]\n    }\n  });\n  this.addFeature(polygon);\n  this.clearSelectedFeatures();\n  doubleClickZoom.disable(this);\n  this.updateUIClasses({\n    mouse: Constants.cursors.ADD\n  });\n  this.activateUIButton(Constants.types.POLYGON);\n  this.setActionableState({\n    trash: true\n  });\n  return {\n    polygon: polygon,\n    currentVertexPosition: 0\n  };\n};\n\nDrawPolygon.clickAnywhere = function (state, e) {\n  if (state.currentVertexPosition > 0 && isEventAtCoordinates(e, state.polygon.coordinates[0][state.currentVertexPosition - 1])) {\n    return this.changeMode(Constants.modes.SIMPLE_SELECT, {\n      featureIds: [state.polygon.id]\n    });\n  }\n\n  this.updateUIClasses({\n    mouse: Constants.cursors.ADD\n  });\n  state.polygon.updateCoordinate(\"0.\".concat(state.currentVertexPosition), e.lngLat.lng, e.lngLat.lat);\n  state.currentVertexPosition++;\n  state.polygon.updateCoordinate(\"0.\".concat(state.currentVertexPosition), e.lngLat.lng, e.lngLat.lat);\n};\n\nDrawPolygon.clickOnVertex = function (state) {\n  return this.changeMode(Constants.modes.SIMPLE_SELECT, {\n    featureIds: [state.polygon.id]\n  });\n};\n\nDrawPolygon.onMouseMove = function (state, e) {\n  state.polygon.updateCoordinate(\"0.\".concat(state.currentVertexPosition), e.lngLat.lng, e.lngLat.lat);\n\n  if (CommonSelectors.isVertex(e)) {\n    this.updateUIClasses({\n      mouse: Constants.cursors.POINTER\n    });\n  }\n};\n\nDrawPolygon.onTap = DrawPolygon.onClick = function (state, e) {\n  if (CommonSelectors.isVertex(e)) return this.clickOnVertex(state, e);\n  return this.clickAnywhere(state, e);\n};\n\nDrawPolygon.onKeyUp = function (state, e) {\n  if (CommonSelectors.isEscapeKey(e)) {\n    this.deleteFeature([state.polygon.id], {\n      silent: true\n    });\n    this.changeMode(Constants.modes.SIMPLE_SELECT);\n  } else if (CommonSelectors.isEnterKey(e)) {\n    this.changeMode(Constants.modes.SIMPLE_SELECT, {\n      featureIds: [state.polygon.id]\n    });\n  }\n};\n\nDrawPolygon.onStop = function (state) {\n  this.updateUIClasses({\n    mouse: Constants.cursors.NONE\n  });\n  doubleClickZoom.enable(this);\n  this.activateUIButton(); // check to see if we've deleted this feature\n\n  if (this.getFeature(state.polygon.id) === undefined) return; //remove last added coordinate\n\n  state.polygon.removeCoordinate(\"0.\".concat(state.currentVertexPosition));\n\n  if (state.polygon.isValid()) {\n    this.map.fire(Constants.events.CREATE, {\n      features: [state.polygon.toGeoJSON()]\n    });\n  } else {\n    this.deleteFeature([state.polygon.id], {\n      silent: true\n    });\n    this.changeMode(Constants.modes.SIMPLE_SELECT, {}, {\n      silent: true\n    });\n  }\n};\n\nDrawPolygon.toDisplayFeatures = function (state, geojson, display) {\n  var isActivePolygon = geojson.properties.id === state.polygon.id;\n  geojson.properties.active = isActivePolygon ? Constants.activeStates.ACTIVE : Constants.activeStates.INACTIVE;\n  if (!isActivePolygon) return display(geojson); // Don't render a polygon until it has two positions\n  // (and a 3rd which is just the first repeated)\n\n  if (geojson.geometry.coordinates.length === 0) return;\n  var coordinateCount = geojson.geometry.coordinates[0].length; // 2 coordinates after selecting a draw type\n  // 3 after creating the first point\n\n  if (coordinateCount < 3) {\n    return;\n  }\n\n  geojson.properties.meta = Constants.meta.FEATURE;\n  display(createVertex(state.polygon.id, geojson.geometry.coordinates[0][0], '0.0', false));\n\n  if (coordinateCount > 3) {\n    // Add a start position marker to the map, clicking on this will finish the feature\n    // This should only be shown when we're in a valid spot\n    var endPos = geojson.geometry.coordinates[0].length - 3;\n    display(createVertex(state.polygon.id, geojson.geometry.coordinates[0][endPos], \"0.\".concat(endPos), false));\n  }\n\n  if (coordinateCount <= 4) {\n    // If we've only drawn two positions (plus the closer),\n    // make a LineString instead of a Polygon\n    var lineCoordinates = [[geojson.geometry.coordinates[0][0][0], geojson.geometry.coordinates[0][0][1]], [geojson.geometry.coordinates[0][1][0], geojson.geometry.coordinates[0][1][1]]]; // create an initial vertex so that we can track the first point on mobile devices\n\n    display({\n      type: Constants.geojsonTypes.FEATURE,\n      properties: geojson.properties,\n      geometry: {\n        coordinates: lineCoordinates,\n        type: Constants.geojsonTypes.LINE_STRING\n      }\n    });\n\n    if (coordinateCount === 3) {\n      return;\n    }\n  } // render the Polygon\n\n\n  return display(geojson);\n};\n\nDrawPolygon.onTrash = function (state) {\n  this.deleteFeature([state.polygon.id], {\n    silent: true\n  });\n  this.changeMode(Constants.modes.SIMPLE_SELECT);\n};\n\nmodule.exports = DrawPolygon;","var _toConsumableArray = require(\"/home/yasser/Desktop/ride-admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/toConsumableArray\");\n\nvar CommonSelectors = require('../lib/common_selectors');\n\nvar isEventAtCoordinates = require('../lib/is_event_at_coordinates');\n\nvar doubleClickZoom = require('../lib/double_click_zoom');\n\nvar Constants = require('../constants');\n\nvar createVertex = require('../lib/create_vertex');\n\nvar DrawLineString = {};\n\nDrawLineString.onSetup = function (opts) {\n  opts = opts || {};\n  var featureId = opts.featureId;\n  var line, currentVertexPosition;\n  var direction = 'forward';\n\n  if (featureId) {\n    line = this.getFeature(featureId);\n\n    if (!line) {\n      throw new Error('Could not find a feature with the provided featureId');\n    }\n\n    var from = opts.from;\n\n    if (from && from.type === 'Feature' && from.geometry && from.geometry.type === 'Point') {\n      from = from.geometry;\n    }\n\n    if (from && from.type === 'Point' && from.coordinates && from.coordinates.length === 2) {\n      from = from.coordinates;\n    }\n\n    if (!from || !Array.isArray(from)) {\n      throw new Error('Please use the `from` property to indicate which point to continue the line from');\n    }\n\n    var lastCoord = line.coordinates.length - 1;\n\n    if (line.coordinates[lastCoord][0] === from[0] && line.coordinates[lastCoord][1] === from[1]) {\n      var _line;\n\n      currentVertexPosition = lastCoord + 1; // add one new coordinate to continue from\n\n      (_line = line).addCoordinate.apply(_line, [currentVertexPosition].concat(_toConsumableArray(line.coordinates[lastCoord])));\n    } else if (line.coordinates[0][0] === from[0] && line.coordinates[0][1] === from[1]) {\n      var _line2;\n\n      direction = 'backwards';\n      currentVertexPosition = 0; // add one new coordinate to continue from\n\n      (_line2 = line).addCoordinate.apply(_line2, [currentVertexPosition].concat(_toConsumableArray(line.coordinates[0])));\n    } else {\n      throw new Error('`from` should match the point at either the start or the end of the provided LineString');\n    }\n  } else {\n    line = this.newFeature({\n      type: Constants.geojsonTypes.FEATURE,\n      properties: {},\n      geometry: {\n        type: Constants.geojsonTypes.LINE_STRING,\n        coordinates: []\n      }\n    });\n    currentVertexPosition = 0;\n    this.addFeature(line);\n  }\n\n  this.clearSelectedFeatures();\n  doubleClickZoom.disable(this);\n  this.updateUIClasses({\n    mouse: Constants.cursors.ADD\n  });\n  this.activateUIButton(Constants.types.LINE);\n  this.setActionableState({\n    trash: true\n  });\n  return {\n    line: line,\n    currentVertexPosition: currentVertexPosition,\n    direction: direction\n  };\n};\n\nDrawLineString.clickAnywhere = function (state, e) {\n  if (state.currentVertexPosition > 0 && isEventAtCoordinates(e, state.line.coordinates[state.currentVertexPosition - 1]) || state.direction === 'backwards' && isEventAtCoordinates(e, state.line.coordinates[state.currentVertexPosition + 1])) {\n    return this.changeMode(Constants.modes.SIMPLE_SELECT, {\n      featureIds: [state.line.id]\n    });\n  }\n\n  this.updateUIClasses({\n    mouse: Constants.cursors.ADD\n  });\n  state.line.updateCoordinate(state.currentVertexPosition, e.lngLat.lng, e.lngLat.lat);\n\n  if (state.direction === 'forward') {\n    state.currentVertexPosition++;\n    state.line.updateCoordinate(state.currentVertexPosition, e.lngLat.lng, e.lngLat.lat);\n  } else {\n    state.line.addCoordinate(0, e.lngLat.lng, e.lngLat.lat);\n  }\n};\n\nDrawLineString.clickOnVertex = function (state) {\n  return this.changeMode(Constants.modes.SIMPLE_SELECT, {\n    featureIds: [state.line.id]\n  });\n};\n\nDrawLineString.onMouseMove = function (state, e) {\n  state.line.updateCoordinate(state.currentVertexPosition, e.lngLat.lng, e.lngLat.lat);\n\n  if (CommonSelectors.isVertex(e)) {\n    this.updateUIClasses({\n      mouse: Constants.cursors.POINTER\n    });\n  }\n};\n\nDrawLineString.onTap = DrawLineString.onClick = function (state, e) {\n  if (CommonSelectors.isVertex(e)) return this.clickOnVertex(state, e);\n  this.clickAnywhere(state, e);\n};\n\nDrawLineString.onKeyUp = function (state, e) {\n  if (CommonSelectors.isEnterKey(e)) {\n    this.changeMode(Constants.modes.SIMPLE_SELECT, {\n      featureIds: [state.line.id]\n    });\n  } else if (CommonSelectors.isEscapeKey(e)) {\n    this.deleteFeature([state.line.id], {\n      silent: true\n    });\n    this.changeMode(Constants.modes.SIMPLE_SELECT);\n  }\n};\n\nDrawLineString.onStop = function (state) {\n  doubleClickZoom.enable(this);\n  this.activateUIButton(); // check to see if we've deleted this feature\n\n  if (this.getFeature(state.line.id) === undefined) return; //remove last added coordinate\n\n  state.line.removeCoordinate(\"\".concat(state.currentVertexPosition));\n\n  if (state.line.isValid()) {\n    this.map.fire(Constants.events.CREATE, {\n      features: [state.line.toGeoJSON()]\n    });\n  } else {\n    this.deleteFeature([state.line.id], {\n      silent: true\n    });\n    this.changeMode(Constants.modes.SIMPLE_SELECT, {}, {\n      silent: true\n    });\n  }\n};\n\nDrawLineString.onTrash = function (state) {\n  this.deleteFeature([state.line.id], {\n    silent: true\n  });\n  this.changeMode(Constants.modes.SIMPLE_SELECT);\n};\n\nDrawLineString.toDisplayFeatures = function (state, geojson, display) {\n  var isActiveLine = geojson.properties.id === state.line.id;\n  geojson.properties.active = isActiveLine ? Constants.activeStates.ACTIVE : Constants.activeStates.INACTIVE;\n  if (!isActiveLine) return display(geojson); // Only render the line if it has at least one real coordinate\n\n  if (geojson.geometry.coordinates.length < 2) return;\n  geojson.properties.meta = Constants.meta.FEATURE;\n  display(createVertex(state.line.id, geojson.geometry.coordinates[state.direction === 'forward' ? geojson.geometry.coordinates.length - 2 : 1], \"\".concat(state.direction === 'forward' ? geojson.geometry.coordinates.length - 2 : 1), false));\n  display(geojson);\n};\n\nmodule.exports = DrawLineString;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","var isEqual = require('lodash.isequal');\n\nvar normalize = require('@mapbox/geojson-normalize');\n\nvar hat = require('hat');\n\nvar featuresAt = require('./lib/features_at');\n\nvar stringSetsAreEqual = require('./lib/string_sets_are_equal');\n\nvar geojsonhint = require('@mapbox/geojsonhint');\n\nvar Constants = require('./constants');\n\nvar StringSet = require('./lib/string_set');\n\nvar featureTypes = {\n  Polygon: require('./feature_types/polygon'),\n  LineString: require('./feature_types/line_string'),\n  Point: require('./feature_types/point'),\n  MultiPolygon: require('./feature_types/multi_feature'),\n  MultiLineString: require('./feature_types/multi_feature'),\n  MultiPoint: require('./feature_types/multi_feature')\n};\n\nmodule.exports = function (ctx, api) {\n  api.modes = Constants.modes;\n\n  api.getFeatureIdsAt = function (point) {\n    var features = featuresAt.click({\n      point: point\n    }, null, ctx);\n    return features.map(function (feature) {\n      return feature.properties.id;\n    });\n  };\n\n  api.getSelectedIds = function () {\n    return ctx.store.getSelectedIds();\n  };\n\n  api.getSelected = function () {\n    return {\n      type: Constants.geojsonTypes.FEATURE_COLLECTION,\n      features: ctx.store.getSelectedIds().map(function (id) {\n        return ctx.store.get(id);\n      }).map(function (feature) {\n        return feature.toGeoJSON();\n      })\n    };\n  };\n\n  api.getSelectedPoints = function () {\n    return {\n      type: Constants.geojsonTypes.FEATURE_COLLECTION,\n      features: ctx.store.getSelectedCoordinates().map(function (coordinate) {\n        return {\n          type: Constants.geojsonTypes.FEATURE,\n          properties: {},\n          geometry: {\n            type: Constants.geojsonTypes.POINT,\n            coordinates: coordinate.coordinates\n          }\n        };\n      })\n    };\n  };\n\n  api.set = function (featureCollection) {\n    if (featureCollection.type === undefined || featureCollection.type !== Constants.geojsonTypes.FEATURE_COLLECTION || !Array.isArray(featureCollection.features)) {\n      throw new Error('Invalid FeatureCollection');\n    }\n\n    var renderBatch = ctx.store.createRenderBatch();\n    var toDelete = ctx.store.getAllIds().slice();\n    var newIds = api.add(featureCollection);\n    var newIdsLookup = new StringSet(newIds);\n    toDelete = toDelete.filter(function (id) {\n      return !newIdsLookup.has(id);\n    });\n\n    if (toDelete.length) {\n      api.delete(toDelete);\n    }\n\n    renderBatch();\n    return newIds;\n  };\n\n  api.add = function (geojson) {\n    var errors = geojsonhint.hint(geojson, {\n      precisionWarning: false\n    }).filter(function (e) {\n      return e.level !== 'message';\n    });\n\n    if (errors.length) {\n      throw new Error(errors[0].message);\n    }\n\n    var featureCollection = JSON.parse(JSON.stringify(normalize(geojson)));\n    var ids = featureCollection.features.map(function (feature) {\n      feature.id = feature.id || hat();\n\n      if (feature.geometry === null) {\n        throw new Error('Invalid geometry: null');\n      }\n\n      if (ctx.store.get(feature.id) === undefined || ctx.store.get(feature.id).type !== feature.geometry.type) {\n        // If the feature has not yet been created ...\n        var Model = featureTypes[feature.geometry.type];\n\n        if (Model === undefined) {\n          throw new Error(\"Invalid geometry type: \".concat(feature.geometry.type, \".\"));\n        }\n\n        var internalFeature = new Model(ctx, feature);\n        ctx.store.add(internalFeature);\n      } else {\n        // If a feature of that id has already been created, and we are swapping it out ...\n        var _internalFeature = ctx.store.get(feature.id);\n\n        _internalFeature.properties = feature.properties;\n\n        if (!isEqual(_internalFeature.getCoordinates(), feature.geometry.coordinates)) {\n          _internalFeature.incomingCoords(feature.geometry.coordinates);\n        }\n      }\n\n      return feature.id;\n    });\n    ctx.store.render();\n    return ids;\n  };\n\n  api.get = function (id) {\n    var feature = ctx.store.get(id);\n\n    if (feature) {\n      return feature.toGeoJSON();\n    }\n  };\n\n  api.getAll = function () {\n    return {\n      type: Constants.geojsonTypes.FEATURE_COLLECTION,\n      features: ctx.store.getAll().map(function (feature) {\n        return feature.toGeoJSON();\n      })\n    };\n  };\n\n  api.delete = function (featureIds) {\n    ctx.store.delete(featureIds, {\n      silent: true\n    }); // If we were in direct select mode and our selected feature no longer exists\n    // (because it was deleted), we need to get out of that mode.\n\n    if (api.getMode() === Constants.modes.DIRECT_SELECT && !ctx.store.getSelectedIds().length) {\n      ctx.events.changeMode(Constants.modes.SIMPLE_SELECT, undefined, {\n        silent: true\n      });\n    } else {\n      ctx.store.render();\n    }\n\n    return api;\n  };\n\n  api.deleteAll = function () {\n    ctx.store.delete(ctx.store.getAllIds(), {\n      silent: true\n    }); // If we were in direct select mode, now our selected feature no longer exists,\n    // so escape that mode.\n\n    if (api.getMode() === Constants.modes.DIRECT_SELECT) {\n      ctx.events.changeMode(Constants.modes.SIMPLE_SELECT, undefined, {\n        silent: true\n      });\n    } else {\n      ctx.store.render();\n    }\n\n    return api;\n  };\n\n  api.changeMode = function (mode) {\n    var modeOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    // Avoid changing modes just to re-select what's already selected\n    if (mode === Constants.modes.SIMPLE_SELECT && api.getMode() === Constants.modes.SIMPLE_SELECT) {\n      if (stringSetsAreEqual(modeOptions.featureIds || [], ctx.store.getSelectedIds())) return api; // And if we are changing the selection within simple_select mode, just change the selection,\n      // instead of stopping and re-starting the mode\n\n      ctx.store.setSelected(modeOptions.featureIds, {\n        silent: true\n      });\n      ctx.store.render();\n      return api;\n    }\n\n    if (mode === Constants.modes.DIRECT_SELECT && api.getMode() === Constants.modes.DIRECT_SELECT && modeOptions.featureId === ctx.store.getSelectedIds()[0]) {\n      return api;\n    }\n\n    ctx.events.changeMode(mode, modeOptions, {\n      silent: true\n    });\n    return api;\n  };\n\n  api.getMode = function () {\n    return ctx.events.getMode();\n  };\n\n  api.trash = function () {\n    ctx.events.trash({\n      silent: true\n    });\n    return api;\n  };\n\n  api.combineFeatures = function () {\n    ctx.events.combineFeatures({\n      silent: true\n    });\n    return api;\n  };\n\n  api.uncombineFeatures = function () {\n    ctx.events.uncombineFeatures({\n      silent: true\n    });\n    return api;\n  };\n\n  api.setFeatureProperty = function (featureId, property, value) {\n    ctx.store.setFeatureProperty(featureId, property, value);\n    return api;\n  };\n\n  return api;\n};","/**\n * Lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright JS Foundation and other contributors <https://js.foundation/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n/** Used to stand-in for `undefined` hash values. */\n\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n/** Used to compose bitmasks for value comparisons. */\n\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n/** Used as references for various `Number` constants. */\n\nvar MAX_SAFE_INTEGER = 9007199254740991;\n/** `Object#toString` result references. */\n\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    asyncTag = '[object AsyncFunction]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    nullTag = '[object Null]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    proxyTag = '[object Proxy]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    undefinedTag = '[object Undefined]',\n    weakMapTag = '[object WeakMap]';\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\n\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n/** Used to detect host constructors (Safari). */\n\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n/** Used to detect unsigned integer values. */\n\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n/** Used to identify `toStringTag` values of typed arrays. */\n\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] = typedArrayTags[int8Tag] = typedArrayTags[int16Tag] = typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] = typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] = typedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] = typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] = typedArrayTags[dataViewTag] = typedArrayTags[dateTag] = typedArrayTags[errorTag] = typedArrayTags[funcTag] = typedArrayTags[mapTag] = typedArrayTags[numberTag] = typedArrayTags[objectTag] = typedArrayTags[regexpTag] = typedArrayTags[setTag] = typedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;\n/** Detect free variable `global` from Node.js. */\n\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n/** Detect free variable `self`. */\n\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n/** Used as a reference to the global object. */\n\nvar root = freeGlobal || freeSelf || Function('return this')();\n/** Detect free variable `exports`. */\n\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n/** Detect free variable `module`. */\n\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n/** Detect the popular CommonJS extension `module.exports`. */\n\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n/** Detect free variable `process` from Node.js. */\n\nvar freeProcess = moduleExports && freeGlobal.process;\n/** Used to access faster Node.js helpers. */\n\nvar nodeUtil = function () {\n  try {\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}();\n/* Node.js helper references. */\n\n\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\n\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n\n  return result;\n}\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\n\n\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n\n  return array;\n}\n/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\n\n\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\n\n\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n\n  return result;\n}\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\n\n\nfunction baseUnary(func) {\n  return function (value) {\n    return func(value);\n  };\n}\n/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\n\n\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\n\n\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\n\n\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n  map.forEach(function (value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\n\n\nfunction overArg(func, transform) {\n  return function (arg) {\n    return func(transform(arg));\n  };\n}\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\n\n\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n  set.forEach(function (value) {\n    result[++index] = value;\n  });\n  return result;\n}\n/** Used for built-in method references. */\n\n\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n/** Used to detect overreaching core-js shims. */\n\nvar coreJsData = root['__core-js_shared__'];\n/** Used to resolve the decompiled source of functions. */\n\nvar funcToString = funcProto.toString;\n/** Used to check objects for own properties. */\n\nvar hasOwnProperty = objectProto.hasOwnProperty;\n/** Used to detect methods masquerading as native. */\n\nvar maskSrcKey = function () {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? 'Symbol(src)_1.' + uid : '';\n}();\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\n\n\nvar nativeObjectToString = objectProto.toString;\n/** Used to detect if a method is native. */\n\nvar reIsNative = RegExp('^' + funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&').replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$');\n/** Built-in value references. */\n\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n/* Built-in method references for those with the same name as other `lodash` methods. */\n\nvar nativeGetSymbols = Object.getOwnPropertySymbols,\n    nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeKeys = overArg(Object.keys, Object);\n/* Built-in method references that are verified to be native. */\n\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap'),\n    nativeCreate = getNative(Object, 'create');\n/** Used to detect maps, sets, and weakmaps. */\n\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n/** Used to convert symbols to primitives and strings. */\n\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\n\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n  this.clear();\n\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\n\n\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\n\n\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\n\n\nfunction hashGet(key) {\n  var data = this.__data__;\n\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\n\n\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n}\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\n\n\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = nativeCreate && value === undefined ? HASH_UNDEFINED : value;\n  return this;\n} // Add methods to `Hash`.\n\n\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\n\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n  this.clear();\n\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\n\n\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\n\n\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n\n  var lastIndex = data.length - 1;\n\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n\n  --this.size;\n  return true;\n}\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\n\n\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n  return index < 0 ? undefined : data[index][1];\n}\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\n\n\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\n\n\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n\n  return this;\n} // Add methods to `ListCache`.\n\n\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\n\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n  this.clear();\n\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\n\n\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash(),\n    'map': new (Map || ListCache)(),\n    'string': new Hash()\n  };\n}\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\n\n\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\n\n\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\n\n\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\n\n\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n} // Add methods to `MapCache`.\n\n\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\n\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n  this.__data__ = new MapCache();\n\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\n\n\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n\n  return this;\n}\n/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\n\n\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n} // Add methods to `SetCache`.\n\n\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\n\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\n\n\nfunction stackClear() {\n  this.__data__ = new ListCache();\n  this.size = 0;\n}\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\n\n\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n  this.size = data.size;\n  return result;\n}\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\n\n\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\n\n\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\n\n\nfunction stackSet(key, value) {\n  var data = this.__data__;\n\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n\n    if (!Map || pairs.length < LARGE_ARRAY_SIZE - 1) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n\n    data = this.__data__ = new MapCache(pairs);\n  }\n\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n} // Add methods to `Stack`.\n\n\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\n\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) && !(skipIndexes && ( // Safari 9 has enumerable `arguments.length` in strict mode.\n    key == 'length' || // Node.js 0.10 has enumerable non-index properties on buffers.\n    isBuff && (key == 'offset' || key == 'parent') || // PhantomJS 2 has enumerable non-index properties on typed arrays.\n    isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset') || // Skip index properties.\n    isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n\n  return result;\n}\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\n\n\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n\n  return -1;\n}\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\n\n\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\n\n\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n\n  return symToStringTag && symToStringTag in Object(value) ? getRawTag(value) : objectToString(value);\n}\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\n\n\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\n\n\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n\n  if (value == null || other == null || !isObjectLike(value) && !isObjectLike(other)) {\n    return value !== value && other !== other;\n  }\n\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\n\n\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n\n    objIsArr = true;\n    objIsObj = false;\n  }\n\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack());\n    return objIsArr || isTypedArray(object) ? equalArrays(object, other, bitmask, customizer, equalFunc, stack) : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n      stack || (stack = new Stack());\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n\n  if (!isSameTag) {\n    return false;\n  }\n\n  stack || (stack = new Stack());\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\n\n\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\n\n\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) && isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\n\n\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n\n  var result = [];\n\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n\n  return result;\n}\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\n\n\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  } // Assume cyclic values are equal.\n\n\n  var stacked = stack.get(array);\n\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n\n  var index = -1,\n      result = true,\n      seen = bitmask & COMPARE_UNORDERED_FLAG ? new SetCache() : undefined;\n  stack.set(array, other);\n  stack.set(other, array); // Ignore non-index properties.\n\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial ? customizer(othValue, arrValue, index, other, array, stack) : customizer(arrValue, othValue, index, array, other, stack);\n    }\n\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n\n      result = false;\n      break;\n    } // Recursively compare arrays (susceptible to call stack limits).\n\n\n    if (seen) {\n      if (!arraySome(other, function (othValue, othIndex) {\n        if (!cacheHas(seen, othIndex) && (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n          return seen.push(othIndex);\n        }\n      })) {\n        result = false;\n        break;\n      }\n    } else if (!(arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n      result = false;\n      break;\n    }\n  }\n\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\n\n\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if (object.byteLength != other.byteLength || object.byteOffset != other.byteOffset) {\n        return false;\n      }\n\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if (object.byteLength != other.byteLength || !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == other + '';\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      } // Assume cyclic values are equal.\n\n\n      var stacked = stack.get(object);\n\n      if (stacked) {\n        return stacked == other;\n      }\n\n      bitmask |= COMPARE_UNORDERED_FLAG; // Recursively compare objects (susceptible to call stack limits).\n\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n\n  }\n\n  return false;\n}\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\n\n\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n\n  var index = objLength;\n\n  while (index--) {\n    var key = objProps[index];\n\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  } // Assume cyclic values are equal.\n\n\n  var stacked = stack.get(object);\n\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n  var skipCtor = isPartial;\n\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial ? customizer(othValue, objValue, key, other, object, stack) : customizer(objValue, othValue, key, object, other, stack);\n    } // Recursively compare objects (susceptible to call stack limits).\n\n\n    if (!(compared === undefined ? objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack) : compared)) {\n      result = false;\n      break;\n    }\n\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor; // Non `Object` object instances with different constructors are not equal.\n\n    if (objCtor != othCtor && 'constructor' in object && 'constructor' in other && !(typeof objCtor == 'function' && objCtor instanceof objCtor && typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\n\n\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\n\n\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key) ? data[typeof key == 'string' ? 'string' : 'hash'] : data.map;\n}\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\n\n\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\n\n\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n\n  return result;\n}\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\n\n\nvar getSymbols = !nativeGetSymbols ? stubArray : function (object) {\n  if (object == null) {\n    return [];\n  }\n\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function (symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\n\nvar getTag = baseGetTag; // Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\n\nif (DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag || Map && getTag(new Map()) != mapTag || Promise && getTag(Promise.resolve()) != promiseTag || Set && getTag(new Set()) != setTag || WeakMap && getTag(new WeakMap()) != weakMapTag) {\n  getTag = function getTag(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString:\n          return dataViewTag;\n\n        case mapCtorString:\n          return mapTag;\n\n        case promiseCtorString:\n          return promiseTag;\n\n        case setCtorString:\n          return setTag;\n\n        case weakMapCtorString:\n          return weakMapTag;\n      }\n    }\n\n    return result;\n  };\n}\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\n\n\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length && (typeof value == 'number' || reIsUint.test(value)) && value > -1 && value % 1 == 0 && value < length;\n}\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\n\n\nfunction isKeyable(value) {\n  var type = typeof value;\n  return type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean' ? value !== '__proto__' : value === null;\n}\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\n\n\nfunction isMasked(func) {\n  return !!maskSrcKey && maskSrcKey in func;\n}\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\n\n\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = typeof Ctor == 'function' && Ctor.prototype || objectProto;\n  return value === proto;\n}\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\n\n\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\n\n\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n\n    try {\n      return func + '';\n    } catch (e) {}\n  }\n\n  return '';\n}\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\n\n\nfunction eq(value, other) {\n  return value === other || value !== value && other !== other;\n}\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\n\n\nvar isArguments = baseIsArguments(function () {\n  return arguments;\n}()) ? baseIsArguments : function (value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') && !propertyIsEnumerable.call(value, 'callee');\n};\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\n\nvar isArray = Array.isArray;\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\n\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\n\n\nvar isBuffer = nativeIsBuffer || stubFalse;\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\n\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\n\n\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  } // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n\n\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\n\n\nfunction isLength(value) {\n  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\n\n\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\n\n\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\n\n\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\n\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\n\n\nfunction stubArray() {\n  return [];\n}\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\n\n\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = isEqual;","module.exports = function (a, b) {\n  if (a.length !== b.length) return false;\n  return JSON.stringify(a.map(function (id) {\n    return id;\n  }).sort()) === JSON.stringify(b.map(function (id) {\n    return id;\n  }).sort());\n};","var jsonlint = require('jsonlint-lines'),\n    geojsonHintObject = require('./object');\n/**\n * @alias geojsonhint\n * @param {(string|object)} GeoJSON given as a string or as an object\n * @param {Object} options\n * @param {boolean} [options.noDuplicateMembers=true] forbid repeated\n * properties. This is only available for string input, becaused parsed\n * Objects cannot have duplicate properties.\n * @param {boolean} [options.precisionWarning=true] warn if GeoJSON contains\n * unnecessary coordinate precision.\n * @returns {Array<Object>} an array of errors\n */\n\n\nfunction hint(str, options) {\n  var gj,\n      errors = [];\n\n  if (typeof str === 'object') {\n    gj = str;\n  } else if (typeof str === 'string') {\n    try {\n      gj = jsonlint.parse(str);\n    } catch (e) {\n      var match = e.message.match(/line (\\d+)/);\n      var lineNumber = parseInt(match[1], 10);\n      return [{\n        line: lineNumber - 1,\n        message: e.message,\n        error: e\n      }];\n    }\n  } else {\n    return [{\n      message: 'Expected string or object as input',\n      line: 0\n    }];\n  }\n\n  errors = errors.concat(geojsonHintObject.hint(gj, options));\n  return errors;\n}\n\nmodule.exports.hint = hint;","/* parser generated by jison 0.4.17 */\n\n/*\n  Returns a Parser object of the following structure:\n\n  Parser: {\n    yy: {}\n  }\n\n  Parser.prototype: {\n    yy: {},\n    trace: function(),\n    symbols_: {associative list: name ==> number},\n    terminals_: {associative list: number ==> name},\n    productions_: [...],\n    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),\n    table: [...],\n    defaultActions: {...},\n    parseError: function(str, hash),\n    parse: function(input),\n\n    lexer: {\n        EOF: 1,\n        parseError: function(str, hash),\n        setInput: function(input),\n        input: function(),\n        unput: function(str),\n        more: function(),\n        less: function(n),\n        pastInput: function(),\n        upcomingInput: function(),\n        showPosition: function(),\n        test_match: function(regex_match_array, rule_index),\n        next: function(),\n        lex: function(),\n        begin: function(condition),\n        popState: function(),\n        _currentRules: function(),\n        topState: function(),\n        pushState: function(condition),\n\n        options: {\n            ranges: boolean           (optional: true ==> token location info will include a .range[] member)\n            flex: boolean             (optional: true ==> flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)\n            backtrack_lexer: boolean  (optional: true ==> lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)\n        },\n\n        performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),\n        rules: [...],\n        conditions: {associative list: name ==> set},\n    }\n  }\n\n\n  token location info (@$, _$, etc.): {\n    first_line: n,\n    last_line: n,\n    first_column: n,\n    last_column: n,\n    range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)\n  }\n\n\n  the parseError function receives a 'hash' object with these members for lexer and parser errors: {\n    text:        (matched text)\n    token:       (the produced terminal token, if any)\n    line:        (yylineno)\n  }\n  while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {\n    loc:         (yylloc)\n    expected:    (string describing the set of expected tokens)\n    recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)\n  }\n*/\nvar jsonlint = function () {\n  var o = function o(k, v, _o, l) {\n    for (_o = _o || {}, l = k.length; l--; _o[k[l]] = v) {\n      ;\n    }\n\n    return _o;\n  },\n      $V0 = [1, 12],\n      $V1 = [1, 13],\n      $V2 = [1, 9],\n      $V3 = [1, 10],\n      $V4 = [1, 11],\n      $V5 = [1, 14],\n      $V6 = [1, 15],\n      $V7 = [14, 18, 22, 24],\n      $V8 = [18, 22],\n      $V9 = [22, 24];\n\n  var parser = {\n    trace: function trace() {},\n    yy: {},\n    symbols_: {\n      \"error\": 2,\n      \"JSONString\": 3,\n      \"STRING\": 4,\n      \"JSONNumber\": 5,\n      \"NUMBER\": 6,\n      \"JSONNullLiteral\": 7,\n      \"NULL\": 8,\n      \"JSONBooleanLiteral\": 9,\n      \"TRUE\": 10,\n      \"FALSE\": 11,\n      \"JSONText\": 12,\n      \"JSONValue\": 13,\n      \"EOF\": 14,\n      \"JSONObject\": 15,\n      \"JSONArray\": 16,\n      \"{\": 17,\n      \"}\": 18,\n      \"JSONMemberList\": 19,\n      \"JSONMember\": 20,\n      \":\": 21,\n      \",\": 22,\n      \"[\": 23,\n      \"]\": 24,\n      \"JSONElementList\": 25,\n      \"$accept\": 0,\n      \"$end\": 1\n    },\n    terminals_: {\n      2: \"error\",\n      4: \"STRING\",\n      6: \"NUMBER\",\n      8: \"NULL\",\n      10: \"TRUE\",\n      11: \"FALSE\",\n      14: \"EOF\",\n      17: \"{\",\n      18: \"}\",\n      21: \":\",\n      22: \",\",\n      23: \"[\",\n      24: \"]\"\n    },\n    productions_: [0, [3, 1], [5, 1], [7, 1], [9, 1], [9, 1], [12, 2], [13, 1], [13, 1], [13, 1], [13, 1], [13, 1], [13, 1], [15, 2], [15, 3], [20, 3], [19, 1], [19, 3], [16, 2], [16, 3], [25, 1], [25, 3]],\n    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate\n    /* action[1] */\n    , $$\n    /* vstack */\n    , _$\n    /* lstack */\n    ) {\n      /* this == yyval */\n      var $0 = $$.length - 1;\n\n      switch (yystate) {\n        case 1:\n          // replace escaped characters with actual character\n          this.$ = yytext.replace(/\\\\(\\\\|\")/g, \"$\" + \"1\").replace(/\\\\n/g, '\\n').replace(/\\\\r/g, '\\r').replace(/\\\\t/g, '\\t').replace(/\\\\v/g, '\\v').replace(/\\\\f/g, '\\f').replace(/\\\\b/g, '\\b');\n          break;\n\n        case 2:\n          this.$ = Number(yytext);\n          break;\n\n        case 3:\n          this.$ = null;\n          break;\n\n        case 4:\n          this.$ = true;\n          break;\n\n        case 5:\n          this.$ = false;\n          break;\n\n        case 6:\n          return this.$ = $$[$0 - 1];\n          break;\n\n        case 13:\n          this.$ = {};\n          Object.defineProperty(this.$, '__line__', {\n            value: this._$.first_line,\n            enumerable: false\n          });\n          break;\n\n        case 14:\n        case 19:\n          this.$ = $$[$0 - 1];\n          Object.defineProperty(this.$, '__line__', {\n            value: this._$.first_line,\n            enumerable: false\n          });\n          break;\n\n        case 15:\n          this.$ = [$$[$0 - 2], $$[$0]];\n          break;\n\n        case 16:\n          this.$ = {};\n          this.$[$$[$0][0]] = $$[$0][1];\n          break;\n\n        case 17:\n          this.$ = $$[$0 - 2];\n\n          if ($$[$0 - 2][$$[$0][0]] !== undefined) {\n            if (!this.$.__duplicateProperties__) {\n              Object.defineProperty(this.$, '__duplicateProperties__', {\n                value: [],\n                enumerable: false\n              });\n            }\n\n            this.$.__duplicateProperties__.push($$[$0][0]);\n          }\n\n          $$[$0 - 2][$$[$0][0]] = $$[$0][1];\n          break;\n\n        case 18:\n          this.$ = [];\n          Object.defineProperty(this.$, '__line__', {\n            value: this._$.first_line,\n            enumerable: false\n          });\n          break;\n\n        case 20:\n          this.$ = [$$[$0]];\n          break;\n\n        case 21:\n          this.$ = $$[$0 - 2];\n          $$[$0 - 2].push($$[$0]);\n          break;\n      }\n    },\n    table: [{\n      3: 5,\n      4: $V0,\n      5: 6,\n      6: $V1,\n      7: 3,\n      8: $V2,\n      9: 4,\n      10: $V3,\n      11: $V4,\n      12: 1,\n      13: 2,\n      15: 7,\n      16: 8,\n      17: $V5,\n      23: $V6\n    }, {\n      1: [3]\n    }, {\n      14: [1, 16]\n    }, o($V7, [2, 7]), o($V7, [2, 8]), o($V7, [2, 9]), o($V7, [2, 10]), o($V7, [2, 11]), o($V7, [2, 12]), o($V7, [2, 3]), o($V7, [2, 4]), o($V7, [2, 5]), o([14, 18, 21, 22, 24], [2, 1]), o($V7, [2, 2]), {\n      3: 20,\n      4: $V0,\n      18: [1, 17],\n      19: 18,\n      20: 19\n    }, {\n      3: 5,\n      4: $V0,\n      5: 6,\n      6: $V1,\n      7: 3,\n      8: $V2,\n      9: 4,\n      10: $V3,\n      11: $V4,\n      13: 23,\n      15: 7,\n      16: 8,\n      17: $V5,\n      23: $V6,\n      24: [1, 21],\n      25: 22\n    }, {\n      1: [2, 6]\n    }, o($V7, [2, 13]), {\n      18: [1, 24],\n      22: [1, 25]\n    }, o($V8, [2, 16]), {\n      21: [1, 26]\n    }, o($V7, [2, 18]), {\n      22: [1, 28],\n      24: [1, 27]\n    }, o($V9, [2, 20]), o($V7, [2, 14]), {\n      3: 20,\n      4: $V0,\n      20: 29\n    }, {\n      3: 5,\n      4: $V0,\n      5: 6,\n      6: $V1,\n      7: 3,\n      8: $V2,\n      9: 4,\n      10: $V3,\n      11: $V4,\n      13: 30,\n      15: 7,\n      16: 8,\n      17: $V5,\n      23: $V6\n    }, o($V7, [2, 19]), {\n      3: 5,\n      4: $V0,\n      5: 6,\n      6: $V1,\n      7: 3,\n      8: $V2,\n      9: 4,\n      10: $V3,\n      11: $V4,\n      13: 31,\n      15: 7,\n      16: 8,\n      17: $V5,\n      23: $V6\n    }, o($V8, [2, 17]), o($V8, [2, 15]), o($V9, [2, 21])],\n    defaultActions: {\n      16: [2, 6]\n    },\n    parseError: function parseError(str, hash) {\n      if (hash.recoverable) {\n        this.trace(str);\n      } else {\n        var _parseError = function _parseError(msg, hash) {\n          this.message = msg;\n          this.hash = hash;\n        };\n\n        _parseError.prototype = Error;\n        throw new _parseError(str, hash);\n      }\n    },\n    parse: function parse(input) {\n      var self = this,\n          stack = [0],\n          tstack = [],\n          vstack = [null],\n          lstack = [],\n          table = this.table,\n          yytext = '',\n          yylineno = 0,\n          yyleng = 0,\n          recovering = 0,\n          TERROR = 2,\n          EOF = 1;\n      var args = lstack.slice.call(arguments, 1);\n      var lexer = Object.create(this.lexer);\n      var sharedState = {\n        yy: {}\n      };\n\n      for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n          sharedState.yy[k] = this.yy[k];\n        }\n      }\n\n      lexer.setInput(input, sharedState.yy);\n      sharedState.yy.lexer = lexer;\n      sharedState.yy.parser = this;\n\n      if (typeof lexer.yylloc == 'undefined') {\n        lexer.yylloc = {};\n      }\n\n      var yyloc = lexer.yylloc;\n      lstack.push(yyloc);\n      var ranges = lexer.options && lexer.options.ranges;\n\n      if (typeof sharedState.yy.parseError === 'function') {\n        this.parseError = sharedState.yy.parseError;\n      } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n      }\n\n      function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n      }\n\n      _token_stack: var lex = function lex() {\n        var token;\n        token = lexer.lex() || EOF;\n\n        if (typeof token !== 'number') {\n          token = self.symbols_[token] || token;\n        }\n\n        return token;\n      };\n\n      var symbol,\n          preErrorSymbol,\n          state,\n          action,\n          a,\n          r,\n          yyval = {},\n          p,\n          len,\n          newState,\n          expected;\n\n      while (true) {\n        state = stack[stack.length - 1];\n\n        if (this.defaultActions[state]) {\n          action = this.defaultActions[state];\n        } else {\n          if (symbol === null || typeof symbol == 'undefined') {\n            symbol = lex();\n          }\n\n          action = table[state] && table[state][symbol];\n        }\n\n        if (typeof action === 'undefined' || !action.length || !action[0]) {\n          var errStr = '';\n          expected = [];\n\n          for (p in table[state]) {\n            if (this.terminals_[p] && p > TERROR) {\n              expected.push('\\'' + this.terminals_[p] + '\\'');\n            }\n          }\n\n          if (lexer.showPosition) {\n            errStr = 'Parse error on line ' + (yylineno + 1) + ':\\n' + lexer.showPosition() + '\\nExpecting ' + expected.join(', ') + ', got \\'' + (this.terminals_[symbol] || symbol) + '\\'';\n          } else {\n            errStr = 'Parse error on line ' + (yylineno + 1) + ': Unexpected ' + (symbol == EOF ? 'end of input' : '\\'' + (this.terminals_[symbol] || symbol) + '\\'');\n          }\n\n          this.parseError(errStr, {\n            text: lexer.match,\n            token: this.terminals_[symbol] || symbol,\n            line: lexer.yylineno,\n            loc: yyloc,\n            expected: expected\n          });\n        }\n\n        if (action[0] instanceof Array && action.length > 1) {\n          throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol);\n        }\n\n        switch (action[0]) {\n          case 1:\n            stack.push(symbol);\n            vstack.push(lexer.yytext);\n            lstack.push(lexer.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n\n            if (!preErrorSymbol) {\n              yyleng = lexer.yyleng;\n              yytext = lexer.yytext;\n              yylineno = lexer.yylineno;\n              yyloc = lexer.yylloc;\n\n              if (recovering > 0) {\n                recovering--;\n              }\n            } else {\n              symbol = preErrorSymbol;\n              preErrorSymbol = null;\n            }\n\n            break;\n\n          case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {\n              first_line: lstack[lstack.length - (len || 1)].first_line,\n              last_line: lstack[lstack.length - 1].last_line,\n              first_column: lstack[lstack.length - (len || 1)].first_column,\n              last_column: lstack[lstack.length - 1].last_column\n            };\n\n            if (ranges) {\n              yyval._$.range = [lstack[lstack.length - (len || 1)].range[0], lstack[lstack.length - 1].range[1]];\n            }\n\n            r = this.performAction.apply(yyval, [yytext, yyleng, yylineno, sharedState.yy, action[1], vstack, lstack].concat(args));\n\n            if (typeof r !== 'undefined') {\n              return r;\n            }\n\n            if (len) {\n              stack = stack.slice(0, -1 * len * 2);\n              vstack = vstack.slice(0, -1 * len);\n              lstack = lstack.slice(0, -1 * len);\n            }\n\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n\n          case 3:\n            return true;\n        }\n      }\n\n      return true;\n    }\n  };\n  /* generated by jison-lex 0.3.4 */\n\n  var lexer = function () {\n    var lexer = {\n      EOF: 1,\n      parseError: function parseError(str, hash) {\n        if (this.yy.parser) {\n          this.yy.parser.parseError(str, hash);\n        } else {\n          throw new Error(str);\n        }\n      },\n      // resets the lexer, sets new input\n      setInput: function setInput(input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = '';\n        this.conditionStack = ['INITIAL'];\n        this.yylloc = {\n          first_line: 1,\n          first_column: 0,\n          last_line: 1,\n          last_column: 0\n        };\n\n        if (this.options.ranges) {\n          this.yylloc.range = [0, 0];\n        }\n\n        this.offset = 0;\n        return this;\n      },\n      // consumes and returns one char from the input\n      input: function input() {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n\n        if (lines) {\n          this.yylineno++;\n          this.yylloc.last_line++;\n        } else {\n          this.yylloc.last_column++;\n        }\n\n        if (this.options.ranges) {\n          this.yylloc.range[1]++;\n        }\n\n        this._input = this._input.slice(1);\n        return ch;\n      },\n      // unshifts one char (or a string) into the input\n      unput: function unput(ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len); //this.yyleng -= len;\n\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n\n        if (lines.length - 1) {\n          this.yylineno -= lines.length - 1;\n        }\n\n        var r = this.yylloc.range;\n        this.yylloc = {\n          first_line: this.yylloc.first_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.first_column,\n          last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len\n        };\n\n        if (this.options.ranges) {\n          this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n\n        this.yyleng = this.yytext.length;\n        return this;\n      },\n      // When called from action, caches matched text and appends it on next action\n      more: function more() {\n        this._more = true;\n        return this;\n      },\n      // When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\n      reject: function reject() {\n        if (this.options.backtrack_lexer) {\n          this._backtrack = true;\n        } else {\n          return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n' + this.showPosition(), {\n            text: \"\",\n            token: null,\n            line: this.yylineno\n          });\n        }\n\n        return this;\n      },\n      // retain first n characters of the match\n      less: function less(n) {\n        this.unput(this.match.slice(n));\n      },\n      // displays already matched input, i.e. for error messages\n      pastInput: function pastInput() {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? '...' : '') + past.substr(-20).replace(/\\n/g, \"\");\n      },\n      // displays upcoming input, i.e. for error messages\n      upcomingInput: function upcomingInput() {\n        var next = this.match;\n\n        if (next.length < 20) {\n          next += this._input.substr(0, 20 - next.length);\n        }\n\n        return (next.substr(0, 20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, \"\");\n      },\n      // displays the character position where the lexing error occurred, i.e. for error messages\n      showPosition: function showPosition() {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join(\"-\");\n        return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n      },\n      // test the lexed token: return FALSE when not a match, otherwise return token\n      test_match: function test_match(match, indexed_rule) {\n        var token, lines, backup;\n\n        if (this.options.backtrack_lexer) {\n          // save context\n          backup = {\n            yylineno: this.yylineno,\n            yylloc: {\n              first_line: this.yylloc.first_line,\n              last_line: this.last_line,\n              first_column: this.yylloc.first_column,\n              last_column: this.yylloc.last_column\n            },\n            yytext: this.yytext,\n            match: this.match,\n            matches: this.matches,\n            matched: this.matched,\n            yyleng: this.yyleng,\n            offset: this.offset,\n            _more: this._more,\n            _input: this._input,\n            yy: this.yy,\n            conditionStack: this.conditionStack.slice(0),\n            done: this.done\n          };\n\n          if (this.options.ranges) {\n            backup.yylloc.range = this.yylloc.range.slice(0);\n          }\n        }\n\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n\n        if (lines) {\n          this.yylineno += lines.length;\n        }\n\n        this.yylloc = {\n          first_line: this.yylloc.last_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.last_column,\n          last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length : this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n\n        if (this.options.ranges) {\n          this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n\n        if (this.done && this._input) {\n          this.done = false;\n        }\n\n        if (token) {\n          return token;\n        } else if (this._backtrack) {\n          // recover context\n          for (var k in backup) {\n            this[k] = backup[k];\n          }\n\n          return false; // rule action called reject() implying the next rule should be tested instead.\n        }\n\n        return false;\n      },\n      // return next match in input\n      next: function next() {\n        if (this.done) {\n          return this.EOF;\n        }\n\n        if (!this._input) {\n          this.done = true;\n        }\n\n        var token, match, tempMatch, index;\n\n        if (!this._more) {\n          this.yytext = '';\n          this.match = '';\n        }\n\n        var rules = this._currentRules();\n\n        for (var i = 0; i < rules.length; i++) {\n          tempMatch = this._input.match(this.rules[rules[i]]);\n\n          if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n            match = tempMatch;\n            index = i;\n\n            if (this.options.backtrack_lexer) {\n              token = this.test_match(tempMatch, rules[i]);\n\n              if (token !== false) {\n                return token;\n              } else if (this._backtrack) {\n                match = false;\n                continue; // rule action called reject() implying a rule MISmatch.\n              } else {\n                // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                return false;\n              }\n            } else if (!this.options.flex) {\n              break;\n            }\n          }\n        }\n\n        if (match) {\n          token = this.test_match(match, rules[index]);\n\n          if (token !== false) {\n            return token;\n          } // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n\n\n          return false;\n        }\n\n        if (this._input === \"\") {\n          return this.EOF;\n        } else {\n          return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), {\n            text: \"\",\n            token: null,\n            line: this.yylineno\n          });\n        }\n      },\n      // return next match that has a token\n      lex: function lex() {\n        var r = this.next();\n\n        if (r) {\n          return r;\n        } else {\n          return this.lex();\n        }\n      },\n      // activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\n      begin: function begin(condition) {\n        this.conditionStack.push(condition);\n      },\n      // pop the previously active lexer condition state off the condition stack\n      popState: function popState() {\n        var n = this.conditionStack.length - 1;\n\n        if (n > 0) {\n          return this.conditionStack.pop();\n        } else {\n          return this.conditionStack[0];\n        }\n      },\n      // produce the lexer rule set which is active for the currently active lexer condition state\n      _currentRules: function _currentRules() {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n          return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n          return this.conditions[\"INITIAL\"].rules;\n        }\n      },\n      // return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\n      topState: function topState(n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n\n        if (n >= 0) {\n          return this.conditionStack[n];\n        } else {\n          return \"INITIAL\";\n        }\n      },\n      // alias for begin(condition)\n      pushState: function pushState(condition) {\n        this.begin(condition);\n      },\n      // return the number of states currently on the stack\n      stateStackSize: function stateStackSize() {\n        return this.conditionStack.length;\n      },\n      options: {},\n      performAction: function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {\n        var YYSTATE = YY_START;\n\n        switch ($avoiding_name_collisions) {\n          case 0:\n            /* skip whitespace */\n            break;\n\n          case 1:\n            return 6;\n            break;\n\n          case 2:\n            yy_.yytext = yy_.yytext.substr(1, yy_.yyleng - 2);\n            return 4;\n            break;\n\n          case 3:\n            return 17;\n            break;\n\n          case 4:\n            return 18;\n            break;\n\n          case 5:\n            return 23;\n            break;\n\n          case 6:\n            return 24;\n            break;\n\n          case 7:\n            return 22;\n            break;\n\n          case 8:\n            return 21;\n            break;\n\n          case 9:\n            return 10;\n            break;\n\n          case 10:\n            return 11;\n            break;\n\n          case 11:\n            return 8;\n            break;\n\n          case 12:\n            return 14;\n            break;\n\n          case 13:\n            return 'INVALID';\n            break;\n        }\n      },\n      rules: [/^(?:\\s+)/, /^(?:(-?([0-9]|[1-9][0-9]+))(\\.[0-9]+)?([eE][-+]?[0-9]+)?\\b)/, /^(?:\"(?:\\\\[\\\\\"bfnrt\\/]|\\\\u[a-fA-F0-9]{4}|[^\\\\\\0-\\x09\\x0a-\\x1f\"])*\")/, /^(?:\\{)/, /^(?:\\})/, /^(?:\\[)/, /^(?:\\])/, /^(?:,)/, /^(?::)/, /^(?:true\\b)/, /^(?:false\\b)/, /^(?:null\\b)/, /^(?:$)/, /^(?:.)/],\n      conditions: {\n        \"INITIAL\": {\n          \"rules\": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13],\n          \"inclusive\": true\n        }\n      }\n    };\n    return lexer;\n  }();\n\n  parser.lexer = lexer;\n\n  function Parser() {\n    this.yy = {};\n  }\n\n  Parser.prototype = parser;\n  parser.Parser = Parser;\n  return new Parser();\n}();\n\nif (typeof require !== 'undefined' && typeof exports !== 'undefined') {\n  exports.parser = jsonlint;\n  exports.Parser = jsonlint.Parser;\n\n  exports.parse = function () {\n    return jsonlint.parse.apply(jsonlint, arguments);\n  };\n\n  exports.main = function commonjsMain(args) {\n    if (!args[1]) {\n      console.log('Usage: ' + args[0] + ' FILE');\n      process.exit(1);\n    }\n\n    var source = require('fs').readFileSync(require('path').normalize(args[1]), \"utf8\");\n\n    return exports.parser.parse(source);\n  };\n\n  if (typeof module !== 'undefined' && require.main === module) {\n    exports.main(process.argv.slice(1));\n  }\n}","// .dirname, .basename, and .extname methods are extracted from Node.js v8.11.1,\n// backported and transplited with Babel, with backwards-compat fixes\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  } // if the path is allowed to go above the root, restore leading ..s\n\n\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n} // path.resolve([from ...], to)\n// posix version\n\n\nexports.resolve = function () {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = i >= 0 ? arguments[i] : process.cwd(); // Skip empty and invalid entries\n\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  } // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n  // Normalize the path\n\n\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function (p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n  return (resolvedAbsolute ? '/' : '') + resolvedPath || '.';\n}; // path.normalize(path)\n// posix version\n\n\nexports.normalize = function (path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/'; // Normalize the path\n\n  path = normalizeArray(filter(path.split('/'), function (p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n}; // posix version\n\n\nexports.isAbsolute = function (path) {\n  return path.charAt(0) === '/';\n}; // posix version\n\n\nexports.join = function () {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function (p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n\n    return p;\n  }).join('/'));\n}; // path.relative(from, to)\n// posix version\n\n\nexports.relative = function (from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  if (path.length === 0) return '.';\n  var code = path.charCodeAt(0);\n  var hasRoot = code === 47\n  /*/*/\n  ;\n  var end = -1;\n  var matchedSlash = true;\n\n  for (var i = path.length - 1; i >= 1; --i) {\n    code = path.charCodeAt(i);\n\n    if (code === 47\n    /*/*/\n    ) {\n        if (!matchedSlash) {\n          end = i;\n          break;\n        }\n      } else {\n      // We saw the first non-path separator\n      matchedSlash = false;\n    }\n  }\n\n  if (end === -1) return hasRoot ? '/' : '.';\n\n  if (hasRoot && end === 1) {\n    // return '//';\n    // Backwards-compat fix:\n    return '/';\n  }\n\n  return path.slice(0, end);\n};\n\nfunction basename(path) {\n  if (typeof path !== 'string') path = path + '';\n  var start = 0;\n  var end = -1;\n  var matchedSlash = true;\n  var i;\n\n  for (i = path.length - 1; i >= 0; --i) {\n    if (path.charCodeAt(i) === 47\n    /*/*/\n    ) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          start = i + 1;\n          break;\n        }\n      } else if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // path component\n      matchedSlash = false;\n      end = i + 1;\n    }\n  }\n\n  if (end === -1) return '';\n  return path.slice(start, end);\n} // Uses a mixed approach for backwards-compatibility, as ext behavior changed\n// in new Node.js versions, so only basename() above is backported here\n\n\nexports.basename = function (path, ext) {\n  var f = basename(path);\n\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n\n  return f;\n};\n\nexports.extname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  var startDot = -1;\n  var startPart = 0;\n  var end = -1;\n  var matchedSlash = true; // Track the state of characters (if any) we see before our first dot and\n  // after any path separator we find\n\n  var preDotState = 0;\n\n  for (var i = path.length - 1; i >= 0; --i) {\n    var code = path.charCodeAt(i);\n\n    if (code === 47\n    /*/*/\n    ) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n\n        continue;\n      }\n\n    if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // extension\n      matchedSlash = false;\n      end = i + 1;\n    }\n\n    if (code === 46\n    /*.*/\n    ) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1) startDot = i;else if (preDotState !== 1) preDotState = 1;\n      } else if (startDot !== -1) {\n      // We saw a non-dot and non-path separator before our dot, so we should\n      // have a good chance at having a non-empty extension\n      preDotState = -1;\n    }\n  }\n\n  if (startDot === -1 || end === -1 || // We saw a non-dot character immediately before the dot\n  preDotState === 0 || // The (right-most) trimmed path component is exactly '..'\n  preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n    return '';\n  }\n\n  return path.slice(startDot, end);\n};\n\nfunction filter(xs, f) {\n  if (xs.filter) return xs.filter(f);\n  var res = [];\n\n  for (var i = 0; i < xs.length; i++) {\n    if (f(xs[i], i, xs)) res.push(xs[i]);\n  }\n\n  return res;\n} // String.prototype.substr - negative index don't work in IE8\n\n\nvar substr = 'ab'.substr(-1) === 'b' ? function (str, start, len) {\n  return str.substr(start, len);\n} : function (str, start, len) {\n  if (start < 0) start = str.length + start;\n  return str.substr(start, len);\n};","var rightHandRule = require('./rhr');\n/**\n * @alias geojsonhint\n * @param {(string|object)} GeoJSON given as a string or as an object\n * @param {Object} options\n * @param {boolean} [options.noDuplicateMembers=true] forbid repeated\n * properties. This is only available for string input, becaused parsed\n * Objects cannot have duplicate properties.\n * @param {boolean} [options.precisionWarning=true] warn if GeoJSON contains\n * unnecessary coordinate precision.\n * @returns {Array<Object>} an array of errors\n */\n\n\nfunction hint(gj, options) {\n  var errors = [];\n  var precisionWarningCount = 0;\n  var maxPrecisionWarnings = 10;\n  var maxPrecision = 6;\n\n  function root(_) {\n    if ((!options || options.noDuplicateMembers !== false) && _.__duplicateProperties__) {\n      errors.push({\n        message: 'An object contained duplicate members, making parsing ambigous: ' + _.__duplicateProperties__.join(', '),\n        line: _.__line__\n      });\n    }\n\n    if (requiredProperty(_, 'type', 'string')) {\n      return;\n    }\n\n    if (!types[_.type]) {\n      var expectedType = typesLower[_.type.toLowerCase()];\n\n      if (expectedType !== undefined) {\n        errors.push({\n          message: 'Expected ' + expectedType + ' but got ' + _.type + ' (case sensitive)',\n          line: _.__line__\n        });\n      } else {\n        errors.push({\n          message: 'The type ' + _.type + ' is unknown',\n          line: _.__line__\n        });\n      }\n    } else if (_) {\n      types[_.type](_);\n    }\n  }\n\n  function everyIs(_, type) {\n    // make a single exception because typeof null === 'object'\n    return _.every(function (x) {\n      return x !== null && typeof x === type;\n    });\n  }\n\n  function requiredProperty(_, name, type) {\n    if (typeof _[name] === 'undefined') {\n      return errors.push({\n        message: '\"' + name + '\" member required',\n        line: _.__line__\n      });\n    } else if (type === 'array') {\n      if (!Array.isArray(_[name])) {\n        return errors.push({\n          message: '\"' + name + '\" member should be an array, but is an ' + typeof _[name] + ' instead',\n          line: _.__line__\n        });\n      }\n    } else if (type === 'object' && _[name] && _[name].constructor !== Object) {\n      return errors.push({\n        message: '\"' + name + '\" member should be ' + type + ', but is an ' + _[name].constructor.name + ' instead',\n        line: _.__line__\n      });\n    } else if (type && typeof _[name] !== type) {\n      return errors.push({\n        message: '\"' + name + '\" member should be ' + type + ', but is an ' + typeof _[name] + ' instead',\n        line: _.__line__\n      });\n    }\n  } // https://tools.ietf.org/html/rfc7946#section-3.3\n\n\n  function FeatureCollection(featureCollection) {\n    crs(featureCollection);\n    bbox(featureCollection);\n\n    if (featureCollection.properties !== undefined) {\n      errors.push({\n        message: 'FeatureCollection object cannot contain a \"properties\" member',\n        line: featureCollection.__line__\n      });\n    }\n\n    if (featureCollection.coordinates !== undefined) {\n      errors.push({\n        message: 'FeatureCollection object cannot contain a \"coordinates\" member',\n        line: featureCollection.__line__\n      });\n    }\n\n    if (!requiredProperty(featureCollection, 'features', 'array')) {\n      if (!everyIs(featureCollection.features, 'object')) {\n        return errors.push({\n          message: 'Every feature must be an object',\n          line: featureCollection.__line__\n        });\n      }\n\n      featureCollection.features.forEach(Feature);\n    }\n  } // https://tools.ietf.org/html/rfc7946#section-3.1.1\n\n\n  function position(_, line) {\n    if (!Array.isArray(_)) {\n      return errors.push({\n        message: 'position should be an array, is a ' + typeof _ + ' instead',\n        line: _.__line__ || line\n      });\n    }\n\n    if (_.length < 2) {\n      return errors.push({\n        message: 'position must have 2 or more elements',\n        line: _.__line__ || line\n      });\n    }\n\n    if (_.length > 3) {\n      return errors.push({\n        message: 'position should not have more than 3 elements',\n        level: 'message',\n        line: _.__line__ || line\n      });\n    }\n\n    if (!everyIs(_, 'number')) {\n      return errors.push({\n        message: 'each element in a position must be a number',\n        line: _.__line__ || line\n      });\n    }\n\n    if (options && options.precisionWarning) {\n      if (precisionWarningCount === maxPrecisionWarnings) {\n        precisionWarningCount += 1;\n        return errors.push({\n          message: 'truncated warnings: we\\'ve encountered coordinate precision warning ' + maxPrecisionWarnings + ' times, no more warnings will be reported',\n          level: 'message',\n          line: _.__line__ || line\n        });\n      } else if (precisionWarningCount < maxPrecisionWarnings) {\n        _.forEach(function (num) {\n          var precision = 0;\n          var decimalStr = String(num).split('.')[1];\n          if (decimalStr !== undefined) precision = decimalStr.length;\n\n          if (precision > maxPrecision) {\n            precisionWarningCount += 1;\n            return errors.push({\n              message: 'precision of coordinates should be reduced',\n              level: 'message',\n              line: _.__line__ || line\n            });\n          }\n        });\n      }\n    }\n  }\n\n  function positionArray(coords, type, depth, line) {\n    if (line === undefined && coords.__line__ !== undefined) {\n      line = coords.__line__;\n    }\n\n    if (depth === 0) {\n      return position(coords, line);\n    }\n\n    if (depth === 1 && type) {\n      if (type === 'LinearRing') {\n        if (!Array.isArray(coords[coords.length - 1])) {\n          errors.push({\n            message: 'a number was found where a coordinate array should have been found: this needs to be nested more deeply',\n            line: line\n          });\n          return true;\n        }\n\n        if (coords.length < 4) {\n          errors.push({\n            message: 'a LinearRing of coordinates needs to have four or more positions',\n            line: line\n          });\n        }\n\n        if (coords.length && (coords[coords.length - 1].length !== coords[0].length || !coords[coords.length - 1].every(function (pos, index) {\n          return coords[0][index] === pos;\n        }))) {\n          errors.push({\n            message: 'the first and last positions in a LinearRing of coordinates must be the same',\n            line: line\n          });\n          return true;\n        }\n      } else if (type === 'Line' && coords.length < 2) {\n        return errors.push({\n          message: 'a line needs to have two or more coordinates to be valid',\n          line: line\n        });\n      }\n    }\n\n    if (!Array.isArray(coords)) {\n      errors.push({\n        message: 'a number was found where a coordinate array should have been found: this needs to be nested more deeply',\n        line: line\n      });\n    } else {\n      var results = coords.map(function (c) {\n        return positionArray(c, type, depth - 1, c.__line__ || line);\n      });\n      return results.some(function (r) {\n        return r;\n      });\n    }\n  }\n\n  function crs(_) {\n    if (!_.crs) return;\n    var defaultCRSName = 'urn:ogc:def:crs:OGC:1.3:CRS84';\n\n    if (typeof _.crs === 'object' && _.crs.properties && _.crs.properties.name === defaultCRSName) {\n      errors.push({\n        message: 'old-style crs member is not recommended, this object is equivalent to the default and should be removed',\n        line: _.__line__\n      });\n    } else {\n      errors.push({\n        message: 'old-style crs member is not recommended',\n        line: _.__line__\n      });\n    }\n  }\n\n  function bbox(_) {\n    if (!_.bbox) {\n      return;\n    }\n\n    if (Array.isArray(_.bbox)) {\n      if (!everyIs(_.bbox, 'number')) {\n        errors.push({\n          message: 'each element in a bbox member must be a number',\n          line: _.bbox.__line__\n        });\n      }\n\n      if (!(_.bbox.length === 4 || _.bbox.length === 6)) {\n        errors.push({\n          message: 'bbox must contain 4 elements (for 2D) or 6 elements (for 3D)',\n          line: _.bbox.__line__\n        });\n      }\n\n      return errors.length;\n    }\n\n    errors.push({\n      message: 'bbox member must be an array of numbers, but is a ' + typeof _.bbox,\n      line: _.__line__\n    });\n  }\n\n  function geometrySemantics(geom) {\n    if (geom.properties !== undefined) {\n      errors.push({\n        message: 'geometry object cannot contain a \"properties\" member',\n        line: geom.__line__\n      });\n    }\n\n    if (geom.geometry !== undefined) {\n      errors.push({\n        message: 'geometry object cannot contain a \"geometry\" member',\n        line: geom.__line__\n      });\n    }\n\n    if (geom.features !== undefined) {\n      errors.push({\n        message: 'geometry object cannot contain a \"features\" member',\n        line: geom.__line__\n      });\n    }\n  } // https://tools.ietf.org/html/rfc7946#section-3.1.2\n\n\n  function Point(point) {\n    crs(point);\n    bbox(point);\n    geometrySemantics(point);\n\n    if (!requiredProperty(point, 'coordinates', 'array')) {\n      position(point.coordinates);\n    }\n  } // https://tools.ietf.org/html/rfc7946#section-3.1.6\n\n\n  function Polygon(polygon) {\n    crs(polygon);\n    bbox(polygon);\n\n    if (!requiredProperty(polygon, 'coordinates', 'array')) {\n      if (!positionArray(polygon.coordinates, 'LinearRing', 2)) {\n        rightHandRule(polygon, errors);\n      }\n    }\n  } // https://tools.ietf.org/html/rfc7946#section-3.1.7\n\n\n  function MultiPolygon(multiPolygon) {\n    crs(multiPolygon);\n    bbox(multiPolygon);\n\n    if (!requiredProperty(multiPolygon, 'coordinates', 'array')) {\n      if (!positionArray(multiPolygon.coordinates, 'LinearRing', 3)) {\n        rightHandRule(multiPolygon, errors);\n      }\n    }\n  } // https://tools.ietf.org/html/rfc7946#section-3.1.4\n\n\n  function LineString(lineString) {\n    crs(lineString);\n    bbox(lineString);\n\n    if (!requiredProperty(lineString, 'coordinates', 'array')) {\n      positionArray(lineString.coordinates, 'Line', 1);\n    }\n  } // https://tools.ietf.org/html/rfc7946#section-3.1.5\n\n\n  function MultiLineString(multiLineString) {\n    crs(multiLineString);\n    bbox(multiLineString);\n\n    if (!requiredProperty(multiLineString, 'coordinates', 'array')) {\n      positionArray(multiLineString.coordinates, 'Line', 2);\n    }\n  } // https://tools.ietf.org/html/rfc7946#section-3.1.3\n\n\n  function MultiPoint(multiPoint) {\n    crs(multiPoint);\n    bbox(multiPoint);\n\n    if (!requiredProperty(multiPoint, 'coordinates', 'array')) {\n      positionArray(multiPoint.coordinates, '', 1);\n    }\n  } // https://tools.ietf.org/html/rfc7946#section-3.1.8\n\n\n  function GeometryCollection(geometryCollection) {\n    crs(geometryCollection);\n    bbox(geometryCollection);\n\n    if (!requiredProperty(geometryCollection, 'geometries', 'array')) {\n      if (!everyIs(geometryCollection.geometries, 'object')) {\n        errors.push({\n          message: 'The geometries array in a GeometryCollection must contain only geometry objects',\n          line: geometryCollection.__line__\n        });\n      }\n\n      if (geometryCollection.geometries.length === 1) {\n        errors.push({\n          message: 'GeometryCollection with a single geometry should be avoided in favor of single part or a single object of multi-part type',\n          line: geometryCollection.geometries.__line__\n        });\n      }\n\n      geometryCollection.geometries.forEach(function (geometry) {\n        if (geometry) {\n          if (geometry.type === 'GeometryCollection') {\n            errors.push({\n              message: 'GeometryCollection should avoid nested geometry collections',\n              line: geometryCollection.geometries.__line__\n            });\n          }\n\n          root(geometry);\n        }\n      });\n    }\n  } // https://tools.ietf.org/html/rfc7946#section-3.2\n\n\n  function Feature(feature) {\n    crs(feature);\n    bbox(feature); // https://github.com/geojson/draft-geojson/blob/master/middle.mkd#feature-object\n\n    if (feature.id !== undefined && typeof feature.id !== 'string' && typeof feature.id !== 'number') {\n      errors.push({\n        message: 'Feature \"id\" member must have a string or number value',\n        line: feature.__line__\n      });\n    }\n\n    if (feature.features !== undefined) {\n      errors.push({\n        message: 'Feature object cannot contain a \"features\" member',\n        line: feature.__line__\n      });\n    }\n\n    if (feature.coordinates !== undefined) {\n      errors.push({\n        message: 'Feature object cannot contain a \"coordinates\" member',\n        line: feature.__line__\n      });\n    }\n\n    if (feature.type !== 'Feature') {\n      errors.push({\n        message: 'GeoJSON features must have a type=feature member',\n        line: feature.__line__\n      });\n    }\n\n    requiredProperty(feature, 'properties', 'object');\n\n    if (!requiredProperty(feature, 'geometry', 'object')) {\n      // https://tools.ietf.org/html/rfc7946#section-3.2\n      // tolerate null geometry\n      if (feature.geometry) root(feature.geometry);\n    }\n  }\n\n  var types = {\n    Point: Point,\n    Feature: Feature,\n    MultiPoint: MultiPoint,\n    LineString: LineString,\n    MultiLineString: MultiLineString,\n    FeatureCollection: FeatureCollection,\n    GeometryCollection: GeometryCollection,\n    Polygon: Polygon,\n    MultiPolygon: MultiPolygon\n  };\n  var typesLower = Object.keys(types).reduce(function (prev, curr) {\n    prev[curr.toLowerCase()] = curr;\n    return prev;\n  }, {});\n\n  if (typeof gj !== 'object' || gj === null || gj === undefined) {\n    errors.push({\n      message: 'The root of a GeoJSON object must be an object.',\n      line: 0\n    });\n    return errors;\n  }\n\n  root(gj);\n  errors.forEach(function (err) {\n    if ({}.hasOwnProperty.call(err, 'line') && err.line === undefined) {\n      delete err.line;\n    }\n  });\n  return errors;\n}\n\nmodule.exports.hint = hint;","function rad(x) {\n  return x * Math.PI / 180;\n}\n\nfunction isRingClockwise(coords) {\n  var area = 0;\n\n  if (coords.length > 2) {\n    var p1, p2;\n\n    for (var i = 0; i < coords.length - 1; i++) {\n      p1 = coords[i];\n      p2 = coords[i + 1];\n      area += rad(p2[0] - p1[0]) * (2 + Math.sin(rad(p1[1])) + Math.sin(rad(p2[1])));\n    }\n  }\n\n  return area >= 0;\n}\n\nfunction isPolyRHR(coords) {\n  if (coords && coords.length > 0) {\n    if (isRingClockwise(coords[0])) return false;\n    var interiorCoords = coords.slice(1, coords.length);\n    if (!interiorCoords.every(isRingClockwise)) return false;\n  }\n\n  return true;\n}\n\nfunction rightHandRule(geometry) {\n  if (geometry.type === 'Polygon') {\n    return isPolyRHR(geometry.coordinates);\n  } else if (geometry.type === 'MultiPolygon') {\n    return geometry.coordinates.every(isPolyRHR);\n  }\n}\n\nmodule.exports = function validateRightHandRule(geometry, errors) {\n  if (!rightHandRule(geometry)) {\n    errors.push({\n      message: 'Polygons and MultiPolygons should follow the right-hand rule',\n      level: 'message',\n      line: geometry.__line__\n    });\n  }\n};","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\n/* eslint-disable jsx-a11y/aria-role */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport ButtonBase from '../ButtonBase';\nimport IconButton from '../IconButton';\nimport withStyles from '../styles/withStyles';\nimport ExpansionPanelContext from '../ExpansionPanel/ExpansionPanelContext';\nexport var styles = function styles(theme) {\n  var transition = {\n    duration: theme.transitions.duration.shortest\n  };\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      display: 'flex',\n      minHeight: 8 * 6,\n      transition: theme.transitions.create(['min-height', 'background-color'], transition),\n      padding: '0 24px 0 24px',\n      '&:hover:not($disabled)': {\n        cursor: 'pointer'\n      },\n      '&$expanded': {\n        minHeight: 64\n      },\n      '&$focused': {\n        backgroundColor: theme.palette.grey[300]\n      },\n      '&$disabled': {\n        opacity: 0.38\n      }\n    },\n\n    /* Pseudo-class applied to the root element, children wrapper element and `IconButton` component if `expanded={true}`. */\n    expanded: {},\n\n    /* Pseudo-class applied to the root element if `focused={true}`. */\n    focused: {},\n\n    /* Pseudo-class applied to the root element if `disabled={true}`. */\n    disabled: {},\n\n    /* Styles applied to the children wrapper element. */\n    content: {\n      display: 'flex',\n      flexGrow: 1,\n      transition: theme.transitions.create(['margin'], transition),\n      margin: '12px 0',\n      '&$expanded': {\n        margin: '20px 0'\n      }\n    },\n\n    /* Styles applied to the `IconButton` component when `expandIcon` is supplied. */\n    expandIcon: {\n      transform: 'rotate(0deg)',\n      transition: theme.transitions.create('transform', transition),\n      '&:hover': {\n        // Disable the hover effect for the IconButton,\n        // because a hover effect should apply to the entire Expand button and\n        // not only to the IconButton.\n        backgroundColor: 'transparent'\n      },\n      '&$expanded': {\n        transform: 'rotate(180deg)'\n      }\n    }\n  };\n};\nvar ExpansionPanelSummary = React.forwardRef(function ExpansionPanelSummary(props, ref) {\n  var children = props.children,\n      classes = props.classes,\n      className = props.className,\n      expandIcon = props.expandIcon,\n      IconButtonProps = props.IconButtonProps,\n      onBlur = props.onBlur,\n      onClick = props.onClick,\n      onFocusVisible = props.onFocusVisible,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"expandIcon\", \"IconButtonProps\", \"onBlur\", \"onClick\", \"onFocusVisible\"]);\n\n  var _React$useState = React.useState(false),\n      focusedState = _React$useState[0],\n      setFocusedState = _React$useState[1];\n\n  var handleFocusVisible = function handleFocusVisible(event) {\n    setFocusedState(true);\n\n    if (onFocusVisible) {\n      onFocusVisible(event);\n    }\n  };\n\n  var handleBlur = function handleBlur(event) {\n    setFocusedState(false);\n\n    if (onBlur) {\n      onBlur(event);\n    }\n  };\n\n  var _React$useContext = React.useContext(ExpansionPanelContext),\n      _React$useContext$dis = _React$useContext.disabled,\n      disabled = _React$useContext$dis === void 0 ? false : _React$useContext$dis,\n      expanded = _React$useContext.expanded,\n      toggle = _React$useContext.toggle;\n\n  var handleChange = function handleChange(event) {\n    if (toggle) {\n      toggle(event);\n    }\n\n    if (onClick) {\n      onClick(event);\n    }\n  };\n\n  return React.createElement(ButtonBase, _extends({\n    focusRipple: false,\n    disableRipple: true,\n    disabled: disabled,\n    component: \"div\",\n    \"aria-expanded\": expanded,\n    className: clsx(classes.root, className, disabled && classes.disabled, expanded && classes.expanded, focusedState && classes.focused),\n    onFocusVisible: handleFocusVisible,\n    onBlur: handleBlur,\n    onClick: handleChange,\n    ref: ref\n  }, other), React.createElement(\"div\", {\n    className: clsx(classes.content, expanded && classes.expanded)\n  }, children), expandIcon && React.createElement(IconButton, _extends({\n    className: clsx(classes.expandIcon, expanded && classes.expanded),\n    edge: \"end\",\n    component: \"div\",\n    tabIndex: null,\n    role: null,\n    \"aria-hidden\": true\n  }, IconButtonProps), expandIcon));\n});\nprocess.env.NODE_ENV !== \"production\" ? ExpansionPanelSummary.propTypes = {\n  /**\n   * The content of the expansion panel summary.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The icon to display as the expand indicator.\n   */\n  expandIcon: PropTypes.node,\n\n  /**\n   * Props applied to the `IconButton` element wrapping the expand icon.\n   */\n  IconButtonProps: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  onBlur: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onClick: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onFocusVisible: PropTypes.func\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiExpansionPanelSummary'\n})(ExpansionPanelSummary);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    display: 'flex',\n    padding: '8px 24px 24px'\n  }\n};\nvar ExpansionPanelDetails = React.forwardRef(function ExpansionPanelDetails(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\"]);\n\n  return React.createElement(\"div\", _extends({\n    className: clsx(classes.root, className),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? ExpansionPanelDetails.propTypes = {\n  /**\n   * The content of the expansion panel details.\n   */\n  children: PropTypes.node.isRequired,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiExpansionPanelDetails'\n})(ExpansionPanelDetails);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: 8,\n    justifyContent: 'flex-end'\n  },\n\n  /* Styles applied to the root element if `disableSpacing={false}`. */\n  spacing: {\n    '& > :not(:first-child)': {\n      marginLeft: 8\n    }\n  }\n};\nvar ExpansionPanelActions = React.forwardRef(function ExpansionPanelActions(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$disableSpacing = props.disableSpacing,\n      disableSpacing = _props$disableSpacing === void 0 ? false : _props$disableSpacing,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"disableSpacing\"]);\n\n  return React.createElement(\"div\", _extends({\n    className: clsx(classes.root, className, !disableSpacing && classes.spacing),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? ExpansionPanelActions.propTypes = {\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node.isRequired,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * If `true`, the actions do not have additional margin.\n   */\n  disableSpacing: PropTypes.bool\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiExpansionPanelActions'\n})(ExpansionPanelActions);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React from 'react';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport { Transition } from 'react-transition-group';\nimport withStyles from '../styles/withStyles';\nimport { duration } from '../styles/transitions';\nimport { getTransitionProps } from '../transitions/utils';\nimport useTheme from '../styles/useTheme';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the container element. */\n    container: {\n      height: 0,\n      overflow: 'hidden',\n      transition: theme.transitions.create('height')\n    },\n\n    /* Styles applied to the container element when the transition has entered. */\n    entered: {\n      height: 'auto',\n      overflow: 'visible'\n    },\n\n    /* Styles applied to the container element when the transition has exited and `collapsedHeight` != 0px. */\n    hidden: {\n      visibility: 'hidden'\n    },\n\n    /* Styles applied to the outer wrapper element. */\n    wrapper: {\n      // Hack to get children with a negative margin to not falsify the height computation.\n      display: 'flex'\n    },\n\n    /* Styles applied to the inner wrapper element. */\n    wrapperInner: {\n      width: '100%'\n    }\n  };\n};\n/**\n * The Collapse transition is used by the\n * [Vertical Stepper](/components/steppers/#vertical-stepper) StepContent component.\n * It uses [react-transition-group](https://github.com/reactjs/react-transition-group) internally.\n */\n\nvar Collapse = React.forwardRef(function Collapse(props, ref) {\n  var children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$collapsedHeigh = props.collapsedHeight,\n      collapsedHeight = _props$collapsedHeigh === void 0 ? '0px' : _props$collapsedHeigh,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'div' : _props$component,\n      inProp = props.in,\n      onEnter = props.onEnter,\n      onEntered = props.onEntered,\n      onEntering = props.onEntering,\n      onExit = props.onExit,\n      onExiting = props.onExiting,\n      style = props.style,\n      _props$timeout = props.timeout,\n      timeout = _props$timeout === void 0 ? duration.standard : _props$timeout,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"collapsedHeight\", \"component\", \"in\", \"onEnter\", \"onEntered\", \"onEntering\", \"onExit\", \"onExiting\", \"style\", \"timeout\"]);\n\n  var theme = useTheme();\n  var timer = React.useRef();\n  var wrapperRef = React.useRef(null);\n  var autoTransitionDuration = React.useRef();\n  React.useEffect(function () {\n    return function () {\n      clearTimeout(timer.current);\n    };\n  }, []);\n\n  var handleEnter = function handleEnter(node, isAppearing) {\n    node.style.height = collapsedHeight;\n\n    if (onEnter) {\n      onEnter(node, isAppearing);\n    }\n  };\n\n  var handleEntering = function handleEntering(node, isAppearing) {\n    var wrapperHeight = wrapperRef.current ? wrapperRef.current.clientHeight : 0;\n\n    var _getTransitionProps = getTransitionProps({\n      style: style,\n      timeout: timeout\n    }, {\n      mode: 'enter'\n    }),\n        transitionDuration = _getTransitionProps.duration;\n\n    if (timeout === 'auto') {\n      var duration2 = theme.transitions.getAutoHeightDuration(wrapperHeight);\n      node.style.transitionDuration = \"\".concat(duration2, \"ms\");\n      autoTransitionDuration.current = duration2;\n    } else {\n      node.style.transitionDuration = typeof transitionDuration === 'string' ? transitionDuration : \"\".concat(transitionDuration, \"ms\");\n    }\n\n    node.style.height = \"\".concat(wrapperHeight, \"px\");\n\n    if (onEntering) {\n      onEntering(node, isAppearing);\n    }\n  };\n\n  var handleEntered = function handleEntered(node, isAppearing) {\n    node.style.height = 'auto';\n\n    if (onEntered) {\n      onEntered(node, isAppearing);\n    }\n  };\n\n  var handleExit = function handleExit(node) {\n    var wrapperHeight = wrapperRef.current ? wrapperRef.current.clientHeight : 0;\n    node.style.height = \"\".concat(wrapperHeight, \"px\");\n\n    if (onExit) {\n      onExit(node);\n    }\n  };\n\n  var handleExiting = function handleExiting(node) {\n    var wrapperHeight = wrapperRef.current ? wrapperRef.current.clientHeight : 0;\n\n    var _getTransitionProps2 = getTransitionProps({\n      style: style,\n      timeout: timeout\n    }, {\n      mode: 'exit'\n    }),\n        transitionDuration = _getTransitionProps2.duration;\n\n    if (timeout === 'auto') {\n      var duration2 = theme.transitions.getAutoHeightDuration(wrapperHeight);\n      node.style.transitionDuration = \"\".concat(duration2, \"ms\");\n      autoTransitionDuration.current = duration2;\n    } else {\n      node.style.transitionDuration = typeof transitionDuration === 'string' ? transitionDuration : \"\".concat(transitionDuration, \"ms\");\n    }\n\n    node.style.height = collapsedHeight;\n\n    if (onExiting) {\n      onExiting(node);\n    }\n  };\n\n  var addEndListener = function addEndListener(_, next) {\n    if (timeout === 'auto') {\n      timer.current = setTimeout(next, autoTransitionDuration.current || 0);\n    }\n  };\n\n  return React.createElement(Transition, _extends({\n    in: inProp,\n    onEnter: handleEnter,\n    onEntered: handleEntered,\n    onEntering: handleEntering,\n    onExit: handleExit,\n    onExiting: handleExiting,\n    addEndListener: addEndListener,\n    timeout: timeout === 'auto' ? null : timeout\n  }, other), function (state, childProps) {\n    return React.createElement(Component, _extends({\n      className: clsx(classes.container, className, {\n        entered: classes.entered,\n        exited: !inProp && collapsedHeight === '0px' && classes.hidden\n      }[state]),\n      style: _extends({\n        minHeight: collapsedHeight\n      }, style),\n      ref: ref\n    }, childProps), React.createElement(\"div\", {\n      className: classes.wrapper,\n      ref: wrapperRef\n    }, React.createElement(\"div\", {\n      className: classes.wrapperInner\n    }, children)));\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? Collapse.propTypes = {\n  /**\n   * The content node to be collapsed.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The height of the container when collapsed.\n   */\n  collapsedHeight: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a DOM element or a component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * If `true`, the component will transition in.\n   */\n  in: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  onEnter: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onEntered: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onEntering: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onExit: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onExiting: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  style: PropTypes.object,\n\n  /**\n   * The duration for the transition, in milliseconds.\n   * You may specify a single timeout for all transitions, or individually with an object.\n   *\n   * Set to 'auto' to automatically calculate transition time based on height.\n   */\n  timeout: PropTypes.oneOfType([PropTypes.number, PropTypes.shape({\n    enter: PropTypes.number,\n    exit: PropTypes.number\n  }), PropTypes.oneOf(['auto'])])\n} : void 0;\nCollapse.muiSupportAuto = true;\nexport default withStyles(styles, {\n  name: 'MuiCollapse'\n})(Collapse);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _toArray from \"@babel/runtime/helpers/esm/toArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { chainPropTypes } from '@material-ui/utils';\nimport Collapse from '../Collapse';\nimport Paper from '../Paper';\nimport withStyles from '../styles/withStyles';\nimport ExpansionPanelContext from './ExpansionPanelContext';\nexport var styles = function styles(theme) {\n  var transition = {\n    duration: theme.transitions.duration.shortest\n  };\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      position: 'relative',\n      transition: theme.transitions.create(['margin'], transition),\n      '&:before': {\n        position: 'absolute',\n        left: 0,\n        top: -1,\n        right: 0,\n        height: 1,\n        content: '\"\"',\n        opacity: 1,\n        backgroundColor: theme.palette.divider,\n        transition: theme.transitions.create(['opacity', 'background-color'], transition)\n      },\n      '&:first-child': {\n        '&:before': {\n          display: 'none'\n        }\n      },\n      '&$expanded': {\n        margin: '16px 0',\n        '&:first-child': {\n          marginTop: 0\n        },\n        '&:last-child': {\n          marginBottom: 0\n        },\n        '&:before': {\n          opacity: 0\n        }\n      },\n      '&$expanded + &': {\n        '&:before': {\n          display: 'none'\n        }\n      },\n      '&$disabled': {\n        backgroundColor: theme.palette.action.disabledBackground\n      }\n    },\n\n    /* Styles applied to the root element if `square={false}`. */\n    rounded: {\n      borderRadius: 0,\n      '&:first-child': {\n        borderTopLeftRadius: theme.shape.borderRadius,\n        borderTopRightRadius: theme.shape.borderRadius\n      },\n      '&:last-child': {\n        borderBottomLeftRadius: theme.shape.borderRadius,\n        borderBottomRightRadius: theme.shape.borderRadius,\n        // Fix a rendering issue on Edge\n        '@supports (-ms-ime-align: auto)': {\n          borderBottomLeftRadius: 0,\n          borderBottomRightRadius: 0\n        }\n      }\n    },\n\n    /* Styles applied to the root element if `expanded={true}`. */\n    expanded: {},\n\n    /* Styles applied to the root element if `disabled={true}`. */\n    disabled: {}\n  };\n};\nvar ExpansionPanel = React.forwardRef(function ExpansionPanel(props, ref) {\n  var childrenProp = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$defaultExpande = props.defaultExpanded,\n      defaultExpanded = _props$defaultExpande === void 0 ? false : _props$defaultExpande,\n      _props$disabled = props.disabled,\n      disabled = _props$disabled === void 0 ? false : _props$disabled,\n      expandedProp = props.expanded,\n      onChange = props.onChange,\n      _props$square = props.square,\n      square = _props$square === void 0 ? false : _props$square,\n      _props$TransitionComp = props.TransitionComponent,\n      TransitionComponent = _props$TransitionComp === void 0 ? Collapse : _props$TransitionComp,\n      TransitionProps = props.TransitionProps,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"defaultExpanded\", \"disabled\", \"expanded\", \"onChange\", \"square\", \"TransitionComponent\", \"TransitionProps\"]);\n\n  var _React$useRef = React.useRef(expandedProp != null),\n      isControlled = _React$useRef.current;\n\n  var _React$useState = React.useState(defaultExpanded),\n      expandedState = _React$useState[0],\n      setExpandedState = _React$useState[1];\n\n  var expanded = isControlled ? expandedProp : expandedState;\n\n  if (process.env.NODE_ENV !== 'production') {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useEffect(function () {\n      if (isControlled !== (expandedProp != null)) {\n        console.error([\"Material-UI: A component is changing \".concat(isControlled ? 'a ' : 'an un', \"controlled ExpansionPanel to be \").concat(isControlled ? 'un' : '', \"controlled.\"), 'Elements should not switch from uncontrolled to controlled (or vice versa).', 'Decide between using a controlled or uncontrolled ExpansionPanel ' + 'element for the lifetime of the component.', 'More info: https://fb.me/react-controlled-components'].join('\\n'));\n      }\n    }, [expandedProp, isControlled]);\n  }\n\n  var handleChange = React.useCallback(function (event) {\n    if (!isControlled) {\n      setExpandedState(!expanded);\n    }\n\n    if (onChange) {\n      onChange(event, !expanded);\n    }\n  }, [expanded, isControlled, onChange]);\n\n  var _React$Children$toArr = React.Children.toArray(childrenProp),\n      _React$Children$toArr2 = _toArray(_React$Children$toArr),\n      summary = _React$Children$toArr2[0],\n      children = _React$Children$toArr2.slice(1);\n\n  var contextValue = React.useMemo(function () {\n    return {\n      expanded: expanded,\n      disabled: disabled,\n      toggle: handleChange\n    };\n  }, [expanded, disabled, handleChange]);\n  return React.createElement(Paper, _extends({\n    className: clsx(classes.root, className, expanded && classes.expanded, disabled && classes.disabled, !square && classes.rounded),\n    ref: ref,\n    square: square\n  }, other), React.createElement(ExpansionPanelContext.Provider, {\n    value: contextValue\n  }, summary), React.createElement(TransitionComponent, _extends({\n    in: expanded,\n    timeout: \"auto\"\n  }, TransitionProps), React.createElement(\"div\", {\n    \"aria-labelledby\": summary.props.id,\n    id: summary.props['aria-controls'],\n    role: \"region\"\n  }, children)));\n});\nprocess.env.NODE_ENV !== \"production\" ? ExpansionPanel.propTypes = {\n  /**\n   * The content of the expansion panel.\n   */\n  children: chainPropTypes(PropTypes.node.isRequired, function (props) {\n    var summary = React.Children.toArray(props.children)[0];\n\n    if (summary.type === React.Fragment) {\n      return new Error(\"Material-UI: the ExpansionPanel doesn't accept a Fragment as a child. \" + 'Consider providing an array instead.');\n    }\n\n    if (!React.isValidElement(summary)) {\n      return new Error('Material-UI: expected the first child of ExpansionPanel to be a valid element.');\n    }\n\n    return null;\n  }),\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * If `true`, expands the panel by default.\n   */\n  defaultExpanded: PropTypes.bool,\n\n  /**\n   * If `true`, the panel will be displayed in a disabled state.\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * If `true`, expands the panel, otherwise collapse it.\n   * Setting this prop enables control over the panel.\n   */\n  expanded: PropTypes.bool,\n\n  /**\n   * Callback fired when the expand/collapse state is changed.\n   *\n   * @param {object} event The event source of the callback.\n   * @param {boolean} expanded The `expanded` state of the panel.\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  square: PropTypes.bool,\n\n  /**\n   * The component used for the collapse effect.\n   */\n  TransitionComponent: PropTypes.elementType,\n\n  /**\n   * Props applied to the `Transition` element.\n   */\n  TransitionProps: PropTypes.object\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiExpansionPanel'\n})(ExpansionPanel);","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _toArray(arr) {\n  return arrayWithHoles(arr) || iterableToArray(arr) || nonIterableRest();\n}"],"sourceRoot":""}